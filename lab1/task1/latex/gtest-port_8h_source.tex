\doxysection{gtest-\/port.h}
\hypertarget{gtest-port_8h_source}{}\label{gtest-port_8h_source}\index{googletest/googletest/include/gtest/internal/gtest-\/port.h@{googletest/googletest/include/gtest/internal/gtest-\/port.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2005,\ Google\ Inc.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ All\ rights\ reserved.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Redistribution\ and\ use\ in\ source\ and\ binary\ forms,\ with\ or\ without}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ modification,\ are\ permitted\ provided\ that\ the\ following\ conditions\ are}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ met:}}
\DoxyCodeLine{00007\ \textcolor{comment}{//}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ \ \ \ \ *\ Redistributions\ of\ source\ code\ must\ retain\ the\ above\ copyright}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ notice,\ this\ list\ of\ conditions\ and\ the\ following\ disclaimer.}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ \ \ \ \ *\ Redistributions\ in\ binary\ form\ must\ reproduce\ the\ above}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ copyright\ notice,\ this\ list\ of\ conditions\ and\ the\ following\ disclaimer}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ in\ the\ documentation\ and/or\ other\ materials\ provided\ with\ the}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ distribution.}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ \ \ \ \ *\ Neither\ the\ name\ of\ Google\ Inc.\ nor\ the\ names\ of\ its}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ contributors\ may\ be\ used\ to\ endorse\ or\ promote\ products\ derived\ from}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ this\ software\ without\ specific\ prior\ written\ permission.}}
\DoxyCodeLine{00017\ \textcolor{comment}{//}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ THIS\ SOFTWARE\ IS\ PROVIDED\ BY\ THE\ COPYRIGHT\ HOLDERS\ AND\ CONTRIBUTORS}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ "{}AS\ IS"{}\ AND\ ANY\ EXPRESS\ OR\ IMPLIED\ WARRANTIES,\ INCLUDING,\ BUT\ NOT}}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ LIMITED\ TO,\ THE\ IMPLIED\ WARRANTIES\ OF\ MERCHANTABILITY\ AND\ FITNESS\ FOR}}
\DoxyCodeLine{00021\ \textcolor{comment}{//\ A\ PARTICULAR\ PURPOSE\ ARE\ DISCLAIMED.\ IN\ NO\ EVENT\ SHALL\ THE\ COPYRIGHT}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ OWNER\ OR\ CONTRIBUTORS\ BE\ LIABLE\ FOR\ ANY\ DIRECT,\ INDIRECT,\ INCIDENTAL,}}
\DoxyCodeLine{00023\ \textcolor{comment}{//\ SPECIAL,\ EXEMPLARY,\ OR\ CONSEQUENTIAL\ DAMAGES\ (INCLUDING,\ BUT\ NOT}}
\DoxyCodeLine{00024\ \textcolor{comment}{//\ LIMITED\ TO,\ PROCUREMENT\ OF\ SUBSTITUTE\ GOODS\ OR\ SERVICES;\ LOSS\ OF\ USE,}}
\DoxyCodeLine{00025\ \textcolor{comment}{//\ DATA,\ OR\ PROFITS;\ OR\ BUSINESS\ INTERRUPTION)\ HOWEVER\ CAUSED\ AND\ ON\ ANY}}
\DoxyCodeLine{00026\ \textcolor{comment}{//\ THEORY\ OF\ LIABILITY,\ WHETHER\ IN\ CONTRACT,\ STRICT\ LIABILITY,\ OR\ TORT}}
\DoxyCodeLine{00027\ \textcolor{comment}{//\ (INCLUDING\ NEGLIGENCE\ OR\ OTHERWISE)\ ARISING\ IN\ ANY\ WAY\ OUT\ OF\ THE\ USE}}
\DoxyCodeLine{00028\ \textcolor{comment}{//\ OF\ THIS\ SOFTWARE,\ EVEN\ IF\ ADVISED\ OF\ THE\ POSSIBILITY\ OF\ SUCH\ DAMAGE.}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{comment}{//\ Low-\/level\ types\ and\ utilities\ for\ porting\ Google\ Test\ to\ various}}
\DoxyCodeLine{00031\ \textcolor{comment}{//\ platforms.\ \ All\ macros\ ending\ with\ \_\ and\ symbols\ defined\ in\ an}}
\DoxyCodeLine{00032\ \textcolor{comment}{//\ internal\ namespace\ are\ subject\ to\ change\ without\ notice.\ \ Code}}
\DoxyCodeLine{00033\ \textcolor{comment}{//\ outside\ Google\ Test\ MUST\ NOT\ USE\ THEM\ DIRECTLY.\ \ Macros\ that\ don't}}
\DoxyCodeLine{00034\ \textcolor{comment}{//\ end\ with\ \_\ are\ part\ of\ Google\ Test's\ public\ API\ and\ can\ be\ used\ by}}
\DoxyCodeLine{00035\ \textcolor{comment}{//\ code\ outside\ Google\ Test.}}
\DoxyCodeLine{00036\ \textcolor{comment}{//}}
\DoxyCodeLine{00037\ \textcolor{comment}{//\ This\ file\ is\ fundamental\ to\ Google\ Test.\ \ All\ other\ Google\ Test\ source}}
\DoxyCodeLine{00038\ \textcolor{comment}{//\ files\ are\ expected\ to\ \#include\ this.\ \ Therefore,\ it\ cannot\ \#include}}
\DoxyCodeLine{00039\ \textcolor{comment}{//\ any\ other\ Google\ Test\ header.}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{comment}{//\ IWYU\ pragma:\ private,\ include\ "{}gtest/gtest.h"{}}}
\DoxyCodeLine{00042\ \textcolor{comment}{//\ IWYU\ pragma:\ friend\ gtest/.*}}
\DoxyCodeLine{00043\ \textcolor{comment}{//\ IWYU\ pragma:\ friend\ gmock/.*}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#ifndef\ GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#define\ GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{comment}{//\ Environment-\/describing\ macros}}
\DoxyCodeLine{00049\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00050\ \textcolor{comment}{//}}
\DoxyCodeLine{00051\ \textcolor{comment}{//\ Google\ Test\ can\ be\ used\ in\ many\ different\ environments.\ \ Macros\ in}}
\DoxyCodeLine{00052\ \textcolor{comment}{//\ this\ section\ tell\ Google\ Test\ what\ kind\ of\ environment\ it\ is\ being}}
\DoxyCodeLine{00053\ \textcolor{comment}{//\ used\ in,\ such\ that\ Google\ Test\ can\ provide\ environment-\/specific}}
\DoxyCodeLine{00054\ \textcolor{comment}{//\ features\ and\ implementations.}}
\DoxyCodeLine{00055\ \textcolor{comment}{//}}
\DoxyCodeLine{00056\ \textcolor{comment}{//\ Google\ Test\ tries\ to\ automatically\ detect\ the\ properties\ of\ its}}
\DoxyCodeLine{00057\ \textcolor{comment}{//\ environment,\ so\ users\ usually\ don't\ need\ to\ worry\ about\ these}}
\DoxyCodeLine{00058\ \textcolor{comment}{//\ macros.\ \ However,\ the\ automatic\ detection\ is\ not\ perfect.}}
\DoxyCodeLine{00059\ \textcolor{comment}{//\ Sometimes\ it's\ necessary\ for\ a\ user\ to\ define\ some\ of\ the\ following}}
\DoxyCodeLine{00060\ \textcolor{comment}{//\ macros\ in\ the\ build\ script\ to\ override\ Google\ Test's\ decisions.}}
\DoxyCodeLine{00061\ \textcolor{comment}{//}}
\DoxyCodeLine{00062\ \textcolor{comment}{//\ If\ the\ user\ doesn't\ define\ a\ macro\ in\ the\ list,\ Google\ Test\ will}}
\DoxyCodeLine{00063\ \textcolor{comment}{//\ provide\ a\ default\ definition.\ \ After\ this\ header\ is\ \#included,\ all}}
\DoxyCodeLine{00064\ \textcolor{comment}{//\ macros\ in\ this\ list\ will\ be\ defined\ to\ either\ 1\ or\ 0.}}
\DoxyCodeLine{00065\ \textcolor{comment}{//}}
\DoxyCodeLine{00066\ \textcolor{comment}{//\ Notes\ to\ maintainers:}}
\DoxyCodeLine{00067\ \textcolor{comment}{//\ \ \ -\/\ Each\ macro\ here\ is\ a\ user-\/tweakable\ knob;\ do\ not\ grow\ the\ list}}
\DoxyCodeLine{00068\ \textcolor{comment}{//\ \ \ \ \ lightly.}}
\DoxyCodeLine{00069\ \textcolor{comment}{//\ \ \ -\/\ Use\ \#if\ to\ key\ off\ these\ macros.\ \ Don't\ use\ \#ifdef\ or\ "{}\#if}}
\DoxyCodeLine{00070\ \textcolor{comment}{//\ \ \ \ \ defined(...)"{},\ which\ will\ not\ work\ as\ these\ macros\ are\ ALWAYS}}
\DoxyCodeLine{00071\ \textcolor{comment}{//\ \ \ \ \ defined.}}
\DoxyCodeLine{00072\ \textcolor{comment}{//}}
\DoxyCodeLine{00073\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_CLONE\ \ \ \ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that\ clone(2)}}
\DoxyCodeLine{00074\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is/isn't\ available.}}
\DoxyCodeLine{00075\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_EXCEPTIONS\ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that\ exceptions}}
\DoxyCodeLine{00076\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ are\ enabled.}}
\DoxyCodeLine{00077\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_POSIX\_RE\ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that\ POSIX\ regular}}
\DoxyCodeLine{00078\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expressions\ are/aren't\ available.}}
\DoxyCodeLine{00079\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_PTHREAD\ \ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that\ <pthread.h>}}
\DoxyCodeLine{00080\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is/isn't\ available.}}
\DoxyCodeLine{00081\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_RTTI\ \ \ \ \ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that\ RTTI\ is/isn't}}
\DoxyCodeLine{00082\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ enabled.}}
\DoxyCodeLine{00083\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_STD\_WSTRING\ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that}}
\DoxyCodeLine{00084\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::wstring\ does/doesn't\ work\ (Google\ Test\ can}}
\DoxyCodeLine{00085\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ be\ used\ where\ std::wstring\ is\ unavailable).}}
\DoxyCodeLine{00086\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_FILE\_SYSTEM\ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ whether\ or\ not\ a}}
\DoxyCodeLine{00087\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ file\ system\ is/isn't\ available.}}
\DoxyCodeLine{00088\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_SEH\ \ \ \ \ \ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ whether\ the}}
\DoxyCodeLine{00089\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ compiler\ supports\ Microsoft's\ "{}Structured}}
\DoxyCodeLine{00090\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Exception\ Handling"{}.}}
\DoxyCodeLine{00091\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{00092\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ whether\ the}}
\DoxyCodeLine{00093\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ platform\ supports\ I/O\ stream\ redirection\ using}}
\DoxyCodeLine{00094\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dup()\ and\ dup2().}}
\DoxyCodeLine{00095\ \textcolor{comment}{//\ \ \ GTEST\_LINKED\_AS\_SHARED\_LIBRARY}}
\DoxyCodeLine{00096\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ Define\ to\ 1\ when\ compiling\ tests\ that\ use}}
\DoxyCodeLine{00097\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Google\ Test\ as\ a\ shared\ library\ (known\ as}}
\DoxyCodeLine{00098\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DLL\ on\ Windows).}}
\DoxyCodeLine{00099\ \textcolor{comment}{//\ \ \ GTEST\_CREATE\_SHARED\_LIBRARY}}
\DoxyCodeLine{00100\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ Define\ to\ 1\ when\ compiling\ Google\ Test\ itself}}
\DoxyCodeLine{00101\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ as\ a\ shared\ library.}}
\DoxyCodeLine{00102\ \textcolor{comment}{//\ \ \ GTEST\_DEFAULT\_DEATH\_TEST\_STYLE}}
\DoxyCodeLine{00103\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ The\ default\ value\ of\ -\/-\/gtest\_death\_test\_style.}}
\DoxyCodeLine{00104\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ The\ legacy\ default\ has\ been\ "{}fast"{}\ in\ the\ open}}
\DoxyCodeLine{00105\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ source\ version\ since\ 2008.\ The\ recommended\ value}}
\DoxyCodeLine{00106\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\ "{}threadsafe"{},\ and\ can\ be\ set\ in}}
\DoxyCodeLine{00107\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ custom/gtest-\/port.h.}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \textcolor{comment}{//\ Platform-\/indicating\ macros}}
\DoxyCodeLine{00110\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00111\ \textcolor{comment}{//}}
\DoxyCodeLine{00112\ \textcolor{comment}{//\ Macros\ indicating\ the\ platform\ on\ which\ Google\ Test\ is\ being\ used}}
\DoxyCodeLine{00113\ \textcolor{comment}{//\ (a\ macro\ is\ defined\ to\ 1\ if\ compiled\ on\ the\ given\ platform;}}
\DoxyCodeLine{00114\ \textcolor{comment}{//\ otherwise\ UNDEFINED\ -\/-\/\ it's\ never\ defined\ to\ 0.).\ \ Google\ Test}}
\DoxyCodeLine{00115\ \textcolor{comment}{//\ defines\ these\ macros\ automatically.\ \ Code\ outside\ Google\ Test\ MUST}}
\DoxyCodeLine{00116\ \textcolor{comment}{//\ NOT\ define\ them.}}
\DoxyCodeLine{00117\ \textcolor{comment}{//}}
\DoxyCodeLine{00118\ \textcolor{comment}{//\ \ \ GTEST\_OS\_AIX\ \ \ \ \ \ -\/\ IBM\ AIX}}
\DoxyCodeLine{00119\ \textcolor{comment}{//\ \ \ GTEST\_OS\_CYGWIN\ \ \ -\/\ Cygwin}}
\DoxyCodeLine{00120\ \textcolor{comment}{//\ \ \ GTEST\_OS\_DRAGONFLY\ -\/\ DragonFlyBSD}}
\DoxyCodeLine{00121\ \textcolor{comment}{//\ \ \ GTEST\_OS\_FREEBSD\ \ -\/\ FreeBSD}}
\DoxyCodeLine{00122\ \textcolor{comment}{//\ \ \ GTEST\_OS\_FUCHSIA\ \ -\/\ Fuchsia}}
\DoxyCodeLine{00123\ \textcolor{comment}{//\ \ \ GTEST\_OS\_GNU\_HURD\ -\/\ GNU/Hurd}}
\DoxyCodeLine{00124\ \textcolor{comment}{//\ \ \ GTEST\_OS\_GNU\_KFREEBSD\ -\/\ GNU/kFreeBSD}}
\DoxyCodeLine{00125\ \textcolor{comment}{//\ \ \ GTEST\_OS\_HAIKU\ \ \ \ -\/\ Haiku}}
\DoxyCodeLine{00126\ \textcolor{comment}{//\ \ \ GTEST\_OS\_HPUX\ \ \ \ \ -\/\ HP-\/UX}}
\DoxyCodeLine{00127\ \textcolor{comment}{//\ \ \ GTEST\_OS\_LINUX\ \ \ \ -\/\ Linux}}
\DoxyCodeLine{00128\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_LINUX\_ANDROID\ -\/\ Google\ Android}}
\DoxyCodeLine{00129\ \textcolor{comment}{//\ \ \ GTEST\_OS\_MAC\ \ \ \ \ \ -\/\ Mac\ OS\ X}}
\DoxyCodeLine{00130\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_IOS\ \ \ \ -\/\ iOS}}
\DoxyCodeLine{00131\ \textcolor{comment}{//\ \ \ GTEST\_OS\_NACL\ \ \ \ \ -\/\ Google\ Native\ Client\ (NaCl)}}
\DoxyCodeLine{00132\ \textcolor{comment}{//\ \ \ GTEST\_OS\_NETBSD\ \ \ -\/\ NetBSD}}
\DoxyCodeLine{00133\ \textcolor{comment}{//\ \ \ GTEST\_OS\_OPENBSD\ \ -\/\ OpenBSD}}
\DoxyCodeLine{00134\ \textcolor{comment}{//\ \ \ GTEST\_OS\_OS2\ \ \ \ \ \ -\/\ OS/2}}
\DoxyCodeLine{00135\ \textcolor{comment}{//\ \ \ GTEST\_OS\_QNX\ \ \ \ \ \ -\/\ QNX}}
\DoxyCodeLine{00136\ \textcolor{comment}{//\ \ \ GTEST\_OS\_SOLARIS\ \ -\/\ Sun\ Solaris}}
\DoxyCodeLine{00137\ \textcolor{comment}{//\ \ \ GTEST\_OS\_WINDOWS\ \ -\/\ Windows\ (Desktop,\ MinGW,\ or\ Mobile)}}
\DoxyCodeLine{00138\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_WINDOWS\_DESKTOP\ \ -\/\ Windows\ Desktop}}
\DoxyCodeLine{00139\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_WINDOWS\_MINGW\ \ \ \ -\/\ MinGW}}
\DoxyCodeLine{00140\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_WINDOWS\_MOBILE\ \ \ -\/\ Windows\ Mobile}}
\DoxyCodeLine{00141\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_WINDOWS\_PHONE\ \ \ \ -\/\ Windows\ Phone}}
\DoxyCodeLine{00142\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_WINDOWS\_RT\ \ \ \ \ \ \ -\/\ Windows\ Store\ App/WinRT}}
\DoxyCodeLine{00143\ \textcolor{comment}{//\ \ \ GTEST\_OS\_ZOS\ \ \ \ \ \ -\/\ z/OS}}
\DoxyCodeLine{00144\ \textcolor{comment}{//}}
\DoxyCodeLine{00145\ \textcolor{comment}{//\ Among\ the\ platforms,\ Cygwin,\ Linux,\ Mac\ OS\ X,\ and\ Windows\ have\ the}}
\DoxyCodeLine{00146\ \textcolor{comment}{//\ most\ stable\ support.\ \ Since\ core\ members\ of\ the\ Google\ Test\ project}}
\DoxyCodeLine{00147\ \textcolor{comment}{//\ don't\ have\ access\ to\ other\ platforms,\ support\ for\ them\ may\ be\ less}}
\DoxyCodeLine{00148\ \textcolor{comment}{//\ stable.\ \ If\ you\ notice\ any\ problems\ on\ your\ platform,\ please\ notify}}
\DoxyCodeLine{00149\ \textcolor{comment}{//\ googletestframework@googlegroups.com\ (patches\ for\ fixing\ them\ are}}
\DoxyCodeLine{00150\ \textcolor{comment}{//\ even\ more\ welcome!).}}
\DoxyCodeLine{00151\ \textcolor{comment}{//}}
\DoxyCodeLine{00152\ \textcolor{comment}{//\ It\ is\ possible\ that\ none\ of\ the\ GTEST\_OS\_*\ macros\ are\ defined.}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \textcolor{comment}{//\ Feature-\/indicating\ macros}}
\DoxyCodeLine{00155\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00156\ \textcolor{comment}{//}}
\DoxyCodeLine{00157\ \textcolor{comment}{//\ Macros\ indicating\ which\ Google\ Test\ features\ are\ available\ (a\ macro}}
\DoxyCodeLine{00158\ \textcolor{comment}{//\ is\ defined\ to\ 1\ if\ the\ corresponding\ feature\ is\ supported;}}
\DoxyCodeLine{00159\ \textcolor{comment}{//\ otherwise\ UNDEFINED\ -\/-\/\ it's\ never\ defined\ to\ 0.).\ \ Google\ Test}}
\DoxyCodeLine{00160\ \textcolor{comment}{//\ defines\ these\ macros\ automatically.\ \ Code\ outside\ Google\ Test\ MUST}}
\DoxyCodeLine{00161\ \textcolor{comment}{//\ NOT\ define\ them.}}
\DoxyCodeLine{00162\ \textcolor{comment}{//}}
\DoxyCodeLine{00163\ \textcolor{comment}{//\ These\ macros\ are\ public\ so\ that\ portable\ tests\ can\ be\ written.}}
\DoxyCodeLine{00164\ \textcolor{comment}{//\ Such\ tests\ typically\ surround\ code\ using\ a\ feature\ with\ an\ \#ifdef}}
\DoxyCodeLine{00165\ \textcolor{comment}{//\ which\ controls\ that\ code.\ \ For\ example:}}
\DoxyCodeLine{00166\ \textcolor{comment}{//}}
\DoxyCodeLine{00167\ \textcolor{comment}{//\ \#ifdef\ GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{00168\ \textcolor{comment}{//\ \ \ EXPECT\_DEATH(DoSomethingDeadly());}}
\DoxyCodeLine{00169\ \textcolor{comment}{//\ \#endif}}
\DoxyCodeLine{00170\ \textcolor{comment}{//}}
\DoxyCodeLine{00171\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_DEATH\_TEST\ \ \ -\/\ death\ tests}}
\DoxyCodeLine{00172\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_TYPED\_TEST\ \ \ -\/\ typed\ tests}}
\DoxyCodeLine{00173\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_TYPED\_TEST\_P\ -\/\ type-\/parameterized\ tests}}
\DoxyCodeLine{00174\ \textcolor{comment}{//\ \ \ GTEST\_IS\_THREADSAFE\ \ \ \ -\/\ Google\ Test\ is\ thread-\/safe.}}
\DoxyCodeLine{00175\ \textcolor{comment}{//\ \ \ GTEST\_USES\_RE2\ \ \ \ \ \ \ \ \ -\/\ the\ RE2\ regular\ expression\ library\ is\ used}}
\DoxyCodeLine{00176\ \textcolor{comment}{//\ \ \ GTEST\_USES\_POSIX\_RE\ \ \ \ -\/\ enhanced\ POSIX\ regex\ is\ used.\ Do\ not\ confuse\ with}}
\DoxyCodeLine{00177\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GTEST\_HAS\_POSIX\_RE\ (see\ above)\ which\ users\ can}}
\DoxyCodeLine{00178\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ define\ themselves.}}
\DoxyCodeLine{00179\ \textcolor{comment}{//\ \ \ GTEST\_USES\_SIMPLE\_RE\ \ \ -\/\ our\ own\ simple\ regex\ is\ used;}}
\DoxyCodeLine{00180\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ the\ above\ RE\(\backslash\)b(s)\ are\ mutually\ exclusive.}}
\DoxyCodeLine{00181\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_ABSL\ \ \ \ \ \ \ \ \ -\/\ Google\ Test\ is\ compiled\ with\ Abseil.}}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \textcolor{comment}{//\ Misc\ public\ macros}}
\DoxyCodeLine{00184\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00185\ \textcolor{comment}{//}}
\DoxyCodeLine{00186\ \textcolor{comment}{//\ \ \ GTEST\_FLAG(flag\_name)\ \ -\/\ references\ the\ variable\ corresponding\ to}}
\DoxyCodeLine{00187\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ the\ given\ Google\ Test\ flag.}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \textcolor{comment}{//\ Internal\ utilities}}
\DoxyCodeLine{00190\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00191\ \textcolor{comment}{//}}
\DoxyCodeLine{00192\ \textcolor{comment}{//\ The\ following\ macros\ and\ utilities\ are\ for\ Google\ Test's\ INTERNAL}}
\DoxyCodeLine{00193\ \textcolor{comment}{//\ use\ only.\ \ Code\ outside\ Google\ Test\ MUST\ NOT\ USE\ THEM\ DIRECTLY.}}
\DoxyCodeLine{00194\ \textcolor{comment}{//}}
\DoxyCodeLine{00195\ \textcolor{comment}{//\ Macros\ for\ basic\ C++\ coding:}}
\DoxyCodeLine{00196\ \textcolor{comment}{//\ \ \ GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_\ -\/\ for\ disabling\ a\ gcc\ warning.}}
\DoxyCodeLine{00197\ \textcolor{comment}{//\ \ \ GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_\ -\/\ start\ code\ section\ where\ MSVC\ C4127\ is}}
\DoxyCodeLine{00198\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ suppressed\ (constant\ conditional).}}
\DoxyCodeLine{00199\ \textcolor{comment}{//\ \ \ GTEST\_INTENTIONAL\_CONST\_COND\_POP\_\ \ -\/\ finish\ code\ section\ where\ MSVC\ C4127}}
\DoxyCodeLine{00200\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\ suppressed.}}
\DoxyCodeLine{00201\ \textcolor{comment}{//\ \ \ GTEST\_INTERNAL\_HAS\_STD\_SPAN\ -\/\ for\ enabling\ UniversalPrinter<std::span>}}
\DoxyCodeLine{00202\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specializations.\ Always\ defined\ to\ 0\ or\ 1}}
\DoxyCodeLine{00203\ \textcolor{comment}{//\ \ \ GTEST\_USE\_OWN\_FLAGFILE\_FLAG\_\ -\/\ Always\ defined\ to\ 0\ or\ 1.}}
\DoxyCodeLine{00204\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_CXXABI\_H\_\ -\/\ Always\ defined\ to\ 0\ or\ 1.}}
\DoxyCodeLine{00205\ \textcolor{comment}{//\ \ \ GTEST\_CAN\_STREAM\_RESULTS\_\ -\/\ Always\ defined\ to\ 0\ or\ 1.}}
\DoxyCodeLine{00206\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_ALT\_PATH\_SEP\_\ -\/\ Always\ defined\ to\ 0\ or\ 1.}}
\DoxyCodeLine{00207\ \textcolor{comment}{//\ \ \ GTEST\_WIDE\_STRING\_USES\_UTF16\_\ -\/\ Always\ defined\ to\ 0\ or\ 1.}}
\DoxyCodeLine{00208\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_\ -\/\ Always\ defined\ to\ 0\ or\ 1.}}
\DoxyCodeLine{00209\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_NOTIFICATION\_-\/\ Always\ defined\ to\ 0\ or\ 1.}}
\DoxyCodeLine{00210\ \textcolor{comment}{//}}
\DoxyCodeLine{00211\ \textcolor{comment}{//\ Synchronization:}}
\DoxyCodeLine{00212\ \textcolor{comment}{//\ \ \ Mutex,\ MutexLock,\ ThreadLocal,\ GetThreadCount()}}
\DoxyCodeLine{00213\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ synchronization\ primitives.}}
\DoxyCodeLine{00214\ \textcolor{comment}{//}}
\DoxyCodeLine{00215\ \textcolor{comment}{//\ Regular\ expressions:}}
\DoxyCodeLine{00216\ \textcolor{comment}{//\ \ \ RE\ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ a\ simple\ regular\ expression\ class\ using}}
\DoxyCodeLine{00217\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1)\ the\ RE2\ syntax\ on\ all\ platforms\ when\ built\ with\ RE2}}
\DoxyCodeLine{00218\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ and\ Abseil\ as\ dependencies}}
\DoxyCodeLine{00219\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 2)\ the\ POSIX\ Extended\ Regular\ Expression\ syntax\ on}}
\DoxyCodeLine{00220\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ UNIX-\/like\ platforms,}}
\DoxyCodeLine{00221\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 3)\ A\ reduced\ regular\ exception\ syntax\ on\ other\ platforms,}}
\DoxyCodeLine{00222\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ including\ Windows.}}
\DoxyCodeLine{00223\ \textcolor{comment}{//\ Logging:}}
\DoxyCodeLine{00224\ \textcolor{comment}{//\ \ \ GTEST\_LOG\_()\ \ \ -\/\ logs\ messages\ at\ the\ specified\ severity\ level.}}
\DoxyCodeLine{00225\ \textcolor{comment}{//\ \ \ LogToStderr()\ \ -\/\ directs\ all\ log\ messages\ to\ stderr.}}
\DoxyCodeLine{00226\ \textcolor{comment}{//\ \ \ FlushInfoLog()\ -\/\ flushes\ informational\ log\ messages.}}
\DoxyCodeLine{00227\ \textcolor{comment}{//}}
\DoxyCodeLine{00228\ \textcolor{comment}{//\ Stdout\ and\ stderr\ capturing:}}
\DoxyCodeLine{00229\ \textcolor{comment}{//\ \ \ CaptureStdout()\ \ \ \ \ -\/\ starts\ capturing\ stdout.}}
\DoxyCodeLine{00230\ \textcolor{comment}{//\ \ \ GetCapturedStdout()\ -\/\ stops\ capturing\ stdout\ and\ returns\ the\ captured}}
\DoxyCodeLine{00231\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ string.}}
\DoxyCodeLine{00232\ \textcolor{comment}{//\ \ \ CaptureStderr()\ \ \ \ \ -\/\ starts\ capturing\ stderr.}}
\DoxyCodeLine{00233\ \textcolor{comment}{//\ \ \ GetCapturedStderr()\ -\/\ stops\ capturing\ stderr\ and\ returns\ the\ captured}}
\DoxyCodeLine{00234\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ string.}}
\DoxyCodeLine{00235\ \textcolor{comment}{//}}
\DoxyCodeLine{00236\ \textcolor{comment}{//\ Integer\ types:}}
\DoxyCodeLine{00237\ \textcolor{comment}{//\ \ \ TypeWithSize\ \ \ -\/\ maps\ an\ integer\ to\ a\ int\ type.}}
\DoxyCodeLine{00238\ \textcolor{comment}{//\ \ \ TimeInMillis\ \ \ -\/\ integers\ of\ known\ sizes.}}
\DoxyCodeLine{00239\ \textcolor{comment}{//\ \ \ BiggestInt\ \ \ \ \ -\/\ the\ biggest\ signed\ integer\ type.}}
\DoxyCodeLine{00240\ \textcolor{comment}{//}}
\DoxyCodeLine{00241\ \textcolor{comment}{//\ Command-\/line\ utilities:}}
\DoxyCodeLine{00242\ \textcolor{comment}{//\ \ \ GetInjectableArgvs()\ -\/\ returns\ the\ command\ line\ as\ a\ vector\ of\ strings.}}
\DoxyCodeLine{00243\ \textcolor{comment}{//}}
\DoxyCodeLine{00244\ \textcolor{comment}{//\ Environment\ variable\ utilities:}}
\DoxyCodeLine{00245\ \textcolor{comment}{//\ \ \ GetEnv()\ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ gets\ the\ value\ of\ an\ environment\ variable.}}
\DoxyCodeLine{00246\ \textcolor{comment}{//\ \ \ BoolFromGTestEnv()\ \ \ -\/\ parses\ a\ bool\ environment\ variable.}}
\DoxyCodeLine{00247\ \textcolor{comment}{//\ \ \ Int32FromGTestEnv()\ \ -\/\ parses\ an\ int32\_t\ environment\ variable.}}
\DoxyCodeLine{00248\ \textcolor{comment}{//\ \ \ StringFromGTestEnv()\ -\/\ parses\ a\ string\ environment\ variable.}}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \textcolor{comment}{//\ The\ definition\ of\ GTEST\_INTERNAL\_CPLUSPLUS\_LANG\ comes\ first\ because\ it\ can}}
\DoxyCodeLine{00251\ \textcolor{comment}{//\ potentially\ be\ used\ as\ an\ \#include\ guard.}}
\DoxyCodeLine{00252\ \textcolor{preprocessor}{\#if\ defined(\_MSVC\_LANG)}}
\DoxyCodeLine{00253\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_CPLUSPLUS\_LANG\ \_MSVC\_LANG}}
\DoxyCodeLine{00254\ \textcolor{preprocessor}{\#elif\ defined(\_\_cplusplus)}}
\DoxyCodeLine{00255\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_CPLUSPLUS\_LANG\ \_\_cplusplus}}
\DoxyCodeLine{00256\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_INTERNAL\_CPLUSPLUS\_LANG)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00259\ \textcolor{preprocessor}{\ \ \ \ GTEST\_INTERNAL\_CPLUSPLUS\_LANG\ <\ 201703L}}
\DoxyCodeLine{00260\ \textcolor{preprocessor}{\#error\ C++\ versions\ less\ than\ C++17\ are\ not\ supported.}}
\DoxyCodeLine{00261\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \textcolor{comment}{//\ MSVC\ >=\ 19.11\ (VS\ 2017\ Update\ 3)\ supports\ \_\_has\_include.}}
\DoxyCodeLine{00264\ \textcolor{preprocessor}{\#ifdef\ \_\_has\_include}}
\DoxyCodeLine{00265\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_INCLUDE\ \_\_has\_include}}
\DoxyCodeLine{00266\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00267\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_INCLUDE(...)\ 0}}
\DoxyCodeLine{00268\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \textcolor{comment}{//\ Detect\ C++\ feature\ test\ macros\ as\ gracefully\ as\ possible.}}
\DoxyCodeLine{00271\ \textcolor{comment}{//\ MSVC\ >=\ 19.15,\ Clang\ >=\ 3.4.1,\ and\ GCC\ >=\ 4.1.2\ support\ feature\ test\ macros.}}
\DoxyCodeLine{00272\ \textcolor{comment}{//}}
\DoxyCodeLine{00273\ \textcolor{comment}{//\ GCC15\ warns\ that\ <ciso646>\ is\ deprecated\ in\ C++17\ and\ suggests\ using}}
\DoxyCodeLine{00274\ \textcolor{comment}{//\ <version>\ instead,\ even\ though\ <version>\ is\ not\ available\ in\ C++17\ mode\ prior}}
\DoxyCodeLine{00275\ \textcolor{comment}{//\ to\ GCC9.}}
\DoxyCodeLine{00276\ \textcolor{preprocessor}{\#if\ GTEST\_INTERNAL\_CPLUSPLUS\_LANG\ >=\ 202002L\ ||\ \(\backslash\)}}
\DoxyCodeLine{00277\ \textcolor{preprocessor}{\ \ \ \ GTEST\_INTERNAL\_HAS\_INCLUDE(<version>)}}
\DoxyCodeLine{00278\ \textcolor{preprocessor}{\#include\ <version>}\ \ \textcolor{comment}{//\ C++20\ or\ <version>\ support.}}
\DoxyCodeLine{00279\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00280\ \textcolor{preprocessor}{\#include\ <ciso646>}\ \ \textcolor{comment}{//\ Pre-\/C++20}}
\DoxyCodeLine{00281\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \textcolor{preprocessor}{\#include\ <ctype.h>}\ \ \ \textcolor{comment}{//\ for\ isspace,\ etc}}
\DoxyCodeLine{00284\ \textcolor{preprocessor}{\#include\ <stddef.h>}\ \ \textcolor{comment}{//\ for\ ptrdiff\_t}}
\DoxyCodeLine{00285\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00286\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{00287\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \textcolor{preprocessor}{\#include\ <cerrno>}}
\DoxyCodeLine{00290\ \textcolor{comment}{//\ \#include\ <condition\_variable>\ \ //\ Guarded\ by\ GTEST\_IS\_THREADSAFE\ below}}
\DoxyCodeLine{00291\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00292\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00293\ \textcolor{preprocessor}{\#include\ <limits>}}
\DoxyCodeLine{00294\ \textcolor{preprocessor}{\#include\ <locale>}}
\DoxyCodeLine{00295\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00296\ \textcolor{preprocessor}{\#include\ <ostream>}}
\DoxyCodeLine{00297\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00298\ \textcolor{comment}{//\ \#include\ <mutex>\ \ //\ Guarded\ by\ GTEST\_IS\_THREADSAFE\ below}}
\DoxyCodeLine{00299\ \textcolor{preprocessor}{\#include\ <tuple>}}
\DoxyCodeLine{00300\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00301\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \textcolor{preprocessor}{\#ifndef\ \_WIN32\_WCE}}
\DoxyCodeLine{00304\ \textcolor{preprocessor}{\#include\ <sys/stat.h>}}
\DoxyCodeLine{00305\ \textcolor{preprocessor}{\#include\ <sys/types.h>}}
\DoxyCodeLine{00306\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !\_WIN32\_WCE}}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \textcolor{preprocessor}{\#if\ defined\ \_\_APPLE\_\_}}
\DoxyCodeLine{00309\ \textcolor{preprocessor}{\#include\ <AvailabilityMacros.h>}}
\DoxyCodeLine{00310\ \textcolor{preprocessor}{\#include\ <TargetConditionals.h>}}
\DoxyCodeLine{00311\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \textcolor{preprocessor}{\#include\ "{}gtest/internal/custom/gtest-\/port.h"{}}}
\DoxyCodeLine{00314\ \textcolor{preprocessor}{\#include\ "{}gtest/internal/gtest-\/port-\/arch.h"{}}}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{00317\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_\ 0}}
\DoxyCodeLine{00318\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_NOTIFICATION\_}}
\DoxyCodeLine{00321\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_NOTIFICATION\_\ 0}}
\DoxyCodeLine{00322\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \textcolor{preprocessor}{\#if\ defined(GTEST\_HAS\_ABSL)\ \&\&\ !defined(GTEST\_NO\_ABSL\_FLAGS)}}
\DoxyCodeLine{00325\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_ABSL\_FLAGS\ \ }\textcolor{comment}{//\ Used\ only\ in\ this\ file.}}
\DoxyCodeLine{00326\ \textcolor{preprocessor}{\#include\ "{}absl/flags/declare.h"{}}}
\DoxyCodeLine{00327\ \textcolor{preprocessor}{\#include\ "{}absl/flags/flag.h"{}}}
\DoxyCodeLine{00328\ \textcolor{preprocessor}{\#include\ "{}absl/flags/reflection.h"{}}}
\DoxyCodeLine{00329\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_DEV\_EMAIL\_)}}
\DoxyCodeLine{00332\ \textcolor{preprocessor}{\#define\ GTEST\_DEV\_EMAIL\_\ "{}googletestframework@@googlegroups.com"{}}}
\DoxyCodeLine{00333\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_PREFIX\_\ "{}gtest\_"{}}}
\DoxyCodeLine{00334\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_PREFIX\_DASH\_\ "{}gtest-\/"{}}}
\DoxyCodeLine{00335\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_PREFIX\_UPPER\_\ "{}GTEST\_"{}}}
\DoxyCodeLine{00336\ \textcolor{preprocessor}{\#define\ GTEST\_NAME\_\ "{}Google\ Test"{}}}
\DoxyCodeLine{00337\ \textcolor{preprocessor}{\#define\ GTEST\_PROJECT\_URL\_\ "{}https://github.com/google/googletest/"{}}}
\DoxyCodeLine{00338\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_DEV\_EMAIL\_)}}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00340\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_INIT\_GOOGLE\_TEST\_NAME\_)}}
\DoxyCodeLine{00341\ \textcolor{preprocessor}{\#define\ GTEST\_INIT\_GOOGLE\_TEST\_NAME\_\ "{}testing::InitGoogleTest"{}}}
\DoxyCodeLine{00342\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_INIT\_GOOGLE\_TEST\_NAME\_)}}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ \textcolor{comment}{//\ Determines\ the\ version\ of\ gcc\ that\ is\ used\ to\ compile\ this.}}
\DoxyCodeLine{00345\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00346\ \textcolor{comment}{//\ 40302\ means\ version\ 4.3.2.}}
\DoxyCodeLine{00347\ \textcolor{preprocessor}{\#define\ GTEST\_GCC\_VER\_\ \(\backslash\)}}
\DoxyCodeLine{00348\ \textcolor{preprocessor}{\ \ (\_\_GNUC\_\_\ *\ 10000\ +\ \_\_GNUC\_MINOR\_\_\ *\ 100\ +\ \_\_GNUC\_PATCHLEVEL\_\_)}}
\DoxyCodeLine{00349\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_GNUC\_\_}}
\DoxyCodeLine{00350\ }
\DoxyCodeLine{00351\ \textcolor{comment}{//\ Macros\ for\ disabling\ Microsoft\ Visual\ C++\ warnings.}}
\DoxyCodeLine{00352\ \textcolor{comment}{//}}
\DoxyCodeLine{00353\ \textcolor{comment}{//\ \ \ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4800\ 4385)}}
\DoxyCodeLine{00354\ \textcolor{comment}{//\ \ \ /*\ code\ that\ triggers\ warnings\ C4800\ and\ C4385\ */}}
\DoxyCodeLine{00355\ \textcolor{comment}{//\ \ \ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{00356\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)}}
\DoxyCodeLine{00357\ \textcolor{preprocessor}{\#define\ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(warnings)\ \(\backslash\)}}
\DoxyCodeLine{00358\ \textcolor{preprocessor}{\ \ \_\_pragma(warning(push))\ \_\_pragma(warning(disable\ :\ warnings))}}
\DoxyCodeLine{00359\ \textcolor{preprocessor}{\#define\ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()\ \_\_pragma(warning(pop))}}
\DoxyCodeLine{00360\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00361\ \textcolor{comment}{//\ Not\ all\ compilers\ are\ MSVC}}
\DoxyCodeLine{00362\ \textcolor{preprocessor}{\#define\ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(warnings)}}
\DoxyCodeLine{00363\ \textcolor{preprocessor}{\#define\ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{00364\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00366\ \textcolor{comment}{//\ Clang\ on\ Windows\ does\ not\ understand\ MSVC's\ pragma\ warning.}}
\DoxyCodeLine{00367\ \textcolor{comment}{//\ We\ need\ clang-\/specific\ way\ to\ disable\ function\ deprecation\ warning.}}
\DoxyCodeLine{00368\ \textcolor{preprocessor}{\#ifdef\ \_\_clang\_\_}}
\DoxyCodeLine{00369\ \textcolor{preprocessor}{\#define\ GTEST\_DISABLE\_MSC\_DEPRECATED\_PUSH\_()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00370\ \textcolor{preprocessor}{\ \ \_Pragma("{}clang\ diagnostic\ push"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00371\ \textcolor{preprocessor}{\ \ \ \ \ \ \_Pragma("{}clang\ diagnostic\ ignored\ \(\backslash\)"{}-\/Wdeprecated-\/declarations\(\backslash\)"{}"{})\ \(\backslash\)}}
\DoxyCodeLine{00372\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \_Pragma("{}clang\ diagnostic\ ignored\ \(\backslash\)"{}-\/Wdeprecated-\/implementations\(\backslash\)"{}"{})}}
\DoxyCodeLine{00373\ \textcolor{preprocessor}{\#define\ GTEST\_DISABLE\_MSC\_DEPRECATED\_POP\_()\ \_Pragma("{}clang\ diagnostic\ pop"{})}}
\DoxyCodeLine{00374\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00375\ \textcolor{preprocessor}{\#define\ GTEST\_DISABLE\_MSC\_DEPRECATED\_PUSH\_()\ \(\backslash\)}}
\DoxyCodeLine{00376\ \textcolor{preprocessor}{\ \ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4996)}}
\DoxyCodeLine{00377\ \textcolor{preprocessor}{\#define\ GTEST\_DISABLE\_MSC\_DEPRECATED\_POP\_()\ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{00378\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00380\ \textcolor{comment}{//\ Brings\ in\ definitions\ for\ functions\ used\ in\ the\ testing::internal::posix}}
\DoxyCodeLine{00381\ \textcolor{comment}{//\ namespace\ (read,\ write,\ close,\ chdir,\ isatty,\ stat).\ We\ do\ not\ currently}}
\DoxyCodeLine{00382\ \textcolor{comment}{//\ use\ them\ on\ Windows\ Mobile.}}
\DoxyCodeLine{00383\ \textcolor{preprocessor}{\#ifdef\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{00384\ \textcolor{preprocessor}{\#ifndef\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{00385\ \textcolor{preprocessor}{\#include\ <direct.h>}}
\DoxyCodeLine{00386\ \textcolor{preprocessor}{\#include\ <io.h>}}
\DoxyCodeLine{00387\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00388\ \textcolor{comment}{//\ In\ order\ to\ avoid\ having\ to\ include\ <windows.h>,\ use\ forward\ declaration}}
\DoxyCodeLine{00389\ \textcolor{preprocessor}{\#if\ defined(GTEST\_OS\_WINDOWS\_MINGW)\ \&\&\ !defined(\_\_MINGW64\_VERSION\_MAJOR)}}
\DoxyCodeLine{00390\ \textcolor{comment}{//\ MinGW\ defined\ \_CRITICAL\_SECTION\ and\ \_RTL\_CRITICAL\_SECTION\ as\ two}}
\DoxyCodeLine{00391\ \textcolor{comment}{//\ separate\ (equivalent)\ structs,\ instead\ of\ using\ typedef}}
\DoxyCodeLine{00392\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\_CRITICAL\_SECTION\ GTEST\_CRITICAL\_SECTION;}
\DoxyCodeLine{00393\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00394\ \textcolor{comment}{//\ Assume\ CRITICAL\_SECTION\ is\ a\ typedef\ of\ \_RTL\_CRITICAL\_SECTION.}}
\DoxyCodeLine{00395\ \textcolor{comment}{//\ This\ assumption\ is\ verified\ by}}
\DoxyCodeLine{00396\ \textcolor{comment}{//\ WindowsTypesTest.CRITICAL\_SECTIONIs\_RTL\_CRITICAL\_SECTION.}}
\DoxyCodeLine{00397\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\_RTL\_CRITICAL\_SECTION\ GTEST\_CRITICAL\_SECTION;}
\DoxyCodeLine{00398\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00399\ \textcolor{preprocessor}{\#elif\ defined(GTEST\_OS\_XTENSA)}}
\DoxyCodeLine{00400\ \textcolor{preprocessor}{\#include\ <unistd.h>}}
\DoxyCodeLine{00401\ \textcolor{comment}{//\ Xtensa\ toolchains\ define\ strcasecmp\ in\ the\ string.h\ header\ instead\ of}}
\DoxyCodeLine{00402\ \textcolor{comment}{//\ strings.h.\ string.h\ is\ already\ included.}}
\DoxyCodeLine{00403\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00404\ \textcolor{comment}{//\ This\ assumes\ that\ non-\/Windows\ OSes\ provide\ unistd.h.\ For\ OSes\ where\ this}}
\DoxyCodeLine{00405\ \textcolor{comment}{//\ is\ not\ the\ case,\ we\ need\ to\ include\ headers\ that\ provide\ the\ functions}}
\DoxyCodeLine{00406\ \textcolor{comment}{//\ mentioned\ above.}}
\DoxyCodeLine{00407\ \textcolor{preprocessor}{\#include\ <strings.h>}}
\DoxyCodeLine{00408\ \textcolor{preprocessor}{\#include\ <unistd.h>}}
\DoxyCodeLine{00409\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \textcolor{preprocessor}{\#ifdef\ GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{00412\ \textcolor{comment}{//\ Used\ to\ define\ \_\_ANDROID\_API\_\_\ matching\ the\ target\ NDK\ API\ level.}}
\DoxyCodeLine{00413\ \textcolor{preprocessor}{\#include\ <android/api-\/level.h>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00414\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00415\ }
\DoxyCodeLine{00416\ \textcolor{comment}{//\ Defines\ this\ to\ true\ if\ and\ only\ if\ Google\ Test\ can\ use\ POSIX\ regular}}
\DoxyCodeLine{00417\ \textcolor{comment}{//\ expressions.}}
\DoxyCodeLine{00418\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_POSIX\_RE}}
\DoxyCodeLine{00419\ \textcolor{preprocessor}{\#ifdef\ GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{00420\ \textcolor{comment}{//\ On\ Android,\ <regex.h>\ is\ only\ available\ starting\ with\ Gingerbread.}}
\DoxyCodeLine{00421\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_POSIX\_RE\ (\_\_ANDROID\_API\_\_\ >=\ 9)}}
\DoxyCodeLine{00422\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00423\ \textcolor{preprocessor}{\#if\ !(defined(GTEST\_OS\_WINDOWS)\ ||\ defined(GTEST\_OS\_XTENSA)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00424\ \textcolor{preprocessor}{\ \ \ \ \ \ defined(GTEST\_OS\_QURT))}}
\DoxyCodeLine{00425\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_POSIX\_RE\ 1}}
\DoxyCodeLine{00426\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00427\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_POSIX\_RE\ 0}}
\DoxyCodeLine{00428\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00429\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{00430\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00432\ \textcolor{comment}{//\ Select\ the\ regular\ expression\ implementation.}}
\DoxyCodeLine{00433\ \textcolor{preprocessor}{\#ifdef\ GTEST\_HAS\_ABSL}}
\DoxyCodeLine{00434\ \textcolor{comment}{//\ When\ using\ Abseil,\ RE2\ is\ required.}}
\DoxyCodeLine{00435\ \textcolor{preprocessor}{\#include\ "{}absl/strings/string\_view.h"{}}}
\DoxyCodeLine{00436\ \textcolor{preprocessor}{\#include\ "{}re2/re2.h"{}}}
\DoxyCodeLine{00437\ \textcolor{preprocessor}{\#define\ GTEST\_USES\_RE2\ 1}}
\DoxyCodeLine{00438\ \textcolor{preprocessor}{\#elif\ GTEST\_HAS\_POSIX\_RE}}
\DoxyCodeLine{00439\ \textcolor{preprocessor}{\#include\ <regex.h>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00440\ \textcolor{preprocessor}{\#define\ GTEST\_USES\_POSIX\_RE\ 1}}
\DoxyCodeLine{00441\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00442\ \textcolor{comment}{//\ Use\ our\ own\ simple\ regex\ implementation.}}
\DoxyCodeLine{00443\ \textcolor{preprocessor}{\#define\ GTEST\_USES\_SIMPLE\_RE\ 1}}
\DoxyCodeLine{00444\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00445\ }
\DoxyCodeLine{00446\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00447\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us\ whether\ exceptions\ are\ enabled,\ so\ we\ need}}
\DoxyCodeLine{00448\ \textcolor{comment}{//\ to\ figure\ it\ out.}}
\DoxyCodeLine{00449\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)\ \&\&\ defined(\_CPPUNWIND)}}
\DoxyCodeLine{00450\ \textcolor{comment}{//\ MSVC\ defines\ \_CPPUNWIND\ to\ 1\ if\ and\ only\ if\ exceptions\ are\ enabled.}}
\DoxyCodeLine{00451\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00452\ \textcolor{preprocessor}{\#elif\ defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{00453\ \textcolor{comment}{//\ C++Builder's\ implementation\ of\ the\ STL\ uses\ the\ \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00454\ \textcolor{comment}{//\ macro\ to\ enable\ exceptions,\ so\ we'll\ do\ the\ same.}}
\DoxyCodeLine{00455\ \textcolor{comment}{//\ Assumes\ that\ exceptions\ are\ enabled\ by\ default.}}
\DoxyCodeLine{00456\ \textcolor{preprocessor}{\#ifndef\ \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00457\ \textcolor{preprocessor}{\#define\ \_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00458\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00459\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_EXCEPTIONS\ \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00460\ \textcolor{preprocessor}{\#elif\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00461\ \textcolor{comment}{//\ clang\ defines\ \_\_EXCEPTIONS\ if\ and\ only\ if\ exceptions\ are\ enabled\ before\ clang}}
\DoxyCodeLine{00462\ \textcolor{comment}{//\ 220714,\ but\ if\ and\ only\ if\ cleanups\ are\ enabled\ after\ that.\ In\ Obj-\/C++\ files,}}
\DoxyCodeLine{00463\ \textcolor{comment}{//\ there\ can\ be\ cleanups\ for\ ObjC\ exceptions\ which\ also\ need\ cleanups,\ even\ if}}
\DoxyCodeLine{00464\ \textcolor{comment}{//\ C++\ exceptions\ are\ disabled.\ clang\ has\ \_\_has\_feature(cxx\_exceptions)\ which}}
\DoxyCodeLine{00465\ \textcolor{comment}{//\ checks\ for\ C++\ exceptions\ starting\ at\ clang\ r206352,\ but\ which\ checked\ for}}
\DoxyCodeLine{00466\ \textcolor{comment}{//\ cleanups\ prior\ to\ that.\ To\ reliably\ check\ for\ C++\ exception\ availability\ with}}
\DoxyCodeLine{00467\ \textcolor{comment}{//\ clang,\ check\ for}}
\DoxyCodeLine{00468\ \textcolor{comment}{//\ \_\_EXCEPTIONS\ \&\&\ \_\_has\_feature(cxx\_exceptions).}}
\DoxyCodeLine{00469\ \textcolor{preprocessor}{\#if\ defined(\_\_EXCEPTIONS)\ \&\&\ \_\_EXCEPTIONS\ \&\&\ \_\_has\_feature(cxx\_exceptions)}}
\DoxyCodeLine{00470\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00471\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00472\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_EXCEPTIONS\ 0}}
\DoxyCodeLine{00473\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00474\ \textcolor{preprocessor}{\#elif\ defined(\_\_GNUC\_\_)\ \&\&\ defined(\_\_EXCEPTIONS)\ \&\&\ \_\_EXCEPTIONS}}
\DoxyCodeLine{00475\ \textcolor{comment}{//\ gcc\ defines\ \_\_EXCEPTIONS\ to\ 1\ if\ and\ only\ if\ exceptions\ are\ enabled.}}
\DoxyCodeLine{00476\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00477\ \textcolor{preprocessor}{\#elif\ defined(\_\_SUNPRO\_CC)}}
\DoxyCodeLine{00478\ \textcolor{comment}{//\ Sun\ Pro\ CC\ supports\ exceptions.\ \ However,\ there\ is\ no\ compile-\/time\ way\ of}}
\DoxyCodeLine{00479\ \textcolor{comment}{//\ detecting\ whether\ they\ are\ enabled\ or\ not.\ \ Therefore,\ we\ assume\ that}}
\DoxyCodeLine{00480\ \textcolor{comment}{//\ they\ are\ enabled\ unless\ the\ user\ tells\ us\ otherwise.}}
\DoxyCodeLine{00481\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00482\ \textcolor{preprocessor}{\#elif\ defined(\_\_IBMCPP\_\_)\ \&\&\ defined(\_\_EXCEPTIONS)\ \&\&\ \_\_EXCEPTIONS}}
\DoxyCodeLine{00483\ \textcolor{comment}{//\ xlC\ defines\ \_\_EXCEPTIONS\ to\ 1\ if\ and\ only\ if\ exceptions\ are\ enabled.}}
\DoxyCodeLine{00484\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00485\ \textcolor{preprocessor}{\#elif\ defined(\_\_HP\_aCC)}}
\DoxyCodeLine{00486\ \textcolor{comment}{//\ Exception\ handling\ is\ in\ effect\ by\ default\ in\ HP\ aCC\ compiler.\ It\ has\ to}}
\DoxyCodeLine{00487\ \textcolor{comment}{//\ be\ turned\ of\ by\ +noeh\ compiler\ option\ if\ desired.}}
\DoxyCodeLine{00488\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00489\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00490\ \textcolor{comment}{//\ For\ other\ compilers,\ we\ assume\ exceptions\ are\ disabled\ to\ be}}
\DoxyCodeLine{00491\ \textcolor{comment}{//\ conservative.}}
\DoxyCodeLine{00492\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_EXCEPTIONS\ 0}}
\DoxyCodeLine{00493\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ defined(\_MSC\_VER)\ ||\ defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{00494\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_STD\_WSTRING}}
\DoxyCodeLine{00497\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us\ whether\ ::std::wstring\ is\ available,\ so\ we\ need}}
\DoxyCodeLine{00498\ \textcolor{comment}{//\ to\ figure\ it\ out.}}
\DoxyCodeLine{00499\ \textcolor{comment}{//\ Cygwin\ 1.7\ and\ below\ doesn't\ support\ ::std::wstring.}}
\DoxyCodeLine{00500\ \textcolor{comment}{//\ Solaris'\ libc++\ doesn't\ support\ it\ either.\ \ Android\ has}}
\DoxyCodeLine{00501\ \textcolor{comment}{//\ no\ support\ for\ it\ at\ least\ as\ recent\ as\ Froyo\ (2.2).}}
\DoxyCodeLine{00502\ \textcolor{preprocessor}{\#if\ (!(defined(GTEST\_OS\_LINUX\_ANDROID)\ ||\ defined(GTEST\_OS\_CYGWIN)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00503\ \textcolor{preprocessor}{\ \ \ \ \ \ \ defined(GTEST\_OS\_SOLARIS)\ ||\ defined(GTEST\_OS\_HAIKU)\ ||\ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00504\ \textcolor{preprocessor}{\ \ \ \ \ \ \ defined(GTEST\_OS\_ESP32)\ ||\ defined(GTEST\_OS\_ESP8266)\ ||\ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00505\ \textcolor{preprocessor}{\ \ \ \ \ \ \ defined(GTEST\_OS\_XTENSA)\ ||\ defined(GTEST\_OS\_QURT)\ ||\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00506\ \textcolor{preprocessor}{\ \ \ \ \ \ \ defined(GTEST\_OS\_NXP\_QN9090)\ ||\ defined(GTEST\_OS\_NRF52)))}}
\DoxyCodeLine{00507\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_STD\_WSTRING\ 1}}
\DoxyCodeLine{00508\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00509\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_STD\_WSTRING\ 0}}
\DoxyCodeLine{00510\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00511\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_STD\_WSTRING}}
\DoxyCodeLine{00512\ }
\DoxyCodeLine{00513\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_FILE\_SYSTEM}}
\DoxyCodeLine{00514\ \textcolor{comment}{//\ Most\ platforms\ support\ a\ file\ system.}}
\DoxyCodeLine{00515\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_FILE\_SYSTEM\ 1}}
\DoxyCodeLine{00516\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_FILE\_SYSTEM}}
\DoxyCodeLine{00517\ }
\DoxyCodeLine{00518\ \textcolor{comment}{//\ Determines\ whether\ RTTI\ is\ available.}}
\DoxyCodeLine{00519\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_RTTI}}
\DoxyCodeLine{00520\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us\ whether\ RTTI\ is\ enabled,\ so\ we\ need\ to}}
\DoxyCodeLine{00521\ \textcolor{comment}{//\ figure\ it\ out.}}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{00524\ }
\DoxyCodeLine{00525\ \textcolor{preprocessor}{\#ifdef\ \_CPPRTTI\ \ }\textcolor{comment}{//\ MSVC\ defines\ this\ macro\ if\ and\ only\ if\ RTTI\ is\ enabled.}}
\DoxyCodeLine{00526\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_RTTI\ 1}}
\DoxyCodeLine{00527\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00528\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_RTTI\ 0}}
\DoxyCodeLine{00529\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00531\ \textcolor{comment}{//\ Starting\ with\ version\ 4.3.2,\ gcc\ defines\ \_\_GXX\_RTTI\ if\ and\ only\ if\ RTTI\ is}}
\DoxyCodeLine{00532\ \textcolor{comment}{//\ enabled.}}
\DoxyCodeLine{00533\ \textcolor{preprocessor}{\#elif\ defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{00534\ }
\DoxyCodeLine{00535\ \textcolor{preprocessor}{\#ifdef\ \_\_GXX\_RTTI}}
\DoxyCodeLine{00536\ \textcolor{comment}{//\ When\ building\ against\ STLport\ with\ the\ Android\ NDK\ and\ with}}
\DoxyCodeLine{00537\ \textcolor{comment}{//\ -\/frtti\ -\/fno-\/exceptions,\ the\ build\ fails\ at\ link\ time\ with\ undefined}}
\DoxyCodeLine{00538\ \textcolor{comment}{//\ references\ to\ \_\_cxa\_bad\_typeid.\ Note\ sure\ if\ STL\ or\ toolchain\ bug,}}
\DoxyCodeLine{00539\ \textcolor{comment}{//\ so\ disable\ RTTI\ when\ detected.}}
\DoxyCodeLine{00540\ \textcolor{preprocessor}{\#if\ defined(GTEST\_OS\_LINUX\_ANDROID)\ \&\&\ defined(\_STLPORT\_MAJOR)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00541\ \textcolor{preprocessor}{\ \ \ \ !defined(\_\_EXCEPTIONS)}}
\DoxyCodeLine{00542\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_RTTI\ 0}}
\DoxyCodeLine{00543\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00544\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_RTTI\ 1}}
\DoxyCodeLine{00545\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_LINUX\_ANDROID\ \&\&\ \_\_STLPORT\_MAJOR\ \&\&\ !\_\_EXCEPTIONS}}
\DoxyCodeLine{00546\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00547\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_RTTI\ 0}}
\DoxyCodeLine{00548\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_GXX\_RTTI}}
\DoxyCodeLine{00549\ }
\DoxyCodeLine{00550\ \textcolor{comment}{//\ Clang\ defines\ \_\_GXX\_RTTI\ starting\ with\ version\ 3.0,\ but\ its\ manual\ recommends}}
\DoxyCodeLine{00551\ \textcolor{comment}{//\ using\ has\_feature\ instead.\ has\_feature(cxx\_rtti)\ is\ supported\ since\ 2.7,\ the}}
\DoxyCodeLine{00552\ \textcolor{comment}{//\ first\ version\ with\ C++\ support.}}
\DoxyCodeLine{00553\ \textcolor{preprocessor}{\#elif\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00554\ }
\DoxyCodeLine{00555\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_RTTI\ \_\_has\_feature(cxx\_rtti)}}
\DoxyCodeLine{00556\ }
\DoxyCodeLine{00557\ \textcolor{comment}{//\ Starting\ with\ version\ 9.0\ IBM\ Visual\ Age\ defines\ \_\_RTTI\_ALL\_\_\ to\ 1\ if}}
\DoxyCodeLine{00558\ \textcolor{comment}{//\ both\ the\ typeid\ and\ dynamic\_cast\ features\ are\ present.}}
\DoxyCodeLine{00559\ \textcolor{preprocessor}{\#elif\ defined(\_\_IBMCPP\_\_)\ \&\&\ (\_\_IBMCPP\_\_\ >=\ 900)}}
\DoxyCodeLine{00560\ }
\DoxyCodeLine{00561\ \textcolor{preprocessor}{\#ifdef\ \_\_RTTI\_ALL\_\_}}
\DoxyCodeLine{00562\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_RTTI\ 1}}
\DoxyCodeLine{00563\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00564\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_RTTI\ 0}}
\DoxyCodeLine{00565\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00566\ }
\DoxyCodeLine{00567\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00568\ }
\DoxyCodeLine{00569\ \textcolor{comment}{//\ For\ all\ other\ compilers,\ we\ assume\ RTTI\ is\ enabled.}}
\DoxyCodeLine{00570\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_RTTI\ 1}}
\DoxyCodeLine{00571\ }
\DoxyCodeLine{00572\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_MSC\_VER}}
\DoxyCodeLine{00573\ }
\DoxyCodeLine{00574\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_RTTI}}
\DoxyCodeLine{00575\ }
\DoxyCodeLine{00576\ \textcolor{comment}{//\ It's\ this\ header's\ responsibility\ to\ \#include\ <typeinfo>\ when\ RTTI}}
\DoxyCodeLine{00577\ \textcolor{comment}{//\ is\ enabled.}}
\DoxyCodeLine{00578\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_RTTI}}
\DoxyCodeLine{00579\ \textcolor{preprocessor}{\#include\ <typeinfo>}}
\DoxyCodeLine{00580\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00582\ \textcolor{comment}{//\ Determines\ whether\ Google\ Test\ can\ use\ the\ pthreads\ library.}}
\DoxyCodeLine{00583\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{00584\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us\ explicitly,\ so\ we\ make\ reasonable\ assumptions\ about}}
\DoxyCodeLine{00585\ \textcolor{comment}{//\ which\ platforms\ have\ pthreads\ support.}}
\DoxyCodeLine{00586\ \textcolor{comment}{//}}
\DoxyCodeLine{00587\ \textcolor{comment}{//\ To\ disable\ threading\ support\ in\ Google\ Test,\ add\ -\/DGTEST\_HAS\_PTHREAD=0}}
\DoxyCodeLine{00588\ \textcolor{comment}{//\ to\ your\ compiler\ flags.}}
\DoxyCodeLine{00589\ \textcolor{preprocessor}{\#if\ (defined(GTEST\_OS\_LINUX)\ ||\ defined(GTEST\_OS\_MAC)\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00590\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_HPUX)\ ||\ defined(GTEST\_OS\_QNX)\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00591\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_FREEBSD)\ ||\ defined(GTEST\_OS\_NACL)\ ||\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00592\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_NETBSD)\ ||\ defined(GTEST\_OS\_FUCHSIA)\ ||\ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00593\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_DRAGONFLY)\ ||\ defined(GTEST\_OS\_GNU\_KFREEBSD)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00594\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_OPENBSD)\ ||\ defined(GTEST\_OS\_HAIKU)\ ||\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00595\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_GNU\_HURD)\ ||\ defined(GTEST\_OS\_SOLARIS)\ ||\ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00596\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_AIX)\ ||\ defined(GTEST\_OS\_ZOS))}}
\DoxyCodeLine{00597\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_PTHREAD\ 1}}
\DoxyCodeLine{00598\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00599\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_PTHREAD\ 0}}
\DoxyCodeLine{00600\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00601\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{00602\ }
\DoxyCodeLine{00603\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{00604\ \textcolor{comment}{//\ gtest-\/port.h\ guarantees\ to\ \#include\ <pthread.h>\ when\ GTEST\_HAS\_PTHREAD\ is}}
\DoxyCodeLine{00605\ \textcolor{comment}{//\ true.}}
\DoxyCodeLine{00606\ \textcolor{preprocessor}{\#include\ <pthread.h>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00607\ }
\DoxyCodeLine{00608\ \textcolor{comment}{//\ For\ timespec\ and\ nanosleep,\ used\ below.}}
\DoxyCodeLine{00609\ \textcolor{preprocessor}{\#include\ <time.h>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00610\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00611\ }
\DoxyCodeLine{00612\ \textcolor{comment}{//\ Determines\ whether\ clone(2)\ is\ supported.}}
\DoxyCodeLine{00613\ \textcolor{comment}{//\ Usually\ it\ will\ only\ be\ available\ on\ Linux,\ excluding}}
\DoxyCodeLine{00614\ \textcolor{comment}{//\ Linux\ on\ the\ Itanium\ architecture.}}
\DoxyCodeLine{00615\ \textcolor{comment}{//\ Also\ see\ https://linux.die.net/man/2/clone.}}
\DoxyCodeLine{00616\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_CLONE}}
\DoxyCodeLine{00617\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us,\ so\ we\ need\ to\ figure\ it\ out.}}
\DoxyCodeLine{00618\ }
\DoxyCodeLine{00619\ \textcolor{preprocessor}{\#if\ defined(GTEST\_OS\_LINUX)\ \&\&\ !defined(\_\_ia64\_\_)}}
\DoxyCodeLine{00620\ \textcolor{preprocessor}{\#if\ defined(GTEST\_OS\_LINUX\_ANDROID)}}
\DoxyCodeLine{00621\ \textcolor{comment}{//\ On\ Android,\ clone()\ became\ available\ at\ different\ API\ levels\ for\ each\ 32-\/bit}}
\DoxyCodeLine{00622\ \textcolor{comment}{//\ architecture.}}
\DoxyCodeLine{00623\ \textcolor{preprocessor}{\#if\ defined(\_\_LP64\_\_)\ ||\ (defined(\_\_arm\_\_)\ \&\&\ \_\_ANDROID\_API\_\_\ >=\ 9)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00624\ \textcolor{preprocessor}{\ \ \ \ (defined(\_\_mips\_\_)\ \&\&\ \_\_ANDROID\_API\_\_\ >=\ 12)\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00625\ \textcolor{preprocessor}{\ \ \ \ (defined(\_\_i386\_\_)\ \&\&\ \_\_ANDROID\_API\_\_\ >=\ 17)}}
\DoxyCodeLine{00626\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_CLONE\ 1}}
\DoxyCodeLine{00627\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00628\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_CLONE\ 0}}
\DoxyCodeLine{00629\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00630\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00631\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_CLONE\ 1}}
\DoxyCodeLine{00632\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00633\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00634\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_CLONE\ 0}}
\DoxyCodeLine{00635\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_LINUX\ \&\&\ !defined(\_\_ia64\_\_)}}
\DoxyCodeLine{00636\ }
\DoxyCodeLine{00637\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_CLONE}}
\DoxyCodeLine{00638\ }
\DoxyCodeLine{00639\ \textcolor{comment}{//\ Determines\ whether\ to\ support\ stream\ redirection.\ This\ is\ used\ to\ test}}
\DoxyCodeLine{00640\ \textcolor{comment}{//\ output\ correctness\ and\ to\ implement\ death\ tests.}}
\DoxyCodeLine{00641\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{00642\ \textcolor{comment}{//\ By\ default,\ we\ assume\ that\ stream\ redirection\ is\ supported\ on\ all}}
\DoxyCodeLine{00643\ \textcolor{comment}{//\ platforms\ except\ known\ mobile\ /\ embedded\ ones.\ Also,\ if\ the\ port\ doesn't\ have}}
\DoxyCodeLine{00644\ \textcolor{comment}{//\ a\ file\ system,\ stream\ redirection\ is\ not\ supported.}}
\DoxyCodeLine{00645\ \textcolor{preprocessor}{\#if\ defined(GTEST\_OS\_WINDOWS\_MOBILE)\ ||\ defined(GTEST\_OS\_WINDOWS\_PHONE)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00646\ \textcolor{preprocessor}{\ \ \ \ defined(GTEST\_OS\_WINDOWS\_RT)\ ||\ defined(GTEST\_OS\_WINDOWS\_GAMES)\ ||\ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00647\ \textcolor{preprocessor}{\ \ \ \ defined(GTEST\_OS\_ESP8266)\ ||\ defined(GTEST\_OS\_XTENSA)\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00648\ \textcolor{preprocessor}{\ \ \ \ defined(GTEST\_OS\_QURT)\ ||\ !GTEST\_HAS\_FILE\_SYSTEM}}
\DoxyCodeLine{00649\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_STREAM\_REDIRECTION\ 0}}
\DoxyCodeLine{00650\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00651\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_STREAM\_REDIRECTION\ 1}}
\DoxyCodeLine{00652\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{00653\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{00654\ }
\DoxyCodeLine{00655\ \textcolor{comment}{//\ Determines\ whether\ to\ support\ death\ tests.}}
\DoxyCodeLine{00656\ \textcolor{comment}{//\ pops\ up\ a\ dialog\ window\ that\ cannot\ be\ suppressed\ programmatically.}}
\DoxyCodeLine{00657\ \textcolor{preprocessor}{\#if\ (defined(GTEST\_OS\_LINUX)\ ||\ defined(GTEST\_OS\_CYGWIN)\ ||\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00658\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_SOLARIS)\ ||\ defined(GTEST\_OS\_ZOS)\ ||\ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00659\ \textcolor{preprocessor}{\ \ \ \ \ (defined(GTEST\_OS\_MAC)\ \&\&\ !defined(GTEST\_OS\_IOS))\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00660\ \textcolor{preprocessor}{\ \ \ \ \ (defined(GTEST\_OS\_WINDOWS\_DESKTOP)\ \&\&\ \_MSC\_VER)\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00661\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_WINDOWS\_MINGW)\ ||\ defined(GTEST\_OS\_AIX)\ ||\ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00662\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_HPUX)\ ||\ defined(GTEST\_OS\_OPENBSD)\ ||\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00663\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_QNX)\ ||\ defined(GTEST\_OS\_FREEBSD)\ ||\ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00664\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_NETBSD)\ ||\ defined(GTEST\_OS\_FUCHSIA)\ ||\ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00665\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_DRAGONFLY)\ ||\ defined(GTEST\_OS\_GNU\_KFREEBSD)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00666\ \textcolor{preprocessor}{\ \ \ \ \ defined(GTEST\_OS\_HAIKU)\ ||\ defined(GTEST\_OS\_GNU\_HURD))}}
\DoxyCodeLine{00667\ \textcolor{comment}{//\ Death\ tests\ require\ a\ file\ system\ to\ work\ properly.}}
\DoxyCodeLine{00668\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_FILE\_SYSTEM}}
\DoxyCodeLine{00669\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_DEATH\_TEST\ 1}}
\DoxyCodeLine{00670\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_FILE\_SYSTEM}}
\DoxyCodeLine{00671\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00672\ }
\DoxyCodeLine{00673\ \textcolor{comment}{//\ Determines\ whether\ to\ support\ type-\/driven\ tests.}}
\DoxyCodeLine{00674\ }
\DoxyCodeLine{00675\ \textcolor{comment}{//\ Typed\ tests\ need\ <typeinfo>\ and\ variadic\ macros,\ which\ GCC,\ VC++\ 8.0,}}
\DoxyCodeLine{00676\ \textcolor{comment}{//\ Sun\ Pro\ CC,\ IBM\ Visual\ Age,\ and\ HP\ aCC\ support.}}
\DoxyCodeLine{00677\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ ||\ defined(\_MSC\_VER)\ ||\ defined(\_\_SUNPRO\_CC)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00678\ \textcolor{preprocessor}{\ \ \ \ defined(\_\_IBMCPP\_\_)\ ||\ defined(\_\_HP\_aCC)}}
\DoxyCodeLine{00679\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_TYPED\_TEST\ 1}}
\DoxyCodeLine{00680\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_TYPED\_TEST\_P\ 1}}
\DoxyCodeLine{00681\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00682\ }
\DoxyCodeLine{00683\ \textcolor{comment}{//\ Determines\ whether\ the\ system\ compiler\ uses\ UTF-\/16\ for\ encoding\ wide\ strings.}}
\DoxyCodeLine{00684\ \textcolor{preprocessor}{\#if\ defined(GTEST\_OS\_WINDOWS)\ ||\ defined(GTEST\_OS\_CYGWIN)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00685\ \textcolor{preprocessor}{\ \ \ \ defined(GTEST\_OS\_AIX)\ ||\ defined(GTEST\_OS\_OS2)}}
\DoxyCodeLine{00686\ \textcolor{preprocessor}{\#define\ GTEST\_WIDE\_STRING\_USES\_UTF16\_\ 1}}
\DoxyCodeLine{00687\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00688\ \textcolor{preprocessor}{\#define\ GTEST\_WIDE\_STRING\_USES\_UTF16\_\ 0}}
\DoxyCodeLine{00689\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00690\ }
\DoxyCodeLine{00691\ \textcolor{comment}{//\ Determines\ whether\ test\ results\ can\ be\ streamed\ to\ a\ socket.}}
\DoxyCodeLine{00692\ \textcolor{preprocessor}{\#if\ defined(GTEST\_OS\_LINUX)\ ||\ defined(GTEST\_OS\_GNU\_KFREEBSD)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00693\ \textcolor{preprocessor}{\ \ \ \ defined(GTEST\_OS\_DRAGONFLY)\ ||\ defined(GTEST\_OS\_FREEBSD)\ ||\ \ \(\backslash\)}}
\DoxyCodeLine{00694\ \textcolor{preprocessor}{\ \ \ \ defined(GTEST\_OS\_NETBSD)\ ||\ defined(GTEST\_OS\_OPENBSD)\ ||\ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00695\ \textcolor{preprocessor}{\ \ \ \ defined(GTEST\_OS\_GNU\_HURD)\ ||\ defined(GTEST\_OS\_MAC)}}
\DoxyCodeLine{00696\ \textcolor{preprocessor}{\#define\ GTEST\_CAN\_STREAM\_RESULTS\_\ 1}}
\DoxyCodeLine{00697\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00698\ \textcolor{preprocessor}{\#define\ GTEST\_CAN\_STREAM\_RESULTS\_\ 0}}
\DoxyCodeLine{00699\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00700\ }
\DoxyCodeLine{00701\ \textcolor{comment}{//\ Defines\ some\ utility\ macros.}}
\DoxyCodeLine{00702\ }
\DoxyCodeLine{00703\ \textcolor{comment}{//\ The\ GNU\ compiler\ emits\ a\ warning\ if\ nested\ "{}if"{}\ statements\ are\ followed\ by}}
\DoxyCodeLine{00704\ \textcolor{comment}{//\ an\ "{}else"{}\ statement\ and\ braces\ are\ not\ used\ to\ explicitly\ disambiguate\ the}}
\DoxyCodeLine{00705\ \textcolor{comment}{//\ "{}else"{}\ binding.\ \ This\ leads\ to\ problems\ with\ code\ like:}}
\DoxyCodeLine{00706\ \textcolor{comment}{//}}
\DoxyCodeLine{00707\ \textcolor{comment}{//\ \ \ if\ (gate)}}
\DoxyCodeLine{00708\ \textcolor{comment}{//\ \ \ \ \ ASSERT\_*(condition)\ <<\ "{}Some\ message"{};}}
\DoxyCodeLine{00709\ \textcolor{comment}{//}}
\DoxyCodeLine{00710\ \textcolor{comment}{//\ The\ "{}switch\ (0)\ case\ 0:"{}\ idiom\ is\ used\ to\ suppress\ this.}}
\DoxyCodeLine{00711\ \textcolor{preprocessor}{\#ifdef\ \_\_INTEL\_COMPILER}}
\DoxyCodeLine{00712\ \textcolor{preprocessor}{\#define\ GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_}}
\DoxyCodeLine{00713\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00714\ \textcolor{preprocessor}{\#define\ GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_\ \(\backslash\)}}
\DoxyCodeLine{00715\ \textcolor{preprocessor}{\ \ switch\ (0)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00716\ \textcolor{preprocessor}{\ \ case\ 0:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00717\ \textcolor{preprocessor}{\ \ default:\ \ }\textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00718\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00719\ }
\DoxyCodeLine{00720\ \textcolor{comment}{//\ GTEST\_HAVE\_ATTRIBUTE\_}}
\DoxyCodeLine{00721\ \textcolor{comment}{//}}
\DoxyCodeLine{00722\ \textcolor{comment}{//\ A\ function-\/like\ feature\ checking\ macro\ that\ is\ a\ wrapper\ around}}
\DoxyCodeLine{00723\ \textcolor{comment}{//\ \`{}\_\_has\_attribute`,\ which\ is\ defined\ by\ GCC\ 5+\ and\ Clang\ and\ evaluates\ to\ a}}
\DoxyCodeLine{00724\ \textcolor{comment}{//\ nonzero\ constant\ integer\ if\ the\ attribute\ is\ supported\ or\ 0\ if\ not.}}
\DoxyCodeLine{00725\ \textcolor{comment}{//}}
\DoxyCodeLine{00726\ \textcolor{comment}{//\ It\ evaluates\ to\ zero\ if\ \`{}\_\_has\_attribute`\ is\ not\ defined\ by\ the\ compiler.}}
\DoxyCodeLine{00727\ \textcolor{comment}{//}}
\DoxyCodeLine{00728\ \textcolor{comment}{//\ GCC:\ https://gcc.gnu.org/gcc-\/5/changes.html}}
\DoxyCodeLine{00729\ \textcolor{comment}{//\ Clang:\ https://clang.llvm.org/docs/LanguageExtensions.html}}
\DoxyCodeLine{00730\ \textcolor{preprocessor}{\#ifdef\ \_\_has\_attribute}}
\DoxyCodeLine{00731\ \textcolor{preprocessor}{\#define\ GTEST\_HAVE\_ATTRIBUTE\_(x)\ \_\_has\_attribute(x)}}
\DoxyCodeLine{00732\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00733\ \textcolor{preprocessor}{\#define\ GTEST\_HAVE\_ATTRIBUTE\_(x)\ 0}}
\DoxyCodeLine{00734\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \textcolor{comment}{//\ GTEST\_INTERNAL\_HAVE\_CPP\_ATTRIBUTE}}
\DoxyCodeLine{00737\ \textcolor{comment}{//}}
\DoxyCodeLine{00738\ \textcolor{comment}{//\ A\ function-\/like\ feature\ checking\ macro\ that\ accepts\ C++11\ style\ attributes.}}
\DoxyCodeLine{00739\ \textcolor{comment}{//\ It's\ a\ wrapper\ around\ \`{}\_\_has\_cpp\_attribute`,\ defined\ by\ ISO\ C++\ SD-\/6}}
\DoxyCodeLine{00740\ \textcolor{comment}{//\ (https://en.cppreference.com/w/cpp/experimental/feature\_test).\ If\ we\ don't}}
\DoxyCodeLine{00741\ \textcolor{comment}{//\ find\ \`{}\_\_has\_cpp\_attribute`,\ will\ evaluate\ to\ 0.}}
\DoxyCodeLine{00742\ \textcolor{preprocessor}{\#if\ defined(\_\_has\_cpp\_attribute)}}
\DoxyCodeLine{00743\ \textcolor{comment}{//\ NOTE:\ requiring\ \_\_cplusplus\ above\ should\ not\ be\ necessary,\ but}}
\DoxyCodeLine{00744\ \textcolor{comment}{//\ works\ around\ https://bugs.llvm.org/show\_bug.cgi?id=23435.}}
\DoxyCodeLine{00745\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAVE\_CPP\_ATTRIBUTE(x)\ \_\_has\_cpp\_attribute(x)}}
\DoxyCodeLine{00746\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00747\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAVE\_CPP\_ATTRIBUTE(x)\ 0}}
\DoxyCodeLine{00748\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00749\ }
\DoxyCodeLine{00750\ \textcolor{comment}{//\ GTEST\_HAVE\_FEATURE\_}}
\DoxyCodeLine{00751\ \textcolor{comment}{//}}
\DoxyCodeLine{00752\ \textcolor{comment}{//\ A\ function-\/like\ feature\ checking\ macro\ that\ is\ a\ wrapper\ around}}
\DoxyCodeLine{00753\ \textcolor{comment}{//\ \`{}\_\_has\_feature`.}}
\DoxyCodeLine{00754\ \textcolor{preprocessor}{\#ifdef\ \_\_has\_feature}}
\DoxyCodeLine{00755\ \textcolor{preprocessor}{\#define\ GTEST\_HAVE\_FEATURE\_(x)\ \_\_has\_feature(x)}}
\DoxyCodeLine{00756\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00757\ \textcolor{preprocessor}{\#define\ GTEST\_HAVE\_FEATURE\_(x)\ 0}}
\DoxyCodeLine{00758\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00759\ }
\DoxyCodeLine{00760\ \textcolor{comment}{//\ Use\ this\ annotation\ before\ a\ function\ that\ takes\ a\ printf\ format\ string.}}
\DoxyCodeLine{00761\ \textcolor{preprocessor}{\#if\ GTEST\_HAVE\_ATTRIBUTE\_(format)\ \&\&\ defined(\_\_MINGW\_PRINTF\_FORMAT)}}
\DoxyCodeLine{00762\ \textcolor{comment}{//\ MinGW\ has\ two\ different\ printf\ implementations.\ Ensure\ the\ format\ macro}}
\DoxyCodeLine{00763\ \textcolor{comment}{//\ matches\ the\ selected\ implementation.\ See}}
\DoxyCodeLine{00764\ \textcolor{comment}{//\ https://sourceforge.net/p/mingw-\/w64/wiki2/gnu\%20printf/.}}
\DoxyCodeLine{00765\ \textcolor{preprocessor}{\#define\ GTEST\_ATTRIBUTE\_PRINTF\_(string\_index,\ first\_to\_check)\ \(\backslash\)}}
\DoxyCodeLine{00766\ \textcolor{preprocessor}{\ \ \_\_attribute\_\_((format(\_\_MINGW\_PRINTF\_FORMAT,\ string\_index,\ first\_to\_check)))}}
\DoxyCodeLine{00767\ \textcolor{preprocessor}{\#elif\ GTEST\_HAVE\_ATTRIBUTE\_(format)}}
\DoxyCodeLine{00768\ \textcolor{preprocessor}{\#define\ GTEST\_ATTRIBUTE\_PRINTF\_(string\_index,\ first\_to\_check)\ \(\backslash\)}}
\DoxyCodeLine{00769\ \textcolor{preprocessor}{\ \ \_\_attribute\_\_((format(printf,\ string\_index,\ first\_to\_check)))}}
\DoxyCodeLine{00770\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00771\ \textcolor{preprocessor}{\#define\ GTEST\_ATTRIBUTE\_PRINTF\_(string\_index,\ first\_to\_check)}}
\DoxyCodeLine{00772\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00773\ }
\DoxyCodeLine{00774\ \textcolor{comment}{//\ MS\ C++\ compiler\ emits\ warning\ when\ a\ conditional\ expression\ is\ compile\ time}}
\DoxyCodeLine{00775\ \textcolor{comment}{//\ constant.\ In\ some\ contexts\ this\ warning\ is\ false\ positive\ and\ needs\ to\ be}}
\DoxyCodeLine{00776\ \textcolor{comment}{//\ suppressed.\ Use\ the\ following\ two\ macros\ in\ such\ cases:}}
\DoxyCodeLine{00777\ \textcolor{comment}{//}}
\DoxyCodeLine{00778\ \textcolor{comment}{//\ GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_()}}
\DoxyCodeLine{00779\ \textcolor{comment}{//\ while\ (true)\ \{}}
\DoxyCodeLine{00780\ \textcolor{comment}{//\ GTEST\_INTENTIONAL\_CONST\_COND\_POP\_()}}
\DoxyCodeLine{00781\ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{00782\ \textcolor{preprocessor}{\#define\ GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_()\ \(\backslash\)}}
\DoxyCodeLine{00783\ \textcolor{preprocessor}{\ \ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4127)}}
\DoxyCodeLine{00784\ \textcolor{preprocessor}{\#define\ GTEST\_INTENTIONAL\_CONST\_COND\_POP\_()\ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{00785\ }
\DoxyCodeLine{00786\ \textcolor{comment}{//\ Determine\ whether\ the\ compiler\ supports\ Microsoft's\ Structured\ Exception}}
\DoxyCodeLine{00787\ \textcolor{comment}{//\ Handling.\ \ This\ is\ supported\ by\ several\ Windows\ compilers\ but\ generally}}
\DoxyCodeLine{00788\ \textcolor{comment}{//\ does\ not\ exist\ on\ any\ other\ system.}}
\DoxyCodeLine{00789\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_SEH}}
\DoxyCodeLine{00790\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us,\ so\ we\ need\ to\ figure\ it\ out.}}
\DoxyCodeLine{00791\ }
\DoxyCodeLine{00792\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)\ ||\ defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{00793\ \textcolor{comment}{//\ These\ two\ compilers\ are\ known\ to\ support\ SEH.}}
\DoxyCodeLine{00794\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_SEH\ 1}}
\DoxyCodeLine{00795\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00796\ \textcolor{comment}{//\ Assume\ no\ SEH.}}
\DoxyCodeLine{00797\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_SEH\ 0}}
\DoxyCodeLine{00798\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00799\ }
\DoxyCodeLine{00800\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_SEH}}
\DoxyCodeLine{00801\ }
\DoxyCodeLine{00802\ \textcolor{preprocessor}{\#ifndef\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{00803\ }
\DoxyCodeLine{00804\ \textcolor{preprocessor}{\#if\ (GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00805\ \textcolor{preprocessor}{\ \ \ \ \ (defined(GTEST\_OS\_WINDOWS)\ \&\&\ !defined(GTEST\_OS\_WINDOWS\_PHONE)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00806\ \textcolor{preprocessor}{\ \ \ \ \ \ !defined(GTEST\_OS\_WINDOWS\_RT))\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00807\ \textcolor{preprocessor}{\ \ \ \ \ GTEST\_HAS\_PTHREAD)}}
\DoxyCodeLine{00808\ \textcolor{preprocessor}{\#define\ GTEST\_IS\_THREADSAFE\ 1}}
\DoxyCodeLine{00809\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00810\ }
\DoxyCodeLine{00811\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{00812\ }
\DoxyCodeLine{00813\ \textcolor{preprocessor}{\#ifdef\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{00814\ \textcolor{comment}{//\ Some\ platforms\ don't\ support\ including\ these\ threading\ related\ headers.}}
\DoxyCodeLine{00815\ \textcolor{preprocessor}{\#include\ <condition\_variable>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00816\ \textcolor{preprocessor}{\#include\ <mutex>}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00817\ \textcolor{preprocessor}{\#endif\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{comment}{//\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{00818\ }
\DoxyCodeLine{00819\ \textcolor{comment}{//\ GTEST\_API\_\ qualifies\ all\ symbols\ that\ must\ be\ exported.\ The\ definitions\ below}}
\DoxyCodeLine{00820\ \textcolor{comment}{//\ are\ guarded\ by\ \#ifndef\ to\ give\ embedders\ a\ chance\ to\ define\ GTEST\_API\_\ in}}
\DoxyCodeLine{00821\ \textcolor{comment}{//\ gtest/internal/custom/gtest-\/port.h}}
\DoxyCodeLine{00822\ \textcolor{preprocessor}{\#ifndef\ GTEST\_API\_}}
\DoxyCodeLine{00823\ }
\DoxyCodeLine{00824\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{00825\ \textcolor{preprocessor}{\#if\ defined(GTEST\_LINKED\_AS\_SHARED\_LIBRARY)\ \&\&\ GTEST\_LINKED\_AS\_SHARED\_LIBRARY}}
\DoxyCodeLine{00826\ \textcolor{preprocessor}{\#define\ GTEST\_API\_\ \_\_declspec(dllimport)}}
\DoxyCodeLine{00827\ \textcolor{preprocessor}{\#elif\ defined(GTEST\_CREATE\_SHARED\_LIBRARY)\ \&\&\ GTEST\_CREATE\_SHARED\_LIBRARY}}
\DoxyCodeLine{00828\ \textcolor{preprocessor}{\#define\ GTEST\_API\_\ \_\_declspec(dllexport)}}
\DoxyCodeLine{00829\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00830\ \textcolor{preprocessor}{\#elif\ GTEST\_HAVE\_ATTRIBUTE\_(visibility)}}
\DoxyCodeLine{00831\ \textcolor{preprocessor}{\#define\ GTEST\_API\_\ \_\_attribute\_\_((visibility("{}default"{})))}}
\DoxyCodeLine{00832\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_MSC\_VER}}
\DoxyCodeLine{00833\ }
\DoxyCodeLine{00834\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_API\_}}
\DoxyCodeLine{00835\ }
\DoxyCodeLine{00836\ \textcolor{preprocessor}{\#ifndef\ GTEST\_API\_}}
\DoxyCodeLine{00837\ \textcolor{preprocessor}{\#define\ GTEST\_API\_}}
\DoxyCodeLine{00838\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_API\_}}
\DoxyCodeLine{00839\ }
\DoxyCodeLine{00840\ \textcolor{preprocessor}{\#ifndef\ GTEST\_DEFAULT\_DEATH\_TEST\_STYLE}}
\DoxyCodeLine{00841\ \textcolor{preprocessor}{\#define\ GTEST\_DEFAULT\_DEATH\_TEST\_STYLE\ "{}fast"{}}}
\DoxyCodeLine{00842\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_DEFAULT\_DEATH\_TEST\_STYLE}}
\DoxyCodeLine{00843\ }
\DoxyCodeLine{00844\ \textcolor{preprocessor}{\#if\ GTEST\_HAVE\_ATTRIBUTE\_(noinline)}}
\DoxyCodeLine{00845\ \textcolor{comment}{//\ Ask\ the\ compiler\ to\ never\ inline\ a\ given\ function.}}
\DoxyCodeLine{00846\ \textcolor{preprocessor}{\#define\ GTEST\_NO\_INLINE\_\ \_\_attribute\_\_((noinline))}}
\DoxyCodeLine{00847\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00848\ \textcolor{preprocessor}{\#define\ GTEST\_NO\_INLINE\_}}
\DoxyCodeLine{00849\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00850\ }
\DoxyCodeLine{00851\ \textcolor{preprocessor}{\#if\ GTEST\_HAVE\_ATTRIBUTE\_(disable\_tail\_calls)}}
\DoxyCodeLine{00852\ \textcolor{comment}{//\ Ask\ the\ compiler\ not\ to\ perform\ tail\ call\ optimization\ inside}}
\DoxyCodeLine{00853\ \textcolor{comment}{//\ the\ marked\ function.}}
\DoxyCodeLine{00854\ \textcolor{preprocessor}{\#define\ GTEST\_NO\_TAIL\_CALL\_\ \_\_attribute\_\_((disable\_tail\_calls))}}
\DoxyCodeLine{00855\ \textcolor{preprocessor}{\#elif\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(\_\_NVCOMPILER)}}
\DoxyCodeLine{00856\ \textcolor{preprocessor}{\#define\ GTEST\_NO\_TAIL\_CALL\_\ \(\backslash\)}}
\DoxyCodeLine{00857\ \textcolor{preprocessor}{\ \ \_\_attribute\_\_((optimize("{}no-\/optimize-\/sibling-\/calls"{})))}}
\DoxyCodeLine{00858\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00859\ \textcolor{preprocessor}{\#define\ GTEST\_NO\_TAIL\_CALL\_}}
\DoxyCodeLine{00860\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00861\ }
\DoxyCodeLine{00862\ \textcolor{comment}{//\ \_LIBCPP\_VERSION\ is\ defined\ by\ the\ libc++\ library\ from\ the\ LLVM\ project.}}
\DoxyCodeLine{00863\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_HAS\_CXXABI\_H\_)}}
\DoxyCodeLine{00864\ \textcolor{preprocessor}{\#if\ defined(\_\_GLIBCXX\_\_)\ ||\ (defined(\_LIBCPP\_VERSION)\ \&\&\ !defined(\_MSC\_VER))}}
\DoxyCodeLine{00865\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_CXXABI\_H\_\ 1}}
\DoxyCodeLine{00866\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00867\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_CXXABI\_H\_\ 0}}
\DoxyCodeLine{00868\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00869\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00870\ }
\DoxyCodeLine{00871\ \textcolor{comment}{//\ A\ function\ level\ attribute\ to\ disable\ checking\ for\ use\ of\ uninitialized}}
\DoxyCodeLine{00872\ \textcolor{comment}{//\ memory\ when\ built\ with\ MemorySanitizer.}}
\DoxyCodeLine{00873\ \textcolor{preprocessor}{\#if\ GTEST\_HAVE\_ATTRIBUTE\_(no\_sanitize\_memory)}}
\DoxyCodeLine{00874\ \textcolor{preprocessor}{\#define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_\ \_\_attribute\_\_((no\_sanitize\_memory))}}
\DoxyCodeLine{00875\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00876\ \textcolor{preprocessor}{\#define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_}}
\DoxyCodeLine{00877\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00878\ }
\DoxyCodeLine{00879\ \textcolor{comment}{//\ A\ function\ level\ attribute\ to\ disable\ AddressSanitizer\ instrumentation.}}
\DoxyCodeLine{00880\ \textcolor{preprocessor}{\#if\ GTEST\_HAVE\_ATTRIBUTE\_(no\_sanitize\_address)}}
\DoxyCodeLine{00881\ \textcolor{preprocessor}{\#define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_\ \(\backslash\)}}
\DoxyCodeLine{00882\ \textcolor{preprocessor}{\ \ \_\_attribute\_\_((no\_sanitize\_address))}}
\DoxyCodeLine{00883\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00884\ \textcolor{preprocessor}{\#define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_}}
\DoxyCodeLine{00885\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00886\ }
\DoxyCodeLine{00887\ \textcolor{comment}{//\ A\ function\ level\ attribute\ to\ disable\ HWAddressSanitizer\ instrumentation.}}
\DoxyCodeLine{00888\ \textcolor{preprocessor}{\#if\ GTEST\_HAVE\_FEATURE\_(hwaddress\_sanitizer)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00889\ \textcolor{preprocessor}{\ \ \ \ GTEST\_HAVE\_ATTRIBUTE\_(no\_sanitize)}}
\DoxyCodeLine{00890\ \textcolor{preprocessor}{\#define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_HWADDRESS\_\ \(\backslash\)}}
\DoxyCodeLine{00891\ \textcolor{preprocessor}{\ \ \_\_attribute\_\_((no\_sanitize("{}hwaddress"{})))}}
\DoxyCodeLine{00892\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00893\ \textcolor{preprocessor}{\#define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_HWADDRESS\_}}
\DoxyCodeLine{00894\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00895\ }
\DoxyCodeLine{00896\ \textcolor{comment}{//\ A\ function\ level\ attribute\ to\ disable\ ThreadSanitizer\ instrumentation.}}
\DoxyCodeLine{00897\ \textcolor{preprocessor}{\#if\ GTEST\_HAVE\_ATTRIBUTE\_(no\_sanitize\_thread)}}
\DoxyCodeLine{00898\ \textcolor{preprocessor}{\#define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_\ \_\_attribute((no\_sanitize\_thread))}}
\DoxyCodeLine{00899\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00900\ \textcolor{preprocessor}{\#define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_}}
\DoxyCodeLine{00901\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00902\ }
\DoxyCodeLine{00903\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{00904\ }
\DoxyCodeLine{00905\ \textcolor{keyword}{class\ }Message;}
\DoxyCodeLine{00906\ }
\DoxyCodeLine{00907\ \textcolor{comment}{//\ Legacy\ imports\ for\ backwards\ compatibility.}}
\DoxyCodeLine{00908\ \textcolor{comment}{//\ New\ code\ should\ use\ std::\ names\ directly.}}
\DoxyCodeLine{00909\ \textcolor{keyword}{using\ }std::get;}
\DoxyCodeLine{00910\ \textcolor{keyword}{using\ }std::make\_tuple;}
\DoxyCodeLine{00911\ \textcolor{keyword}{using\ }std::tuple;}
\DoxyCodeLine{00912\ \textcolor{keyword}{using\ }std::tuple\_element;}
\DoxyCodeLine{00913\ \textcolor{keyword}{using\ }std::tuple\_size;}
\DoxyCodeLine{00914\ }
\DoxyCodeLine{00915\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00916\ }
\DoxyCodeLine{00917\ \textcolor{comment}{//\ A\ secret\ type\ that\ Google\ Test\ users\ don't\ know\ about.\ \ It\ has\ no}}
\DoxyCodeLine{00918\ \textcolor{comment}{//\ accessible\ constructors\ on\ purpose.\ \ Therefore\ it's\ impossible\ to\ create\ a}}
\DoxyCodeLine{00919\ \textcolor{comment}{//\ Secret\ object,\ which\ is\ what\ we\ want.}}
\DoxyCodeLine{00920\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtesting_1_1internal_1_1Secret}{Secret}}\ \{}
\DoxyCodeLine{00921\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1Secret}{Secret}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtesting_1_1internal_1_1Secret}{Secret}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00922\ \};}
\DoxyCodeLine{00923\ }
\DoxyCodeLine{00924\ \textcolor{comment}{//\ A\ helper\ for\ suppressing\ warnings\ on\ constant\ condition.\ \ It\ just}}
\DoxyCodeLine{00925\ \textcolor{comment}{//\ returns\ 'condition'.}}
\DoxyCodeLine{00926\ GTEST\_API\_\ \textcolor{keywordtype}{bool}\ IsTrue(\textcolor{keywordtype}{bool}\ condition);}
\DoxyCodeLine{00927\ }
\DoxyCodeLine{00928\ \textcolor{comment}{//\ Defines\ RE.}}
\DoxyCodeLine{00929\ }
\DoxyCodeLine{00930\ \textcolor{preprocessor}{\#ifdef\ GTEST\_USES\_RE2}}
\DoxyCodeLine{00931\ }
\DoxyCodeLine{00932\ \textcolor{comment}{//\ This\ is\ almost\ \`{}using\ RE\ =\ ::RE2`,\ except\ it\ is\ copy-\/constructible,\ and\ it}}
\DoxyCodeLine{00933\ \textcolor{comment}{//\ needs\ to\ disambiguate\ the\ \`{}std::string`,\ \`{}absl::string\_view`,\ and\ \`{}const}}
\DoxyCodeLine{00934\ \textcolor{comment}{//\ char*`\ constructors.}}
\DoxyCodeLine{00935\ \textcolor{keyword}{class\ }GTEST\_API\_\ RE\ \{}
\DoxyCodeLine{00936\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00937\ \ \ RE(absl::string\_view\ regex)\ :\ regex\_(regex)\ \{\}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00938\ \ \ RE(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ regex)\ :\ RE(absl::string\_view(regex))\ \{\}\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00939\ \ \ RE(\textcolor{keyword}{const}\ std::string\&\ regex)\ :\ RE(absl::string\_view(regex))\ \{\}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00940\ \ \ RE(\textcolor{keyword}{const}\ RE\&\ other)\ :\ RE(other.pattern())\ \{\}}
\DoxyCodeLine{00941\ }
\DoxyCodeLine{00942\ \ \ \textcolor{keyword}{const}\ std::string\&\ pattern()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ regex\_.pattern();\ \}}
\DoxyCodeLine{00943\ }
\DoxyCodeLine{00944\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FullMatch(absl::string\_view\ str,\ \textcolor{keyword}{const}\ RE\&\ re)\ \{}
\DoxyCodeLine{00945\ \ \ \ \ \textcolor{keywordflow}{return}\ RE2::FullMatch(str,\ re.regex\_);}
\DoxyCodeLine{00946\ \ \ \}}
\DoxyCodeLine{00947\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ PartialMatch(absl::string\_view\ str,\ \textcolor{keyword}{const}\ RE\&\ re)\ \{}
\DoxyCodeLine{00948\ \ \ \ \ \textcolor{keywordflow}{return}\ RE2::PartialMatch(str,\ re.regex\_);}
\DoxyCodeLine{00949\ \ \ \}}
\DoxyCodeLine{00950\ }
\DoxyCodeLine{00951\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00952\ \ \ RE2\ regex\_;}
\DoxyCodeLine{00953\ \};}
\DoxyCodeLine{00954\ }
\DoxyCodeLine{00955\ \textcolor{preprocessor}{\#elif\ defined(GTEST\_USES\_POSIX\_RE)\ ||\ defined(GTEST\_USES\_SIMPLE\_RE)}}
\DoxyCodeLine{00956\ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4251\ \(\backslash\)}
\DoxyCodeLine{00957\ \textcolor{comment}{/*\ class\ A\ needs\ to\ have\ dll-\/interface\ to\ be\ used\ by\ clients\ of\ class\ B\ */})}
\DoxyCodeLine{00958\ }
\DoxyCodeLine{00959\ \textcolor{comment}{//\ A\ simple\ C++\ wrapper\ for\ <regex.h>.\ \ It\ uses\ the\ POSIX\ Extended}}
\DoxyCodeLine{00960\ \textcolor{comment}{//\ Regular\ Expression\ syntax.}}
\DoxyCodeLine{00961\ class\ GTEST\_API\_\ RE\ \{}
\DoxyCodeLine{00962\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00963\ \ \ \textcolor{comment}{//\ A\ copy\ constructor\ is\ required\ by\ the\ Standard\ to\ initialize\ object}}
\DoxyCodeLine{00964\ \ \ \textcolor{comment}{//\ references\ from\ r-\/values.}}
\DoxyCodeLine{00965\ \ \ RE(\textcolor{keyword}{const}\ RE\&\ other)\ \{\ Init(other.pattern());\ \}}
\DoxyCodeLine{00966\ }
\DoxyCodeLine{00967\ \ \ \textcolor{comment}{//\ Constructs\ an\ RE\ from\ a\ string.}}
\DoxyCodeLine{00968\ \ \ RE(const\ ::std::string\&\ regex)\ \{\ Init(regex.c\_str());\ \}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00969\ }
\DoxyCodeLine{00970\ \ \ RE(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ regex)\ \{\ Init(regex);\ \}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00971\ \ \ \string~RE();}
\DoxyCodeLine{00972\ }
\DoxyCodeLine{00973\ \ \ \textcolor{comment}{//\ Returns\ the\ string\ representation\ of\ the\ regex.}}
\DoxyCodeLine{00974\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ pattern()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ pattern\_.c\_str();\ \}}
\DoxyCodeLine{00975\ }
\DoxyCodeLine{00976\ \ \ \textcolor{comment}{//\ FullMatch(str,\ re)\ returns\ true\ if\ and\ only\ if\ regular\ expression\ re}}
\DoxyCodeLine{00977\ \ \ \textcolor{comment}{//\ matches\ the\ entire\ str.}}
\DoxyCodeLine{00978\ \ \ \textcolor{comment}{//\ PartialMatch(str,\ re)\ returns\ true\ if\ and\ only\ if\ regular\ expression\ re}}
\DoxyCodeLine{00979\ \ \ \textcolor{comment}{//\ matches\ a\ substring\ of\ str\ (including\ str\ itself).}}
\DoxyCodeLine{00980\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FullMatch(const\ ::std::string\&\ str,\ \textcolor{keyword}{const}\ RE\&\ re)\ \{}
\DoxyCodeLine{00981\ \ \ \ \ \textcolor{keywordflow}{return}\ FullMatch(str.c\_str(),\ re);}
\DoxyCodeLine{00982\ \ \ \}}
\DoxyCodeLine{00983\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ PartialMatch(const\ ::std::string\&\ str,\ \textcolor{keyword}{const}\ RE\&\ re)\ \{}
\DoxyCodeLine{00984\ \ \ \ \ \textcolor{keywordflow}{return}\ PartialMatch(str.c\_str(),\ re);}
\DoxyCodeLine{00985\ \ \ \}}
\DoxyCodeLine{00986\ }
\DoxyCodeLine{00987\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FullMatch(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keyword}{const}\ RE\&\ re);}
\DoxyCodeLine{00988\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ PartialMatch(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keyword}{const}\ RE\&\ re);}
\DoxyCodeLine{00989\ }
\DoxyCodeLine{00990\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00991\ \ \ \textcolor{keywordtype}{void}\ Init(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ regex);}
\DoxyCodeLine{00992\ \ \ std::string\ pattern\_;}
\DoxyCodeLine{00993\ \ \ \textcolor{keywordtype}{bool}\ is\_valid\_;}
\DoxyCodeLine{00994\ }
\DoxyCodeLine{00995\ \textcolor{preprocessor}{\#ifdef\ GTEST\_USES\_POSIX\_RE}}
\DoxyCodeLine{00996\ }
\DoxyCodeLine{00997\ \ \ regex\_t\ full\_regex\_;\ \ \ \ \ \textcolor{comment}{//\ For\ FullMatch().}}
\DoxyCodeLine{00998\ \ \ regex\_t\ partial\_regex\_;\ \ \textcolor{comment}{//\ For\ PartialMatch().}}
\DoxyCodeLine{00999\ }
\DoxyCodeLine{01000\ \textcolor{preprocessor}{\#else\ \ }\textcolor{comment}{//\ GTEST\_USES\_SIMPLE\_RE}}
\DoxyCodeLine{01001\ }
\DoxyCodeLine{01002\ \ \ std::string\ full\_pattern\_;\ \ \textcolor{comment}{//\ For\ FullMatch();}}
\DoxyCodeLine{01003\ }
\DoxyCodeLine{01004\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01005\ \};}
\DoxyCodeLine{01006\ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()\ \ \textcolor{comment}{//\ 4251}}
\DoxyCodeLine{01007\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ ::testing::internal::RE\ implementation}}
\DoxyCodeLine{01008\ }
\DoxyCodeLine{01009\ \textcolor{comment}{//\ Formats\ a\ source\ file\ path\ and\ a\ line\ number\ as\ they\ would\ appear}}
\DoxyCodeLine{01010\ \textcolor{comment}{//\ in\ an\ error\ message\ from\ the\ compiler\ used\ to\ compile\ this\ code.}}
\DoxyCodeLine{01011\ GTEST\_API\_\ ::std::string\ FormatFileLocation(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,\ \textcolor{keywordtype}{int}\ line);}
\DoxyCodeLine{01012\ }
\DoxyCodeLine{01013\ \textcolor{comment}{//\ Formats\ a\ file\ location\ for\ compiler-\/independent\ XML\ output.}}
\DoxyCodeLine{01014\ \textcolor{comment}{//\ Although\ this\ function\ is\ not\ platform\ dependent,\ we\ put\ it\ next\ to}}
\DoxyCodeLine{01015\ \textcolor{comment}{//\ FormatFileLocation\ in\ order\ to\ contrast\ the\ two\ functions.}}
\DoxyCodeLine{01016\ GTEST\_API\_\ ::std::string\ FormatCompilerIndependentFileLocation(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,}
\DoxyCodeLine{01017\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ line);}
\DoxyCodeLine{01018\ }
\DoxyCodeLine{01019\ \textcolor{comment}{//\ Defines\ logging\ utilities:}}
\DoxyCodeLine{01020\ \textcolor{comment}{//\ \ \ GTEST\_LOG\_(severity)\ -\/\ logs\ messages\ at\ the\ specified\ severity\ level.\ The}}
\DoxyCodeLine{01021\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message\ itself\ is\ streamed\ into\ the\ macro.}}
\DoxyCodeLine{01022\ \textcolor{comment}{//\ \ \ LogToStderr()\ \ -\/\ directs\ all\ log\ messages\ to\ stderr.}}
\DoxyCodeLine{01023\ \textcolor{comment}{//\ \ \ FlushInfoLog()\ -\/\ flushes\ informational\ log\ messages.}}
\DoxyCodeLine{01024\ }
\DoxyCodeLine{01025\ \textcolor{keyword}{enum}\ GTestLogSeverity\ \{\ GTEST\_INFO,\ GTEST\_WARNING,\ GTEST\_ERROR,\ GTEST\_FATAL\ \};}
\DoxyCodeLine{01026\ }
\DoxyCodeLine{01027\ \textcolor{comment}{//\ Formats\ log\ entry\ severity,\ provides\ a\ stream\ object\ for\ streaming\ the}}
\DoxyCodeLine{01028\ \textcolor{comment}{//\ log\ message,\ and\ terminates\ the\ message\ with\ a\ newline\ when\ going\ out\ of}}
\DoxyCodeLine{01029\ \textcolor{comment}{//\ scope.}}
\DoxyCodeLine{01030\ \textcolor{keyword}{class\ }GTEST\_API\_\ \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}}\ \{}
\DoxyCodeLine{01031\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01032\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}}(GTestLogSeverity\ severity,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,\ \textcolor{keywordtype}{int}\ line);}
\DoxyCodeLine{01033\ }
\DoxyCodeLine{01034\ \ \ \textcolor{comment}{//\ Flushes\ the\ buffers\ and,\ if\ severity\ is\ GTEST\_FATAL,\ aborts\ the\ program.}}
\DoxyCodeLine{01035\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{\string~GTestLog}}();}
\DoxyCodeLine{01036\ }
\DoxyCodeLine{01037\ \ \ ::std::ostream\&\ GetStream()\ \{\ return\ ::std::cerr;\ \}}
\DoxyCodeLine{01038\ }
\DoxyCodeLine{01039\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01040\ \ \ \textcolor{keyword}{const}\ GTestLogSeverity\ severity\_;}
\DoxyCodeLine{01041\ }
\DoxyCodeLine{01042\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01043\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01044\ \};}
\DoxyCodeLine{01045\ }
\DoxyCodeLine{01046\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_LOG\_)}}
\DoxyCodeLine{01047\ }
\DoxyCodeLine{01048\ \textcolor{preprocessor}{\#define\ GTEST\_LOG\_(severity)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01049\ \textcolor{preprocessor}{\ \ ::testing::internal::GTestLog(::testing::internal::GTEST\_\#\#severity,\ \(\backslash\)}}
\DoxyCodeLine{01050\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_FILE\_\_,\ \_\_LINE\_\_)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01051\ \textcolor{preprocessor}{\ \ \ \ \ \ .GetStream()}}
\DoxyCodeLine{01052\ }
\DoxyCodeLine{01053\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ LogToStderr()\ \{\}}
\DoxyCodeLine{01054\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ FlushInfoLog()\ \{\ fflush(\textcolor{keyword}{nullptr});\ \}}
\DoxyCodeLine{01055\ }
\DoxyCodeLine{01056\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_LOG\_)}}
\DoxyCodeLine{01057\ }
\DoxyCodeLine{01058\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_CHECK\_)}}
\DoxyCodeLine{01059\ \textcolor{comment}{//\ INTERNAL\ IMPLEMENTATION\ -\/\ DO\ NOT\ USE.}}
\DoxyCodeLine{01060\ \textcolor{comment}{//}}
\DoxyCodeLine{01061\ \textcolor{comment}{//\ GTEST\_CHECK\_\ is\ an\ all-\/mode\ assert.\ It\ aborts\ the\ program\ if\ the\ condition}}
\DoxyCodeLine{01062\ \textcolor{comment}{//\ is\ not\ satisfied.}}
\DoxyCodeLine{01063\ \textcolor{comment}{//\ \ Synopsis:}}
\DoxyCodeLine{01064\ \textcolor{comment}{//\ \ \ \ GTEST\_CHECK\_(boolean\_condition);}}
\DoxyCodeLine{01065\ \textcolor{comment}{//\ \ \ \ \ or}}
\DoxyCodeLine{01066\ \textcolor{comment}{//\ \ \ \ GTEST\_CHECK\_(boolean\_condition)\ <<\ "{}Additional\ message"{};}}
\DoxyCodeLine{01067\ \textcolor{comment}{//}}
\DoxyCodeLine{01068\ \textcolor{comment}{//\ \ \ \ This\ checks\ the\ condition\ and\ if\ the\ condition\ is\ not\ satisfied}}
\DoxyCodeLine{01069\ \textcolor{comment}{//\ \ \ \ it\ prints\ message\ about\ the\ condition\ violation,\ including\ the}}
\DoxyCodeLine{01070\ \textcolor{comment}{//\ \ \ \ condition\ itself,\ plus\ additional\ message\ streamed\ into\ it,\ if\ any,}}
\DoxyCodeLine{01071\ \textcolor{comment}{//\ \ \ \ and\ then\ it\ aborts\ the\ program.\ It\ aborts\ the\ program\ irrespective\ of}}
\DoxyCodeLine{01072\ \textcolor{comment}{//\ \ \ \ whether\ it\ is\ built\ in\ the\ debug\ mode\ or\ not.}}
\DoxyCodeLine{01073\ \textcolor{preprocessor}{\#define\ GTEST\_CHECK\_(condition)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01074\ \textcolor{preprocessor}{\ \ GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01075\ \textcolor{preprocessor}{\ \ if\ (::testing::internal::IsTrue(condition))\ \(\backslash\)}}
\DoxyCodeLine{01076\ \textcolor{preprocessor}{\ \ \ \ ;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01077\ \textcolor{preprocessor}{\ \ else\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01078\ \textcolor{preprocessor}{\ \ \ \ GTEST\_LOG\_(FATAL)\ <<\ "{}Condition\ "{}\ \#condition\ "{}\ failed.\ "{}}}
\DoxyCodeLine{01079\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_CHECK\_)}}
\DoxyCodeLine{01080\ }
\DoxyCodeLine{01081\ \textcolor{comment}{//\ An\ all-\/mode\ assert\ to\ verify\ that\ the\ given\ POSIX-\/style\ function}}
\DoxyCodeLine{01082\ \textcolor{comment}{//\ call\ returns\ 0\ (indicating\ success).\ \ Known\ limitation:\ this}}
\DoxyCodeLine{01083\ \textcolor{comment}{//\ doesn't\ expand\ to\ a\ balanced\ 'if'\ statement,\ so\ enclose\ the\ macro}}
\DoxyCodeLine{01084\ \textcolor{comment}{//\ in\ \{\}\ if\ you\ need\ to\ use\ it\ as\ the\ only\ statement\ in\ an\ 'if'}}
\DoxyCodeLine{01085\ \textcolor{comment}{//\ branch.}}
\DoxyCodeLine{01086\ \textcolor{preprocessor}{\#define\ GTEST\_CHECK\_POSIX\_SUCCESS\_(posix\_call)\ \(\backslash\)}}
\DoxyCodeLine{01087\ \textcolor{preprocessor}{\ \ if\ (const\ int\ gtest\_error\ =\ (posix\_call))\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01088\ \textcolor{preprocessor}{\ \ GTEST\_LOG\_(FATAL)\ <<\ \#posix\_call\ <<\ "{}failed\ with\ error\ "{}\ <<\ gtest\_error}}
\DoxyCodeLine{01089\ }
\DoxyCodeLine{01090\ \textcolor{comment}{//\ Transforms\ "{}T"{}\ into\ "{}const\ T\&"{}\ according\ to\ standard\ reference\ collapsing}}
\DoxyCodeLine{01091\ \textcolor{comment}{//\ rules\ (this\ is\ only\ needed\ as\ a\ backport\ for\ C++98\ compilers\ that\ do\ not}}
\DoxyCodeLine{01092\ \textcolor{comment}{//\ support\ reference\ collapsing).\ Specifically,\ it\ transforms:}}
\DoxyCodeLine{01093\ \textcolor{comment}{//}}
\DoxyCodeLine{01094\ \textcolor{comment}{//\ \ \ char\ \ \ \ \ \ \ \ \ ==>\ const\ char\&}}
\DoxyCodeLine{01095\ \textcolor{comment}{//\ \ \ const\ char\ \ \ ==>\ const\ char\&}}
\DoxyCodeLine{01096\ \textcolor{comment}{//\ \ \ char\&\ \ \ \ \ \ \ \ ==>\ char\&}}
\DoxyCodeLine{01097\ \textcolor{comment}{//\ \ \ const\ char\&\ \ ==>\ const\ char\&}}
\DoxyCodeLine{01098\ \textcolor{comment}{//}}
\DoxyCodeLine{01099\ \textcolor{comment}{//\ Note\ that\ the\ non-\/const\ reference\ will\ not\ have\ "{}const"{}\ added.\ This\ is}}
\DoxyCodeLine{01100\ \textcolor{comment}{//\ standard,\ and\ necessary\ so\ that\ "{}T"{}\ can\ always\ bind\ to\ "{}const\ T\&"{}.}}
\DoxyCodeLine{01101\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01102\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtesting_1_1internal_1_1ConstRef}{ConstRef}}\ \{}
\DoxyCodeLine{01103\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{const}\ T\&\ type;}
\DoxyCodeLine{01104\ \};}
\DoxyCodeLine{01105\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01106\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtesting_1_1internal_1_1ConstRef}{ConstRef}}<T\&>\ \{}
\DoxyCodeLine{01107\ \ \ \textcolor{keyword}{typedef}\ T\&\ type;}
\DoxyCodeLine{01108\ \};}
\DoxyCodeLine{01109\ }
\DoxyCodeLine{01110\ \textcolor{comment}{//\ The\ argument\ T\ must\ depend\ on\ some\ template\ parameters.}}
\DoxyCodeLine{01111\ \textcolor{preprocessor}{\#define\ GTEST\_REFERENCE\_TO\_CONST\_(T)\ \(\backslash\)}}
\DoxyCodeLine{01112\ \textcolor{preprocessor}{\ \ typename\ ::testing::internal::ConstRef<T>::type}}
\DoxyCodeLine{01113\ }
\DoxyCodeLine{01114\ \textcolor{comment}{//\ INTERNAL\ IMPLEMENTATION\ -\/\ DO\ NOT\ USE\ IN\ USER\ CODE.}}
\DoxyCodeLine{01115\ \textcolor{comment}{//}}
\DoxyCodeLine{01116\ \textcolor{comment}{//\ Use\ ImplicitCast\_\ as\ a\ safe\ version\ of\ static\_cast\ for\ upcasting\ in}}
\DoxyCodeLine{01117\ \textcolor{comment}{//\ the\ type\ hierarchy\ (e.g.\ casting\ a\ Foo*\ to\ a\ SuperclassOfFoo*\ or\ a}}
\DoxyCodeLine{01118\ \textcolor{comment}{//\ const\ Foo*).\ \ When\ you\ use\ ImplicitCast\_,\ the\ compiler\ checks\ that}}
\DoxyCodeLine{01119\ \textcolor{comment}{//\ the\ cast\ is\ safe.\ \ Such\ explicit\ ImplicitCast\_s\ are\ necessary\ in}}
\DoxyCodeLine{01120\ \textcolor{comment}{//\ surprisingly\ many\ situations\ where\ C++\ demands\ an\ exact\ type\ match}}
\DoxyCodeLine{01121\ \textcolor{comment}{//\ instead\ of\ an\ argument\ type\ convertible\ to\ a\ target\ type.}}
\DoxyCodeLine{01122\ \textcolor{comment}{//}}
\DoxyCodeLine{01123\ \textcolor{comment}{//\ The\ syntax\ for\ using\ ImplicitCast\_\ is\ the\ same\ as\ for\ static\_cast:}}
\DoxyCodeLine{01124\ \textcolor{comment}{//}}
\DoxyCodeLine{01125\ \textcolor{comment}{//\ \ \ ImplicitCast\_<ToType>(expr)}}
\DoxyCodeLine{01126\ \textcolor{comment}{//}}
\DoxyCodeLine{01127\ \textcolor{comment}{//\ ImplicitCast\_\ would\ have\ been\ part\ of\ the\ C++\ standard\ library,}}
\DoxyCodeLine{01128\ \textcolor{comment}{//\ but\ the\ proposal\ was\ submitted\ too\ late.\ \ It\ will\ probably\ make}}
\DoxyCodeLine{01129\ \textcolor{comment}{//\ its\ way\ into\ the\ language\ in\ the\ future.}}
\DoxyCodeLine{01130\ \textcolor{comment}{//}}
\DoxyCodeLine{01131\ \textcolor{comment}{//\ This\ relatively\ ugly\ name\ is\ intentional.\ It\ prevents\ clashes\ with}}
\DoxyCodeLine{01132\ \textcolor{comment}{//\ similar\ functions\ users\ may\ have\ (e.g.,\ implicit\_cast).\ The\ internal}}
\DoxyCodeLine{01133\ \textcolor{comment}{//\ namespace\ alone\ is\ not\ enough\ because\ the\ function\ can\ be\ found\ by\ ADL.}}
\DoxyCodeLine{01134\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To>}
\DoxyCodeLine{01135\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classtesting_1_1internal_1_1To}{To}}\ ImplicitCast\_(\mbox{\hyperlink{classtesting_1_1internal_1_1To}{To}}\ x)\ \{}
\DoxyCodeLine{01136\ \ \ \textcolor{keywordflow}{return}\ x;}
\DoxyCodeLine{01137\ \}}
\DoxyCodeLine{01138\ }
\DoxyCodeLine{01139\ \textcolor{comment}{//\ Downcasts\ the\ pointer\ of\ type\ Base\ to\ Derived.}}
\DoxyCodeLine{01140\ \textcolor{comment}{//\ Derived\ must\ be\ a\ subclass\ of\ Base.\ The\ parameter\ MUST}}
\DoxyCodeLine{01141\ \textcolor{comment}{//\ point\ to\ a\ class\ of\ type\ Derived,\ not\ any\ subclass\ of\ it.}}
\DoxyCodeLine{01142\ \textcolor{comment}{//\ When\ RTTI\ is\ available,\ the\ function\ performs\ a\ runtime}}
\DoxyCodeLine{01143\ \textcolor{comment}{//\ check\ to\ enforce\ this.}}
\DoxyCodeLine{01144\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Derived,\ \textcolor{keyword}{class}\ Base>}
\DoxyCodeLine{01145\ Derived*\ CheckedDowncastToActualType(Base*\ base)\ \{}
\DoxyCodeLine{01146\ \ \ \textcolor{keyword}{static\_assert}(std::is\_base\_of<Base,\ Derived>::value,}
\DoxyCodeLine{01147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}target\ type\ not\ derived\ from\ source\ type"{}});}
\DoxyCodeLine{01148\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_RTTI}}
\DoxyCodeLine{01149\ \ \ GTEST\_CHECK\_(base\ ==\ \textcolor{keyword}{nullptr}\ ||\ \textcolor{keyword}{dynamic\_cast<}Derived*\textcolor{keyword}{>}(base)\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01150\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01151\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}Derived*\textcolor{keyword}{>}(base);}
\DoxyCodeLine{01152\ \}}
\DoxyCodeLine{01153\ }
\DoxyCodeLine{01154\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{01155\ }
\DoxyCodeLine{01156\ \textcolor{comment}{//\ Defines\ the\ stderr\ capturer:}}
\DoxyCodeLine{01157\ \textcolor{comment}{//\ \ \ CaptureStdout\ \ \ \ \ -\/\ starts\ capturing\ stdout.}}
\DoxyCodeLine{01158\ \textcolor{comment}{//\ \ \ GetCapturedStdout\ -\/\ stops\ capturing\ stdout\ and\ returns\ the\ captured\ string.}}
\DoxyCodeLine{01159\ \textcolor{comment}{//\ \ \ CaptureStderr\ \ \ \ \ -\/\ starts\ capturing\ stderr.}}
\DoxyCodeLine{01160\ \textcolor{comment}{//\ \ \ GetCapturedStderr\ -\/\ stops\ capturing\ stderr\ and\ returns\ the\ captured\ string.}}
\DoxyCodeLine{01161\ \textcolor{comment}{//}}
\DoxyCodeLine{01162\ GTEST\_API\_\ \textcolor{keywordtype}{void}\ CaptureStdout();}
\DoxyCodeLine{01163\ GTEST\_API\_\ std::string\ GetCapturedStdout();}
\DoxyCodeLine{01164\ GTEST\_API\_\ \textcolor{keywordtype}{void}\ CaptureStderr();}
\DoxyCodeLine{01165\ GTEST\_API\_\ std::string\ GetCapturedStderr();}
\DoxyCodeLine{01166\ }
\DoxyCodeLine{01167\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{01168\ \textcolor{comment}{//\ Returns\ the\ size\ (in\ bytes)\ of\ a\ file.}}
\DoxyCodeLine{01169\ GTEST\_API\_\ \textcolor{keywordtype}{size\_t}\ GetFileSize(FILE*\ file);}
\DoxyCodeLine{01170\ }
\DoxyCodeLine{01171\ \textcolor{comment}{//\ Reads\ the\ entire\ content\ of\ a\ file\ as\ a\ string.}}
\DoxyCodeLine{01172\ GTEST\_API\_\ std::string\ ReadEntireFile(FILE*\ file);}
\DoxyCodeLine{01173\ }
\DoxyCodeLine{01174\ \textcolor{comment}{//\ All\ command\ line\ arguments.}}
\DoxyCodeLine{01175\ GTEST\_API\_\ std::vector<std::string>\ GetArgvs();}
\DoxyCodeLine{01176\ }
\DoxyCodeLine{01177\ \textcolor{preprocessor}{\#ifdef\ GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{01178\ }
\DoxyCodeLine{01179\ std::vector<std::string>\ GetInjectableArgvs();}
\DoxyCodeLine{01180\ \textcolor{comment}{//\ Deprecated:\ pass\ the\ args\ vector\ by\ value\ instead.}}
\DoxyCodeLine{01181\ \textcolor{keywordtype}{void}\ SetInjectableArgvs(\textcolor{keyword}{const}\ std::vector<std::string>*\ new\_argvs);}
\DoxyCodeLine{01182\ \textcolor{keywordtype}{void}\ SetInjectableArgvs(\textcolor{keyword}{const}\ std::vector<std::string>\&\ new\_argvs);}
\DoxyCodeLine{01183\ \textcolor{keywordtype}{void}\ ClearInjectableArgvs();}
\DoxyCodeLine{01184\ }
\DoxyCodeLine{01185\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{01186\ }
\DoxyCodeLine{01187\ \textcolor{comment}{//\ Defines\ synchronization\ primitives.}}
\DoxyCodeLine{01188\ \textcolor{preprocessor}{\#ifdef\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{01189\ }
\DoxyCodeLine{01190\ \textcolor{preprocessor}{\#ifdef\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{01191\ \textcolor{comment}{//\ Provides\ leak-\/safe\ Windows\ kernel\ handle\ ownership.}}
\DoxyCodeLine{01192\ \textcolor{comment}{//\ Used\ in\ death\ tests\ and\ in\ threading\ support.}}
\DoxyCodeLine{01193\ \textcolor{keyword}{class\ }GTEST\_API\_\ AutoHandle\ \{}
\DoxyCodeLine{01194\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01195\ \ \ \textcolor{comment}{//\ Assume\ that\ Win32\ HANDLE\ type\ is\ equivalent\ to\ void*.\ Doing\ so\ allows\ us\ to}}
\DoxyCodeLine{01196\ \ \ \textcolor{comment}{//\ avoid\ including\ <windows.h>\ in\ this\ header\ file.\ Including\ <windows.h>\ is}}
\DoxyCodeLine{01197\ \ \ \textcolor{comment}{//\ undesirable\ because\ it\ defines\ a\ lot\ of\ symbols\ and\ macros\ that\ tend\ to}}
\DoxyCodeLine{01198\ \ \ \textcolor{comment}{//\ conflict\ with\ client\ code.\ This\ assumption\ is\ verified\ by}}
\DoxyCodeLine{01199\ \ \ \textcolor{comment}{//\ WindowsTypesTest.HANDLEIsVoidStar.}}
\DoxyCodeLine{01200\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}*\ Handle;}
\DoxyCodeLine{01201\ \ \ AutoHandle();}
\DoxyCodeLine{01202\ \ \ \textcolor{keyword}{explicit}\ AutoHandle(Handle\ handle);}
\DoxyCodeLine{01203\ }
\DoxyCodeLine{01204\ \ \ \string~AutoHandle();}
\DoxyCodeLine{01205\ }
\DoxyCodeLine{01206\ \ \ Handle\ Get()\ \textcolor{keyword}{const};}
\DoxyCodeLine{01207\ \ \ \textcolor{keywordtype}{void}\ Reset();}
\DoxyCodeLine{01208\ \ \ \textcolor{keywordtype}{void}\ Reset(Handle\ handle);}
\DoxyCodeLine{01209\ }
\DoxyCodeLine{01210\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01211\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ and\ only\ if\ the\ handle\ is\ a\ valid\ handle\ object\ that\ can\ be}}
\DoxyCodeLine{01212\ \ \ \textcolor{comment}{//\ closed.}}
\DoxyCodeLine{01213\ \ \ \textcolor{keywordtype}{bool}\ IsCloseable()\ \textcolor{keyword}{const};}
\DoxyCodeLine{01214\ }
\DoxyCodeLine{01215\ \ \ Handle\ handle\_;}
\DoxyCodeLine{01216\ }
\DoxyCodeLine{01217\ \ \ AutoHandle(\textcolor{keyword}{const}\ AutoHandle\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01218\ \ \ AutoHandle\&\ operator=(\textcolor{keyword}{const}\ AutoHandle\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01219\ \};}
\DoxyCodeLine{01220\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01221\ }
\DoxyCodeLine{01222\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_NOTIFICATION\_}}
\DoxyCodeLine{01223\ \textcolor{comment}{//\ Notification\ has\ already\ been\ imported\ into\ the\ namespace.}}
\DoxyCodeLine{01224\ \textcolor{comment}{//\ Nothing\ to\ do\ here.}}
\DoxyCodeLine{01225\ }
\DoxyCodeLine{01226\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01227\ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4251\ \(\backslash\)}
\DoxyCodeLine{01228\ \textcolor{comment}{/*\ class\ A\ needs\ to\ have\ dll-\/interface\ to\ be\ used\ by\ clients\ of\ class\ B\ */})}
\DoxyCodeLine{01229\ }
\DoxyCodeLine{01230\ \textcolor{comment}{//\ Allows\ a\ controller\ thread\ to\ pause\ execution\ of\ newly\ created}}
\DoxyCodeLine{01231\ \textcolor{comment}{//\ threads\ until\ notified.\ \ Instances\ of\ this\ class\ must\ be\ created}}
\DoxyCodeLine{01232\ \textcolor{comment}{//\ and\ destroyed\ in\ the\ controller\ thread.}}
\DoxyCodeLine{01233\ \textcolor{comment}{//}}
\DoxyCodeLine{01234\ \textcolor{comment}{//\ This\ class\ is\ only\ for\ testing\ Google\ Test's\ own\ constructs.\ Do\ not}}
\DoxyCodeLine{01235\ \textcolor{comment}{//\ use\ it\ in\ user\ tests,\ either\ directly\ or\ indirectly.}}
\DoxyCodeLine{01236\ \textcolor{comment}{//\ TODO(b/203539622):\ Replace\ unconditionally\ with\ absl::Notification.}}
\DoxyCodeLine{01237\ class\ GTEST\_API\_\ Notification\ \{}
\DoxyCodeLine{01238\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01239\ \ \ Notification()\ :\ notified\_(false)\ \{\}}
\DoxyCodeLine{01240\ \ \ Notification(\textcolor{keyword}{const}\ Notification\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01241\ \ \ Notification\&\ operator=(\textcolor{keyword}{const}\ Notification\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01242\ }
\DoxyCodeLine{01243\ \ \ \textcolor{comment}{//\ Notifies\ all\ threads\ created\ with\ this\ notification\ to\ start.\ Must}}
\DoxyCodeLine{01244\ \ \ \textcolor{comment}{//\ be\ called\ from\ the\ controller\ thread.}}
\DoxyCodeLine{01245\ \ \ \textcolor{keywordtype}{void}\ Notify()\ \{}
\DoxyCodeLine{01246\ \ \ \ \ std::lock\_guard<std::mutex>\ lock(mu\_);}
\DoxyCodeLine{01247\ \ \ \ \ notified\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01248\ \ \ \ \ cv\_.notify\_all();}
\DoxyCodeLine{01249\ \ \ \}}
\DoxyCodeLine{01250\ }
\DoxyCodeLine{01251\ \ \ \textcolor{comment}{//\ Blocks\ until\ the\ controller\ thread\ notifies.\ Must\ be\ called\ from\ a\ test}}
\DoxyCodeLine{01252\ \ \ \textcolor{comment}{//\ thread.}}
\DoxyCodeLine{01253\ \ \ \textcolor{keywordtype}{void}\ WaitForNotification()\ \{}
\DoxyCodeLine{01254\ \ \ \ \ std::unique\_lock<std::mutex>\ lock(mu\_);}
\DoxyCodeLine{01255\ \ \ \ \ cv\_.wait(lock,\ [\textcolor{keyword}{this}]()\ \{\ \textcolor{keywordflow}{return}\ notified\_;\ \});}
\DoxyCodeLine{01256\ \ \ \}}
\DoxyCodeLine{01257\ }
\DoxyCodeLine{01258\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01259\ \ \ std::mutex\ mu\_;}
\DoxyCodeLine{01260\ \ \ std::condition\_variable\ cv\_;}
\DoxyCodeLine{01261\ \ \ \textcolor{keywordtype}{bool}\ notified\_;}
\DoxyCodeLine{01262\ \};}
\DoxyCodeLine{01263\ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()\ \ \textcolor{comment}{//\ 4251}}
\DoxyCodeLine{01264\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_NOTIFICATION\_}}
\DoxyCodeLine{01265\ }
\DoxyCodeLine{01266\ \textcolor{comment}{//\ On\ MinGW,\ we\ can\ have\ both\ GTEST\_OS\_WINDOWS\ and\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{01267\ \textcolor{comment}{//\ defined,\ but\ we\ don't\ want\ to\ use\ MinGW's\ pthreads\ implementation,\ which}}
\DoxyCodeLine{01268\ \textcolor{comment}{//\ has\ conformance\ problems\ with\ some\ versions\ of\ the\ POSIX\ standard.}}
\DoxyCodeLine{01269\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_PTHREAD\ \&\&\ !defined(GTEST\_OS\_WINDOWS\_MINGW)}}
\DoxyCodeLine{01270\ }
\DoxyCodeLine{01271\ \textcolor{comment}{//\ As\ a\ C-\/function,\ ThreadFuncWithCLinkage\ cannot\ be\ templated\ itself.}}
\DoxyCodeLine{01272\ \textcolor{comment}{//\ Consequently,\ it\ cannot\ select\ a\ correct\ instantiation\ of\ ThreadWithParam}}
\DoxyCodeLine{01273\ \textcolor{comment}{//\ in\ order\ to\ call\ its\ Run().\ Introducing\ ThreadWithParamBase\ as\ a}}
\DoxyCodeLine{01274\ \textcolor{comment}{//\ non-\/templated\ base\ class\ for\ ThreadWithParam\ allows\ us\ to\ bypass\ this}}
\DoxyCodeLine{01275\ \textcolor{comment}{//\ problem.}}
\DoxyCodeLine{01276\ \textcolor{keyword}{class\ }ThreadWithParamBase\ \{}
\DoxyCodeLine{01277\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01278\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadWithParamBase()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{01279\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Run()\ =\ 0;}
\DoxyCodeLine{01280\ \};}
\DoxyCodeLine{01281\ }
\DoxyCodeLine{01282\ \textcolor{comment}{//\ pthread\_create()\ accepts\ a\ pointer\ to\ a\ function\ type\ with\ the\ C\ linkage.}}
\DoxyCodeLine{01283\ \textcolor{comment}{//\ According\ to\ the\ Standard\ (7.5/1),\ function\ types\ with\ different\ linkages}}
\DoxyCodeLine{01284\ \textcolor{comment}{//\ are\ different\ even\ if\ they\ are\ otherwise\ identical.\ \ Some\ compilers\ (for}}
\DoxyCodeLine{01285\ \textcolor{comment}{//\ example,\ SunStudio)\ treat\ them\ as\ different\ types.\ \ Since\ class\ methods}}
\DoxyCodeLine{01286\ \textcolor{comment}{//\ cannot\ be\ defined\ with\ C-\/linkage\ we\ need\ to\ define\ a\ free\ C-\/function\ to}}
\DoxyCodeLine{01287\ \textcolor{comment}{//\ pass\ into\ pthread\_create().}}
\DoxyCodeLine{01288\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}*\ ThreadFuncWithCLinkage(\textcolor{keywordtype}{void}*\ thread)\ \{}
\DoxyCodeLine{01289\ \ \ \textcolor{keyword}{static\_cast<}ThreadWithParamBase*\textcolor{keyword}{>}(thread)-\/>Run();}
\DoxyCodeLine{01290\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01291\ \}}
\DoxyCodeLine{01292\ }
\DoxyCodeLine{01293\ \textcolor{comment}{//\ Helper\ class\ for\ testing\ Google\ Test's\ multi-\/threading\ constructs.}}
\DoxyCodeLine{01294\ \textcolor{comment}{//\ To\ use\ it,\ write:}}
\DoxyCodeLine{01295\ \textcolor{comment}{//}}
\DoxyCodeLine{01296\ \textcolor{comment}{//\ \ \ void\ ThreadFunc(int\ param)\ \{\ /*\ Do\ things\ with\ param\ */\ \}}}
\DoxyCodeLine{01297\ \textcolor{comment}{//\ \ \ Notification\ thread\_can\_start;}}
\DoxyCodeLine{01298\ \textcolor{comment}{//\ \ \ ...}}
\DoxyCodeLine{01299\ \textcolor{comment}{//\ \ \ //\ The\ thread\_can\_start\ parameter\ is\ optional;\ you\ can\ supply\ NULL.}}
\DoxyCodeLine{01300\ \textcolor{comment}{//\ \ \ ThreadWithParam<int>\ thread(\&ThreadFunc,\ 5,\ \&thread\_can\_start);}}
\DoxyCodeLine{01301\ \textcolor{comment}{//\ \ \ thread\_can\_start.Notify();}}
\DoxyCodeLine{01302\ \textcolor{comment}{//}}
\DoxyCodeLine{01303\ \textcolor{comment}{//\ These\ classes\ are\ only\ for\ testing\ Google\ Test's\ own\ constructs.\ Do}}
\DoxyCodeLine{01304\ \textcolor{comment}{//\ not\ use\ them\ in\ user\ tests,\ either\ directly\ or\ indirectly.}}
\DoxyCodeLine{01305\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01306\ \textcolor{keyword}{class\ }ThreadWithParam\ :\ \textcolor{keyword}{public}\ ThreadWithParamBase\ \{}
\DoxyCodeLine{01307\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01308\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}\ UserThreadFunc(T);}
\DoxyCodeLine{01309\ }
\DoxyCodeLine{01310\ \ \ ThreadWithParam(UserThreadFunc*\ func,\ T\ param,\ Notification*\ thread\_can\_start)}
\DoxyCodeLine{01311\ \ \ \ \ \ \ :\ func\_(func),}
\DoxyCodeLine{01312\ \ \ \ \ \ \ \ \ param\_(param),}
\DoxyCodeLine{01313\ \ \ \ \ \ \ \ \ thread\_can\_start\_(thread\_can\_start),}
\DoxyCodeLine{01314\ \ \ \ \ \ \ \ \ finished\_(false)\ \{}
\DoxyCodeLine{01315\ \ \ \ \ ThreadWithParamBase*\ \textcolor{keyword}{const}\ base\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{01316\ \ \ \ \ \textcolor{comment}{//\ The\ thread\ can\ be\ created\ only\ after\ all\ fields\ except\ thread\_}}
\DoxyCodeLine{01317\ \ \ \ \ \textcolor{comment}{//\ have\ been\ initialized.}}
\DoxyCodeLine{01318\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(}
\DoxyCodeLine{01319\ \ \ \ \ \ \ \ \ pthread\_create(\&thread\_,\ \textcolor{keyword}{nullptr},\ \&ThreadFuncWithCLinkage,\ base));}
\DoxyCodeLine{01320\ \ \ \}}
\DoxyCodeLine{01321\ \ \ \string~ThreadWithParam()\textcolor{keyword}{\ override\ }\{\ Join();\ \}}
\DoxyCodeLine{01322\ }
\DoxyCodeLine{01323\ \ \ \textcolor{keywordtype}{void}\ Join()\ \{}
\DoxyCodeLine{01324\ \ \ \ \ \textcolor{keywordflow}{if}\ (!finished\_)\ \{}
\DoxyCodeLine{01325\ \ \ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_join(thread\_,\ \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{01326\ \ \ \ \ \ \ finished\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01327\ \ \ \ \ \}}
\DoxyCodeLine{01328\ \ \ \}}
\DoxyCodeLine{01329\ }
\DoxyCodeLine{01330\ \ \ \textcolor{keywordtype}{void}\ Run()\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{01331\ \ \ \ \ \textcolor{keywordflow}{if}\ (thread\_can\_start\_\ !=\ \textcolor{keyword}{nullptr})\ thread\_can\_start\_-\/>WaitForNotification();}
\DoxyCodeLine{01332\ \ \ \ \ func\_(param\_);}
\DoxyCodeLine{01333\ \ \ \}}
\DoxyCodeLine{01334\ }
\DoxyCodeLine{01335\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01336\ \ \ UserThreadFunc*\ \textcolor{keyword}{const}\ func\_;\ \ \textcolor{comment}{//\ User-\/supplied\ thread\ function.}}
\DoxyCodeLine{01337\ \ \ \textcolor{keyword}{const}\ T\ param\_;\ \ \textcolor{comment}{//\ User-\/supplied\ parameter\ to\ the\ thread\ function.}}
\DoxyCodeLine{01338\ \ \ \textcolor{comment}{//\ When\ non-\/NULL,\ used\ to\ block\ execution\ until\ the\ controller\ thread}}
\DoxyCodeLine{01339\ \ \ \textcolor{comment}{//\ notifies.}}
\DoxyCodeLine{01340\ \ \ Notification*\ \textcolor{keyword}{const}\ thread\_can\_start\_;}
\DoxyCodeLine{01341\ \ \ \textcolor{keywordtype}{bool}\ finished\_;\ \ \textcolor{comment}{//\ true\ if\ and\ only\ if\ we\ know\ that\ the\ thread\ function\ has}}
\DoxyCodeLine{01342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ finished.}}
\DoxyCodeLine{01343\ \ \ pthread\_t\ thread\_;\ \ \textcolor{comment}{//\ The\ native\ thread\ object.}}
\DoxyCodeLine{01344\ }
\DoxyCodeLine{01345\ \ \ ThreadWithParam(\textcolor{keyword}{const}\ ThreadWithParam\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01346\ \ \ ThreadWithParam\&\ operator=(\textcolor{keyword}{const}\ ThreadWithParam\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01347\ \};}
\DoxyCodeLine{01348\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !GTEST\_OS\_WINDOWS\ \&\&\ GTEST\_HAS\_PTHREAD\ ||}}
\DoxyCodeLine{01349\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{01350\ }
\DoxyCodeLine{01351\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{01352\ \textcolor{comment}{//\ Mutex\ and\ ThreadLocal\ have\ already\ been\ imported\ into\ the\ namespace.}}
\DoxyCodeLine{01353\ \textcolor{comment}{//\ Nothing\ to\ do\ here.}}
\DoxyCodeLine{01354\ }
\DoxyCodeLine{01355\ \textcolor{preprocessor}{\#elif\ defined(GTEST\_OS\_WINDOWS)\ \&\&\ !defined(GTEST\_OS\_WINDOWS\_PHONE)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{01356\ \textcolor{preprocessor}{\ \ \ \ !defined(GTEST\_OS\_WINDOWS\_RT)}}
\DoxyCodeLine{01357\ }
\DoxyCodeLine{01358\ \textcolor{comment}{//\ Mutex\ implements\ mutex\ on\ Windows\ platforms.\ \ It\ is\ used\ in\ conjunction}}
\DoxyCodeLine{01359\ \textcolor{comment}{//\ with\ class\ MutexLock:}}
\DoxyCodeLine{01360\ \textcolor{comment}{//}}
\DoxyCodeLine{01361\ \textcolor{comment}{//\ \ \ Mutex\ mutex;}}
\DoxyCodeLine{01362\ \textcolor{comment}{//\ \ \ ...}}
\DoxyCodeLine{01363\ \textcolor{comment}{//\ \ \ MutexLock\ lock(\&mutex);\ \ //\ Acquires\ the\ mutex\ and\ releases\ it\ at\ the}}
\DoxyCodeLine{01364\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ end\ of\ the\ current\ scope.}}
\DoxyCodeLine{01365\ \textcolor{comment}{//}}
\DoxyCodeLine{01366\ \textcolor{comment}{//\ A\ static\ Mutex\ *must*\ be\ defined\ or\ declared\ using\ one\ of\ the\ following}}
\DoxyCodeLine{01367\ \textcolor{comment}{//\ macros:}}
\DoxyCodeLine{01368\ \textcolor{comment}{//\ \ \ GTEST\_DEFINE\_STATIC\_MUTEX\_(g\_some\_mutex);}}
\DoxyCodeLine{01369\ \textcolor{comment}{//\ \ \ GTEST\_DECLARE\_STATIC\_MUTEX\_(g\_some\_mutex);}}
\DoxyCodeLine{01370\ \textcolor{comment}{//}}
\DoxyCodeLine{01371\ \textcolor{comment}{//\ (A\ non-\/static\ Mutex\ is\ defined/declared\ in\ the\ usual\ way).}}
\DoxyCodeLine{01372\ \textcolor{keyword}{class\ }GTEST\_API\_\ Mutex\ \{}
\DoxyCodeLine{01373\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01374\ \ \ \textcolor{keyword}{enum}\ MutexType\ \{\ kStatic\ =\ 0,\ kDynamic\ =\ 1\ \};}
\DoxyCodeLine{01375\ \ \ \textcolor{comment}{//\ We\ rely\ on\ kStaticMutex\ being\ 0\ as\ it\ is\ to\ what\ the\ linker\ initializes}}
\DoxyCodeLine{01376\ \ \ \textcolor{comment}{//\ type\_\ in\ static\ mutexes.\ \ critical\_section\_\ will\ be\ initialized\ lazily}}
\DoxyCodeLine{01377\ \ \ \textcolor{comment}{//\ in\ ThreadSafeLazyInit().}}
\DoxyCodeLine{01378\ \ \ \textcolor{keyword}{enum}\ StaticConstructorSelector\ \{\ kStaticMutex\ =\ 0\ \};}
\DoxyCodeLine{01379\ }
\DoxyCodeLine{01380\ \ \ \textcolor{comment}{//\ This\ constructor\ intentionally\ does\ nothing.\ \ It\ relies\ on\ type\_\ being}}
\DoxyCodeLine{01381\ \ \ \textcolor{comment}{//\ statically\ initialized\ to\ 0\ (effectively\ setting\ it\ to\ kStatic)\ and\ on}}
\DoxyCodeLine{01382\ \ \ \textcolor{comment}{//\ ThreadSafeLazyInit()\ to\ lazily\ initialize\ the\ rest\ of\ the\ members.}}
\DoxyCodeLine{01383\ \ \ \textcolor{keyword}{explicit}\ Mutex(StaticConstructorSelector\ \textcolor{comment}{/*dummy*/})\ \{\}}
\DoxyCodeLine{01384\ }
\DoxyCodeLine{01385\ \ \ Mutex();}
\DoxyCodeLine{01386\ \ \ \string~Mutex();}
\DoxyCodeLine{01387\ }
\DoxyCodeLine{01388\ \ \ \textcolor{keywordtype}{void}\ lock();}
\DoxyCodeLine{01389\ }
\DoxyCodeLine{01390\ \ \ \textcolor{keywordtype}{void}\ unlock();}
\DoxyCodeLine{01391\ }
\DoxyCodeLine{01392\ \ \ \textcolor{comment}{//\ Does\ nothing\ if\ the\ current\ thread\ holds\ the\ mutex.\ Otherwise,\ crashes}}
\DoxyCodeLine{01393\ \ \ \textcolor{comment}{//\ with\ high\ probability.}}
\DoxyCodeLine{01394\ \ \ \textcolor{keywordtype}{void}\ AssertHeld();}
\DoxyCodeLine{01395\ }
\DoxyCodeLine{01396\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01397\ \ \ \textcolor{comment}{//\ Initializes\ owner\_thread\_id\_\ and\ critical\_section\_\ in\ static\ mutexes.}}
\DoxyCodeLine{01398\ \ \ \textcolor{keywordtype}{void}\ ThreadSafeLazyInit();}
\DoxyCodeLine{01399\ }
\DoxyCodeLine{01400\ \ \ \textcolor{comment}{//\ Per\ https://blogs.msdn.microsoft.com/oldnewthing/20040223-\/00/?p=40503,}}
\DoxyCodeLine{01401\ \ \ \textcolor{comment}{//\ we\ assume\ that\ 0\ is\ an\ invalid\ value\ for\ thread\ IDs.}}
\DoxyCodeLine{01402\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ owner\_thread\_id\_;}
\DoxyCodeLine{01403\ }
\DoxyCodeLine{01404\ \ \ \textcolor{comment}{//\ For\ static\ mutexes,\ we\ rely\ on\ these\ members\ being\ initialized\ to\ zeros}}
\DoxyCodeLine{01405\ \ \ \textcolor{comment}{//\ by\ the\ linker.}}
\DoxyCodeLine{01406\ \ \ MutexType\ type\_;}
\DoxyCodeLine{01407\ \ \ \textcolor{keywordtype}{long}\ critical\_section\_init\_phase\_;\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{01408\ \ \ GTEST\_CRITICAL\_SECTION*\ critical\_section\_;}
\DoxyCodeLine{01409\ }
\DoxyCodeLine{01410\ \ \ Mutex(\textcolor{keyword}{const}\ Mutex\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01411\ \ \ Mutex\&\ operator=(\textcolor{keyword}{const}\ Mutex\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01412\ \};}
\DoxyCodeLine{01413\ }
\DoxyCodeLine{01414\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex)\ \(\backslash\)}}
\DoxyCodeLine{01415\ \textcolor{preprocessor}{\ \ extern\ ::testing::internal::Mutex\ mutex}}
\DoxyCodeLine{01416\ }
\DoxyCodeLine{01417\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex)\ \(\backslash\)}}
\DoxyCodeLine{01418\ \textcolor{preprocessor}{\ \ ::testing::internal::Mutex\ mutex(::testing::internal::Mutex::kStaticMutex)}}
\DoxyCodeLine{01419\ }
\DoxyCodeLine{01420\ \textcolor{comment}{//\ We\ cannot\ name\ this\ class\ MutexLock\ because\ the\ ctor\ declaration\ would}}
\DoxyCodeLine{01421\ \textcolor{comment}{//\ conflict\ with\ a\ macro\ named\ MutexLock,\ which\ is\ defined\ on\ some}}
\DoxyCodeLine{01422\ \textcolor{comment}{//\ platforms.\ That\ macro\ is\ used\ as\ a\ defensive\ measure\ to\ prevent\ against}}
\DoxyCodeLine{01423\ \textcolor{comment}{//\ inadvertent\ misuses\ of\ MutexLock\ like\ "{}MutexLock(\&mu)"{}\ rather\ than}}
\DoxyCodeLine{01424\ \textcolor{comment}{//\ "{}MutexLock\ l(\&mu)"{}.\ \ Hence\ the\ typedef\ trick\ below.}}
\DoxyCodeLine{01425\ \textcolor{keyword}{class\ }GTestMutexLock\ \{}
\DoxyCodeLine{01426\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01427\ \ \ \textcolor{keyword}{explicit}\ GTestMutexLock(Mutex*\ mutex)\ :\ mutex\_(mutex)\ \{\ mutex\_-\/>lock();\ \}}
\DoxyCodeLine{01428\ }
\DoxyCodeLine{01429\ \ \ \string~GTestMutexLock()\ \{\ mutex\_-\/>unlock();\ \}}
\DoxyCodeLine{01430\ }
\DoxyCodeLine{01431\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01432\ \ \ Mutex*\ \textcolor{keyword}{const}\ mutex\_;}
\DoxyCodeLine{01433\ }
\DoxyCodeLine{01434\ \ \ GTestMutexLock(\textcolor{keyword}{const}\ GTestMutexLock\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01435\ \ \ GTestMutexLock\&\ operator=(\textcolor{keyword}{const}\ GTestMutexLock\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01436\ \};}
\DoxyCodeLine{01437\ }
\DoxyCodeLine{01438\ \textcolor{keyword}{typedef}\ GTestMutexLock\ MutexLock;}
\DoxyCodeLine{01439\ }
\DoxyCodeLine{01440\ \textcolor{comment}{//\ Base\ class\ for\ ValueHolder<T>.\ \ Allows\ a\ caller\ to\ hold\ and\ delete\ a\ value}}
\DoxyCodeLine{01441\ \textcolor{comment}{//\ without\ knowing\ its\ type.}}
\DoxyCodeLine{01442\ \textcolor{keyword}{class\ }ThreadLocalValueHolderBase\ \{}
\DoxyCodeLine{01443\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01444\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadLocalValueHolderBase()\ \{\}}
\DoxyCodeLine{01445\ \};}
\DoxyCodeLine{01446\ }
\DoxyCodeLine{01447\ \textcolor{comment}{//\ Provides\ a\ way\ for\ a\ thread\ to\ send\ notifications\ to\ a\ ThreadLocal}}
\DoxyCodeLine{01448\ \textcolor{comment}{//\ regardless\ of\ its\ parameter\ type.}}
\DoxyCodeLine{01449\ \textcolor{keyword}{class\ }ThreadLocalBase\ \{}
\DoxyCodeLine{01450\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01451\ \ \ \textcolor{comment}{//\ Creates\ a\ new\ ValueHolder<T>\ object\ holding\ a\ default\ value\ passed\ to}}
\DoxyCodeLine{01452\ \ \ \textcolor{comment}{//\ this\ ThreadLocal<T>'s\ constructor\ and\ returns\ it.\ \ It\ is\ the\ caller's}}
\DoxyCodeLine{01453\ \ \ \textcolor{comment}{//\ responsibility\ not\ to\ call\ this\ when\ the\ ThreadLocal<T>\ instance\ already}}
\DoxyCodeLine{01454\ \ \ \textcolor{comment}{//\ has\ a\ value\ on\ the\ current\ thread.}}
\DoxyCodeLine{01455\ \ \ \textcolor{keyword}{virtual}\ ThreadLocalValueHolderBase*\ NewValueForCurrentThread()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{01456\ }
\DoxyCodeLine{01457\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01458\ \ \ ThreadLocalBase()\ \{\}}
\DoxyCodeLine{01459\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadLocalBase()\ \{\}}
\DoxyCodeLine{01460\ }
\DoxyCodeLine{01461\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01462\ \ \ ThreadLocalBase(\textcolor{keyword}{const}\ ThreadLocalBase\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01463\ \ \ ThreadLocalBase\&\ operator=(\textcolor{keyword}{const}\ ThreadLocalBase\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01464\ \};}
\DoxyCodeLine{01465\ }
\DoxyCodeLine{01466\ \textcolor{comment}{//\ Maps\ a\ thread\ to\ a\ set\ of\ ThreadLocals\ that\ have\ values\ instantiated\ on\ that}}
\DoxyCodeLine{01467\ \textcolor{comment}{//\ thread\ and\ notifies\ them\ when\ the\ thread\ exits.\ \ A\ ThreadLocal\ instance\ is}}
\DoxyCodeLine{01468\ \textcolor{comment}{//\ expected\ to\ persist\ until\ all\ threads\ it\ has\ values\ on\ have\ terminated.}}
\DoxyCodeLine{01469\ \textcolor{keyword}{class\ }GTEST\_API\_\ ThreadLocalRegistry\ \{}
\DoxyCodeLine{01470\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01471\ \ \ \textcolor{comment}{//\ Registers\ thread\_local\_instance\ as\ having\ value\ on\ the\ current\ thread.}}
\DoxyCodeLine{01472\ \ \ \textcolor{comment}{//\ Returns\ a\ value\ that\ can\ be\ used\ to\ identify\ the\ thread\ from\ other\ threads.}}
\DoxyCodeLine{01473\ \ \ \textcolor{keyword}{static}\ ThreadLocalValueHolderBase*\ GetValueOnCurrentThread(}
\DoxyCodeLine{01474\ \ \ \ \ \ \ \textcolor{keyword}{const}\ ThreadLocalBase*\ thread\_local\_instance);}
\DoxyCodeLine{01475\ }
\DoxyCodeLine{01476\ \ \ \textcolor{comment}{//\ Invoked\ when\ a\ ThreadLocal\ instance\ is\ destroyed.}}
\DoxyCodeLine{01477\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ OnThreadLocalDestroyed(}
\DoxyCodeLine{01478\ \ \ \ \ \ \ \textcolor{keyword}{const}\ ThreadLocalBase*\ thread\_local\_instance);}
\DoxyCodeLine{01479\ \};}
\DoxyCodeLine{01480\ }
\DoxyCodeLine{01481\ \textcolor{keyword}{class\ }GTEST\_API\_\ ThreadWithParamBase\ \{}
\DoxyCodeLine{01482\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01483\ \ \ \textcolor{keywordtype}{void}\ Join();}
\DoxyCodeLine{01484\ }
\DoxyCodeLine{01485\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01486\ \ \ \textcolor{keyword}{class\ }Runnable\ \{}
\DoxyCodeLine{01487\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01488\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~Runnable()\ \{\}}
\DoxyCodeLine{01489\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Run()\ =\ 0;}
\DoxyCodeLine{01490\ \ \ \};}
\DoxyCodeLine{01491\ }
\DoxyCodeLine{01492\ \ \ ThreadWithParamBase(Runnable*\ runnable,\ Notification*\ thread\_can\_start);}
\DoxyCodeLine{01493\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadWithParamBase();}
\DoxyCodeLine{01494\ }
\DoxyCodeLine{01495\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01496\ \ \ AutoHandle\ thread\_;}
\DoxyCodeLine{01497\ \};}
\DoxyCodeLine{01498\ }
\DoxyCodeLine{01499\ \textcolor{comment}{//\ Helper\ class\ for\ testing\ Google\ Test's\ multi-\/threading\ constructs.}}
\DoxyCodeLine{01500\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01501\ \textcolor{keyword}{class\ }ThreadWithParam\ :\ \textcolor{keyword}{public}\ ThreadWithParamBase\ \{}
\DoxyCodeLine{01502\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01503\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}\ UserThreadFunc(T);}
\DoxyCodeLine{01504\ }
\DoxyCodeLine{01505\ \ \ ThreadWithParam(UserThreadFunc*\ func,\ T\ param,\ Notification*\ thread\_can\_start)}
\DoxyCodeLine{01506\ \ \ \ \ \ \ :\ ThreadWithParamBase(new\ RunnableImpl(func,\ param),\ thread\_can\_start)\ \{\}}
\DoxyCodeLine{01507\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadWithParam()\ \{\}}
\DoxyCodeLine{01508\ }
\DoxyCodeLine{01509\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01510\ \ \ \textcolor{keyword}{class\ }RunnableImpl\ :\ \textcolor{keyword}{public}\ Runnable\ \{}
\DoxyCodeLine{01511\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01512\ \ \ \ \ RunnableImpl(UserThreadFunc*\ func,\ T\ param)\ :\ func\_(func),\ param\_(param)\ \{\}}
\DoxyCodeLine{01513\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~RunnableImpl()\ \{\}}
\DoxyCodeLine{01514\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Run()\ \{\ func\_(param\_);\ \}}
\DoxyCodeLine{01515\ }
\DoxyCodeLine{01516\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01517\ \ \ \ \ UserThreadFunc*\ \textcolor{keyword}{const}\ func\_;}
\DoxyCodeLine{01518\ \ \ \ \ \textcolor{keyword}{const}\ T\ param\_;}
\DoxyCodeLine{01519\ }
\DoxyCodeLine{01520\ \ \ \ \ RunnableImpl(\textcolor{keyword}{const}\ RunnableImpl\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01521\ \ \ \ \ RunnableImpl\&\ operator=(\textcolor{keyword}{const}\ RunnableImpl\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01522\ \ \ \};}
\DoxyCodeLine{01523\ }
\DoxyCodeLine{01524\ \ \ ThreadWithParam(\textcolor{keyword}{const}\ ThreadWithParam\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01525\ \ \ ThreadWithParam\&\ operator=(\textcolor{keyword}{const}\ ThreadWithParam\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01526\ \};}
\DoxyCodeLine{01527\ }
\DoxyCodeLine{01528\ \textcolor{comment}{//\ Implements\ thread-\/local\ storage\ on\ Windows\ systems.}}
\DoxyCodeLine{01529\ \textcolor{comment}{//}}
\DoxyCodeLine{01530\ \textcolor{comment}{//\ \ \ //\ Thread\ 1}}
\DoxyCodeLine{01531\ \textcolor{comment}{//\ \ \ ThreadLocal<int>\ tl(100);\ \ //\ 100\ is\ the\ default\ value\ for\ each\ thread.}}
\DoxyCodeLine{01532\ \textcolor{comment}{//}}
\DoxyCodeLine{01533\ \textcolor{comment}{//\ \ \ //\ Thread\ 2}}
\DoxyCodeLine{01534\ \textcolor{comment}{//\ \ \ tl.set(150);\ \ //\ Changes\ the\ value\ for\ thread\ 2\ only.}}
\DoxyCodeLine{01535\ \textcolor{comment}{//\ \ \ EXPECT\_EQ(150,\ tl.get());}}
\DoxyCodeLine{01536\ \textcolor{comment}{//}}
\DoxyCodeLine{01537\ \textcolor{comment}{//\ \ \ //\ Thread\ 1}}
\DoxyCodeLine{01538\ \textcolor{comment}{//\ \ \ EXPECT\_EQ(100,\ tl.get());\ \ //\ In\ thread\ 1,\ tl\ has\ the\ original\ value.}}
\DoxyCodeLine{01539\ \textcolor{comment}{//\ \ \ tl.set(200);}}
\DoxyCodeLine{01540\ \textcolor{comment}{//\ \ \ EXPECT\_EQ(200,\ tl.get());}}
\DoxyCodeLine{01541\ \textcolor{comment}{//}}
\DoxyCodeLine{01542\ \textcolor{comment}{//\ The\ template\ type\ argument\ T\ must\ have\ a\ public\ copy\ constructor.}}
\DoxyCodeLine{01543\ \textcolor{comment}{//\ In\ addition,\ the\ default\ ThreadLocal\ constructor\ requires\ T\ to\ have}}
\DoxyCodeLine{01544\ \textcolor{comment}{//\ a\ public\ default\ constructor.}}
\DoxyCodeLine{01545\ \textcolor{comment}{//}}
\DoxyCodeLine{01546\ \textcolor{comment}{//\ The\ users\ of\ a\ TheadLocal\ instance\ have\ to\ make\ sure\ that\ all\ but\ one}}
\DoxyCodeLine{01547\ \textcolor{comment}{//\ threads\ (including\ the\ main\ one)\ using\ that\ instance\ have\ exited\ before}}
\DoxyCodeLine{01548\ \textcolor{comment}{//\ destroying\ it.\ Otherwise,\ the\ per-\/thread\ objects\ managed\ for\ them\ by\ the}}
\DoxyCodeLine{01549\ \textcolor{comment}{//\ ThreadLocal\ instance\ are\ not\ guaranteed\ to\ be\ destroyed\ on\ all\ platforms.}}
\DoxyCodeLine{01550\ \textcolor{comment}{//}}
\DoxyCodeLine{01551\ \textcolor{comment}{//\ Google\ Test\ only\ uses\ global\ ThreadLocal\ objects.\ \ That\ means\ they}}
\DoxyCodeLine{01552\ \textcolor{comment}{//\ will\ die\ after\ main()\ has\ returned.\ \ Therefore,\ no\ per-\/thread}}
\DoxyCodeLine{01553\ \textcolor{comment}{//\ object\ managed\ by\ Google\ Test\ will\ be\ leaked\ as\ long\ as\ all\ threads}}
\DoxyCodeLine{01554\ \textcolor{comment}{//\ using\ Google\ Test\ have\ exited\ when\ main()\ returns.}}
\DoxyCodeLine{01555\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01556\ \textcolor{keyword}{class\ }ThreadLocal\ :\ \textcolor{keyword}{public}\ ThreadLocalBase\ \{}
\DoxyCodeLine{01557\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01558\ \ \ ThreadLocal()\ :\ default\_factory\_(new\ DefaultValueHolderFactory())\ \{\}}
\DoxyCodeLine{01559\ \ \ \textcolor{keyword}{explicit}\ ThreadLocal(\textcolor{keyword}{const}\ T\&\ value)}
\DoxyCodeLine{01560\ \ \ \ \ \ \ :\ default\_factory\_(new\ InstanceValueHolderFactory(value))\ \{\}}
\DoxyCodeLine{01561\ }
\DoxyCodeLine{01562\ \ \ \string~ThreadLocal()\textcolor{keyword}{\ override\ }\{\ ThreadLocalRegistry::OnThreadLocalDestroyed(\textcolor{keyword}{this});\ \}}
\DoxyCodeLine{01563\ }
\DoxyCodeLine{01564\ \ \ T*\ pointer()\ \{\ \textcolor{keywordflow}{return}\ GetOrCreateValue();\ \}}
\DoxyCodeLine{01565\ \ \ \textcolor{keyword}{const}\ T*\ pointer()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ GetOrCreateValue();\ \}}
\DoxyCodeLine{01566\ \ \ \textcolor{keyword}{const}\ T\&\ get()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *pointer();\ \}}
\DoxyCodeLine{01567\ \ \ \textcolor{keywordtype}{void}\ set(\textcolor{keyword}{const}\ T\&\ value)\ \{\ *pointer()\ =\ value;\ \}}
\DoxyCodeLine{01568\ }
\DoxyCodeLine{01569\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01570\ \ \ \textcolor{comment}{//\ Holds\ a\ value\ of\ T.\ \ Can\ be\ deleted\ via\ its\ base\ class\ without\ the\ caller}}
\DoxyCodeLine{01571\ \ \ \textcolor{comment}{//\ knowing\ the\ type\ of\ T.}}
\DoxyCodeLine{01572\ \ \ \textcolor{keyword}{class\ }ValueHolder\ :\ \textcolor{keyword}{public}\ ThreadLocalValueHolderBase\ \{}
\DoxyCodeLine{01573\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01574\ \ \ \ \ ValueHolder()\ :\ value\_()\ \{\}}
\DoxyCodeLine{01575\ \ \ \ \ \textcolor{keyword}{explicit}\ ValueHolder(\textcolor{keyword}{const}\ T\&\ value)\ :\ value\_(value)\ \{\}}
\DoxyCodeLine{01576\ }
\DoxyCodeLine{01577\ \ \ \ \ T*\ pointer()\ \{\ \textcolor{keywordflow}{return}\ \&value\_;\ \}}
\DoxyCodeLine{01578\ }
\DoxyCodeLine{01579\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01580\ \ \ \ \ T\ value\_;}
\DoxyCodeLine{01581\ \ \ \ \ ValueHolder(\textcolor{keyword}{const}\ ValueHolder\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01582\ \ \ \ \ ValueHolder\&\ operator=(\textcolor{keyword}{const}\ ValueHolder\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01583\ \ \ \};}
\DoxyCodeLine{01584\ }
\DoxyCodeLine{01585\ \ \ T*\ GetOrCreateValue()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01586\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}ValueHolder*\textcolor{keyword}{>}(}
\DoxyCodeLine{01587\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ThreadLocalRegistry::GetValueOnCurrentThread(\textcolor{keyword}{this}))}
\DoxyCodeLine{01588\ \ \ \ \ \ \ \ \ -\/>pointer();}
\DoxyCodeLine{01589\ \ \ \}}
\DoxyCodeLine{01590\ }
\DoxyCodeLine{01591\ \ \ ThreadLocalValueHolderBase*\ NewValueForCurrentThread()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{01592\ \ \ \ \ \textcolor{keywordflow}{return}\ default\_factory\_-\/>MakeNewHolder();}
\DoxyCodeLine{01593\ \ \ \}}
\DoxyCodeLine{01594\ }
\DoxyCodeLine{01595\ \ \ \textcolor{keyword}{class\ }ValueHolderFactory\ \{}
\DoxyCodeLine{01596\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01597\ \ \ \ \ ValueHolderFactory()\ \{\}}
\DoxyCodeLine{01598\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~ValueHolderFactory()\ \{\}}
\DoxyCodeLine{01599\ \ \ \ \ \textcolor{keyword}{virtual}\ ValueHolder*\ MakeNewHolder()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{01600\ }
\DoxyCodeLine{01601\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01602\ \ \ \ \ ValueHolderFactory(\textcolor{keyword}{const}\ ValueHolderFactory\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01603\ \ \ \ \ ValueHolderFactory\&\ operator=(\textcolor{keyword}{const}\ ValueHolderFactory\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01604\ \ \ \};}
\DoxyCodeLine{01605\ }
\DoxyCodeLine{01606\ \ \ \textcolor{keyword}{class\ }DefaultValueHolderFactory\ :\ \textcolor{keyword}{public}\ ValueHolderFactory\ \{}
\DoxyCodeLine{01607\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01608\ \ \ \ \ DefaultValueHolderFactory()\ \{\}}
\DoxyCodeLine{01609\ \ \ \ \ ValueHolder*\ MakeNewHolder()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ ValueHolder();\ \}}
\DoxyCodeLine{01610\ }
\DoxyCodeLine{01611\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01612\ \ \ \ \ DefaultValueHolderFactory(\textcolor{keyword}{const}\ DefaultValueHolderFactory\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01613\ \ \ \ \ DefaultValueHolderFactory\&\ operator=(\textcolor{keyword}{const}\ DefaultValueHolderFactory\&)\ =}
\DoxyCodeLine{01614\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete};}
\DoxyCodeLine{01615\ \ \ \};}
\DoxyCodeLine{01616\ }
\DoxyCodeLine{01617\ \ \ \textcolor{keyword}{class\ }InstanceValueHolderFactory\ :\ \textcolor{keyword}{public}\ ValueHolderFactory\ \{}
\DoxyCodeLine{01618\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01619\ \ \ \ \ \textcolor{keyword}{explicit}\ InstanceValueHolderFactory(\textcolor{keyword}{const}\ T\&\ value)\ :\ value\_(value)\ \{\}}
\DoxyCodeLine{01620\ \ \ \ \ ValueHolder*\ MakeNewHolder()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{01621\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ ValueHolder(value\_);}
\DoxyCodeLine{01622\ \ \ \ \ \}}
\DoxyCodeLine{01623\ }
\DoxyCodeLine{01624\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01625\ \ \ \ \ \textcolor{keyword}{const}\ T\ value\_;\ \ \textcolor{comment}{//\ The\ value\ for\ each\ thread.}}
\DoxyCodeLine{01626\ }
\DoxyCodeLine{01627\ \ \ \ \ InstanceValueHolderFactory(\textcolor{keyword}{const}\ InstanceValueHolderFactory\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01628\ \ \ \ \ InstanceValueHolderFactory\&\ operator=(\textcolor{keyword}{const}\ InstanceValueHolderFactory\&)\ =}
\DoxyCodeLine{01629\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete};}
\DoxyCodeLine{01630\ \ \ \};}
\DoxyCodeLine{01631\ }
\DoxyCodeLine{01632\ \ \ std::unique\_ptr<ValueHolderFactory>\ default\_factory\_;}
\DoxyCodeLine{01633\ }
\DoxyCodeLine{01634\ \ \ ThreadLocal(\textcolor{keyword}{const}\ ThreadLocal\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01635\ \ \ ThreadLocal\&\ operator=(\textcolor{keyword}{const}\ ThreadLocal\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01636\ \};}
\DoxyCodeLine{01637\ }
\DoxyCodeLine{01638\ \textcolor{preprocessor}{\#elif\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{01639\ }
\DoxyCodeLine{01640\ \textcolor{comment}{//\ MutexBase\ and\ Mutex\ implement\ mutex\ on\ pthreads-\/based\ platforms.}}
\DoxyCodeLine{01641\ \textcolor{keyword}{class\ }MutexBase\ \{}
\DoxyCodeLine{01642\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01643\ \ \ \textcolor{comment}{//\ Acquires\ this\ mutex.}}
\DoxyCodeLine{01644\ \ \ \textcolor{keywordtype}{void}\ lock()\ \{}
\DoxyCodeLine{01645\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_lock(\&mutex\_));}
\DoxyCodeLine{01646\ \ \ \ \ owner\_\ =\ pthread\_self();}
\DoxyCodeLine{01647\ \ \ \ \ has\_owner\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01648\ \ \ \}}
\DoxyCodeLine{01649\ }
\DoxyCodeLine{01650\ \ \ \textcolor{comment}{//\ Releases\ this\ mutex.}}
\DoxyCodeLine{01651\ \ \ \textcolor{keywordtype}{void}\ unlock()\ \{}
\DoxyCodeLine{01652\ \ \ \ \ \textcolor{comment}{//\ Since\ the\ lock\ is\ being\ released\ the\ owner\_\ field\ should\ no\ longer\ be}}
\DoxyCodeLine{01653\ \ \ \ \ \textcolor{comment}{//\ considered\ valid.\ We\ don't\ protect\ writing\ to\ has\_owner\_\ here,\ as\ it's}}
\DoxyCodeLine{01654\ \ \ \ \ \textcolor{comment}{//\ the\ caller's\ responsibility\ to\ ensure\ that\ the\ current\ thread\ holds\ the}}
\DoxyCodeLine{01655\ \ \ \ \ \textcolor{comment}{//\ mutex\ when\ this\ is\ called.}}
\DoxyCodeLine{01656\ \ \ \ \ has\_owner\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01657\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_unlock(\&mutex\_));}
\DoxyCodeLine{01658\ \ \ \}}
\DoxyCodeLine{01659\ }
\DoxyCodeLine{01660\ \ \ \textcolor{comment}{//\ Does\ nothing\ if\ the\ current\ thread\ holds\ the\ mutex.\ Otherwise,\ crashes}}
\DoxyCodeLine{01661\ \ \ \textcolor{comment}{//\ with\ high\ probability.}}
\DoxyCodeLine{01662\ \ \ \textcolor{keywordtype}{void}\ AssertHeld()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01663\ \ \ \ \ GTEST\_CHECK\_(has\_owner\_\ \&\&\ pthread\_equal(owner\_,\ pthread\_self()))}
\DoxyCodeLine{01664\ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}The\ current\ thread\ is\ not\ holding\ the\ mutex\ @"{}}\ <<\ \textcolor{keyword}{this};}
\DoxyCodeLine{01665\ \ \ \}}
\DoxyCodeLine{01666\ }
\DoxyCodeLine{01667\ \ \ \textcolor{comment}{//\ A\ static\ mutex\ may\ be\ used\ before\ main()\ is\ entered.\ \ It\ may\ even}}
\DoxyCodeLine{01668\ \ \ \textcolor{comment}{//\ be\ used\ before\ the\ dynamic\ initialization\ stage.\ \ Therefore\ we}}
\DoxyCodeLine{01669\ \ \ \textcolor{comment}{//\ must\ be\ able\ to\ initialize\ a\ static\ mutex\ object\ at\ link\ time.}}
\DoxyCodeLine{01670\ \ \ \textcolor{comment}{//\ This\ means\ MutexBase\ has\ to\ be\ a\ POD\ and\ its\ member\ variables}}
\DoxyCodeLine{01671\ \ \ \textcolor{comment}{//\ have\ to\ be\ public.}}
\DoxyCodeLine{01672\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01673\ \ \ pthread\_mutex\_t\ mutex\_;\ \ \textcolor{comment}{//\ The\ underlying\ pthread\ mutex.}}
\DoxyCodeLine{01674\ \ \ \textcolor{comment}{//\ has\_owner\_\ indicates\ whether\ the\ owner\_\ field\ below\ contains\ a\ valid\ thread}}
\DoxyCodeLine{01675\ \ \ \textcolor{comment}{//\ ID\ and\ is\ therefore\ safe\ to\ inspect\ (e.g.,\ to\ use\ in\ pthread\_equal()).\ All}}
\DoxyCodeLine{01676\ \ \ \textcolor{comment}{//\ accesses\ to\ the\ owner\_\ field\ should\ be\ protected\ by\ a\ check\ of\ this\ field.}}
\DoxyCodeLine{01677\ \ \ \textcolor{comment}{//\ An\ alternative\ might\ be\ to\ memset()\ owner\_\ to\ all\ zeros,\ but\ there's\ no}}
\DoxyCodeLine{01678\ \ \ \textcolor{comment}{//\ guarantee\ that\ a\ zero'd\ pthread\_t\ is\ necessarily\ invalid\ or\ even\ different}}
\DoxyCodeLine{01679\ \ \ \textcolor{comment}{//\ from\ pthread\_self().}}
\DoxyCodeLine{01680\ \ \ \textcolor{keywordtype}{bool}\ has\_owner\_;}
\DoxyCodeLine{01681\ \ \ pthread\_t\ owner\_;\ \ \textcolor{comment}{//\ The\ thread\ holding\ the\ mutex.}}
\DoxyCodeLine{01682\ \};}
\DoxyCodeLine{01683\ }
\DoxyCodeLine{01684\ \textcolor{comment}{//\ Forward-\/declares\ a\ static\ mutex.}}
\DoxyCodeLine{01685\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex)\ \(\backslash\)}}
\DoxyCodeLine{01686\ \textcolor{preprocessor}{\ \ extern\ ::testing::internal::MutexBase\ mutex}}
\DoxyCodeLine{01687\ }
\DoxyCodeLine{01688\ \textcolor{comment}{//\ Defines\ and\ statically\ (i.e.\ at\ link\ time)\ initializes\ a\ static\ mutex.}}
\DoxyCodeLine{01689\ \textcolor{comment}{//\ The\ initialization\ list\ here\ does\ not\ explicitly\ initialize\ each\ field,}}
\DoxyCodeLine{01690\ \textcolor{comment}{//\ instead\ relying\ on\ default\ initialization\ for\ the\ unspecified\ fields.\ In}}
\DoxyCodeLine{01691\ \textcolor{comment}{//\ particular,\ the\ owner\_\ field\ (a\ pthread\_t)\ is\ not\ explicitly\ initialized.}}
\DoxyCodeLine{01692\ \textcolor{comment}{//\ This\ allows\ initialization\ to\ work\ whether\ pthread\_t\ is\ a\ scalar\ or\ struct.}}
\DoxyCodeLine{01693\ \textcolor{comment}{//\ The\ flag\ -\/Wmissing-\/field-\/initializers\ must\ not\ be\ specified\ for\ this\ to\ work.}}
\DoxyCodeLine{01694\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex)\ \(\backslash\)}}
\DoxyCodeLine{01695\ \textcolor{preprocessor}{\ \ ::testing::internal::MutexBase\ mutex\ =\ \{PTHREAD\_MUTEX\_INITIALIZER,\ false,\ 0\}}}
\DoxyCodeLine{01696\ }
\DoxyCodeLine{01697\ \textcolor{comment}{//\ The\ Mutex\ class\ can\ only\ be\ used\ for\ mutexes\ created\ at\ runtime.\ It}}
\DoxyCodeLine{01698\ \textcolor{comment}{//\ shares\ its\ API\ with\ MutexBase\ otherwise.}}
\DoxyCodeLine{01699\ \textcolor{keyword}{class\ }Mutex\ :\ \textcolor{keyword}{public}\ MutexBase\ \{}
\DoxyCodeLine{01700\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01701\ \ \ Mutex()\ \{}
\DoxyCodeLine{01702\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_init(\&mutex\_,\ \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{01703\ \ \ \ \ has\_owner\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01704\ \ \ \}}
\DoxyCodeLine{01705\ \ \ \string~Mutex()\ \{\ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_destroy(\&mutex\_));\ \}}
\DoxyCodeLine{01706\ }
\DoxyCodeLine{01707\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01708\ \ \ Mutex(\textcolor{keyword}{const}\ Mutex\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01709\ \ \ Mutex\&\ operator=(\textcolor{keyword}{const}\ Mutex\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01710\ \};}
\DoxyCodeLine{01711\ }
\DoxyCodeLine{01712\ \textcolor{comment}{//\ We\ cannot\ name\ this\ class\ MutexLock\ because\ the\ ctor\ declaration\ would}}
\DoxyCodeLine{01713\ \textcolor{comment}{//\ conflict\ with\ a\ macro\ named\ MutexLock,\ which\ is\ defined\ on\ some}}
\DoxyCodeLine{01714\ \textcolor{comment}{//\ platforms.\ That\ macro\ is\ used\ as\ a\ defensive\ measure\ to\ prevent\ against}}
\DoxyCodeLine{01715\ \textcolor{comment}{//\ inadvertent\ misuses\ of\ MutexLock\ like\ "{}MutexLock(\&mu)"{}\ rather\ than}}
\DoxyCodeLine{01716\ \textcolor{comment}{//\ "{}MutexLock\ l(\&mu)"{}.\ \ Hence\ the\ typedef\ trick\ below.}}
\DoxyCodeLine{01717\ \textcolor{keyword}{class\ }GTestMutexLock\ \{}
\DoxyCodeLine{01718\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01719\ \ \ \textcolor{keyword}{explicit}\ GTestMutexLock(MutexBase*\ mutex)\ :\ mutex\_(mutex)\ \{\ mutex\_-\/>lock();\ \}}
\DoxyCodeLine{01720\ }
\DoxyCodeLine{01721\ \ \ \string~GTestMutexLock()\ \{\ mutex\_-\/>unlock();\ \}}
\DoxyCodeLine{01722\ }
\DoxyCodeLine{01723\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01724\ \ \ MutexBase*\ \textcolor{keyword}{const}\ mutex\_;}
\DoxyCodeLine{01725\ }
\DoxyCodeLine{01726\ \ \ GTestMutexLock(\textcolor{keyword}{const}\ GTestMutexLock\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01727\ \ \ GTestMutexLock\&\ operator=(\textcolor{keyword}{const}\ GTestMutexLock\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01728\ \};}
\DoxyCodeLine{01729\ }
\DoxyCodeLine{01730\ \textcolor{keyword}{typedef}\ GTestMutexLock\ MutexLock;}
\DoxyCodeLine{01731\ }
\DoxyCodeLine{01732\ \textcolor{comment}{//\ Helpers\ for\ ThreadLocal.}}
\DoxyCodeLine{01733\ }
\DoxyCodeLine{01734\ \textcolor{comment}{//\ pthread\_key\_create()\ requires\ DeleteThreadLocalValue()\ to\ have}}
\DoxyCodeLine{01735\ \textcolor{comment}{//\ C-\/linkage.\ \ Therefore\ it\ cannot\ be\ templatized\ to\ access}}
\DoxyCodeLine{01736\ \textcolor{comment}{//\ ThreadLocal<T>.\ \ Hence\ the\ need\ for\ class}}
\DoxyCodeLine{01737\ \textcolor{comment}{//\ ThreadLocalValueHolderBase.}}
\DoxyCodeLine{01738\ \textcolor{keyword}{class\ }GTEST\_API\_\ ThreadLocalValueHolderBase\ \{}
\DoxyCodeLine{01739\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01740\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadLocalValueHolderBase()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{01741\ \};}
\DoxyCodeLine{01742\ }
\DoxyCodeLine{01743\ \textcolor{comment}{//\ Called\ by\ pthread\ to\ delete\ thread-\/local\ data\ stored\ by}}
\DoxyCodeLine{01744\ \textcolor{comment}{//\ pthread\_setspecific().}}
\DoxyCodeLine{01745\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ DeleteThreadLocalValue(\textcolor{keywordtype}{void}*\ value\_holder)\ \{}
\DoxyCodeLine{01746\ \ \ \textcolor{keyword}{delete}\ \textcolor{keyword}{static\_cast<}ThreadLocalValueHolderBase*\textcolor{keyword}{>}(value\_holder);}
\DoxyCodeLine{01747\ \}}
\DoxyCodeLine{01748\ }
\DoxyCodeLine{01749\ \textcolor{comment}{//\ Implements\ thread-\/local\ storage\ on\ pthreads-\/based\ systems.}}
\DoxyCodeLine{01750\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01751\ \textcolor{keyword}{class\ }GTEST\_API\_\ ThreadLocal\ \{}
\DoxyCodeLine{01752\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01753\ \ \ ThreadLocal()}
\DoxyCodeLine{01754\ \ \ \ \ \ \ :\ key\_(CreateKey()),\ default\_factory\_(new\ DefaultValueHolderFactory())\ \{\}}
\DoxyCodeLine{01755\ \ \ \textcolor{keyword}{explicit}\ ThreadLocal(\textcolor{keyword}{const}\ T\&\ value)}
\DoxyCodeLine{01756\ \ \ \ \ \ \ :\ key\_(CreateKey()),}
\DoxyCodeLine{01757\ \ \ \ \ \ \ \ \ default\_factory\_(new\ InstanceValueHolderFactory(value))\ \{\}}
\DoxyCodeLine{01758\ }
\DoxyCodeLine{01759\ \ \ \string~ThreadLocal()\ \{}
\DoxyCodeLine{01760\ \ \ \ \ \textcolor{comment}{//\ Destroys\ the\ managed\ object\ for\ the\ current\ thread,\ if\ any.}}
\DoxyCodeLine{01761\ \ \ \ \ DeleteThreadLocalValue(pthread\_getspecific(key\_));}
\DoxyCodeLine{01762\ }
\DoxyCodeLine{01763\ \ \ \ \ \textcolor{comment}{//\ Releases\ resources\ associated\ with\ the\ key.\ \ This\ will\ *not*}}
\DoxyCodeLine{01764\ \ \ \ \ \textcolor{comment}{//\ delete\ managed\ objects\ for\ other\ threads.}}
\DoxyCodeLine{01765\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_key\_delete(key\_));}
\DoxyCodeLine{01766\ \ \ \}}
\DoxyCodeLine{01767\ }
\DoxyCodeLine{01768\ \ \ T*\ pointer()\ \{\ \textcolor{keywordflow}{return}\ GetOrCreateValue();\ \}}
\DoxyCodeLine{01769\ \ \ \textcolor{keyword}{const}\ T*\ pointer()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ GetOrCreateValue();\ \}}
\DoxyCodeLine{01770\ \ \ \textcolor{keyword}{const}\ T\&\ get()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *pointer();\ \}}
\DoxyCodeLine{01771\ \ \ \textcolor{keywordtype}{void}\ set(\textcolor{keyword}{const}\ T\&\ value)\ \{\ *pointer()\ =\ value;\ \}}
\DoxyCodeLine{01772\ }
\DoxyCodeLine{01773\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01774\ \ \ \textcolor{comment}{//\ Holds\ a\ value\ of\ type\ T.}}
\DoxyCodeLine{01775\ \ \ \textcolor{keyword}{class\ }ValueHolder\ :\ \textcolor{keyword}{public}\ ThreadLocalValueHolderBase\ \{}
\DoxyCodeLine{01776\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01777\ \ \ \ \ ValueHolder()\ :\ value\_()\ \{\}}
\DoxyCodeLine{01778\ \ \ \ \ \textcolor{keyword}{explicit}\ ValueHolder(\textcolor{keyword}{const}\ T\&\ value)\ :\ value\_(value)\ \{\}}
\DoxyCodeLine{01779\ }
\DoxyCodeLine{01780\ \ \ \ \ T*\ pointer()\ \{\ \textcolor{keywordflow}{return}\ \&value\_;\ \}}
\DoxyCodeLine{01781\ }
\DoxyCodeLine{01782\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01783\ \ \ \ \ T\ value\_;}
\DoxyCodeLine{01784\ \ \ \ \ ValueHolder(\textcolor{keyword}{const}\ ValueHolder\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01785\ \ \ \ \ ValueHolder\&\ operator=(\textcolor{keyword}{const}\ ValueHolder\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01786\ \ \ \};}
\DoxyCodeLine{01787\ }
\DoxyCodeLine{01788\ \ \ \textcolor{keyword}{static}\ pthread\_key\_t\ CreateKey()\ \{}
\DoxyCodeLine{01789\ \ \ \ \ pthread\_key\_t\ key;}
\DoxyCodeLine{01790\ \ \ \ \ \textcolor{comment}{//\ When\ a\ thread\ exits,\ DeleteThreadLocalValue()\ will\ be\ called\ on}}
\DoxyCodeLine{01791\ \ \ \ \ \textcolor{comment}{//\ the\ object\ managed\ for\ that\ thread.}}
\DoxyCodeLine{01792\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(}
\DoxyCodeLine{01793\ \ \ \ \ \ \ \ \ pthread\_key\_create(\&key,\ \&DeleteThreadLocalValue));}
\DoxyCodeLine{01794\ \ \ \ \ \textcolor{keywordflow}{return}\ key;}
\DoxyCodeLine{01795\ \ \ \}}
\DoxyCodeLine{01796\ }
\DoxyCodeLine{01797\ \ \ T*\ GetOrCreateValue()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01798\ \ \ \ \ ThreadLocalValueHolderBase*\ \textcolor{keyword}{const}\ holder\ =}
\DoxyCodeLine{01799\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}ThreadLocalValueHolderBase*\textcolor{keyword}{>}(pthread\_getspecific(key\_));}
\DoxyCodeLine{01800\ \ \ \ \ \textcolor{keywordflow}{if}\ (holder\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{01801\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CheckedDowncastToActualType<ValueHolder>(holder)-\/>pointer();}
\DoxyCodeLine{01802\ \ \ \ \ \}}
\DoxyCodeLine{01803\ }
\DoxyCodeLine{01804\ \ \ \ \ ValueHolder*\ \textcolor{keyword}{const}\ new\_holder\ =\ default\_factory\_-\/>MakeNewHolder();}
\DoxyCodeLine{01805\ \ \ \ \ ThreadLocalValueHolderBase*\ \textcolor{keyword}{const}\ holder\_base\ =\ new\_holder;}
\DoxyCodeLine{01806\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_setspecific(key\_,\ holder\_base));}
\DoxyCodeLine{01807\ \ \ \ \ \textcolor{keywordflow}{return}\ new\_holder-\/>pointer();}
\DoxyCodeLine{01808\ \ \ \}}
\DoxyCodeLine{01809\ }
\DoxyCodeLine{01810\ \ \ \textcolor{keyword}{class\ }ValueHolderFactory\ \{}
\DoxyCodeLine{01811\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01812\ \ \ \ \ ValueHolderFactory()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{01813\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~ValueHolderFactory()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{01814\ \ \ \ \ \textcolor{keyword}{virtual}\ ValueHolder*\ MakeNewHolder()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{01815\ }
\DoxyCodeLine{01816\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01817\ \ \ \ \ ValueHolderFactory(\textcolor{keyword}{const}\ ValueHolderFactory\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01818\ \ \ \ \ ValueHolderFactory\&\ operator=(\textcolor{keyword}{const}\ ValueHolderFactory\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01819\ \ \ \};}
\DoxyCodeLine{01820\ }
\DoxyCodeLine{01821\ \ \ \textcolor{keyword}{class\ }DefaultValueHolderFactory\ :\ \textcolor{keyword}{public}\ ValueHolderFactory\ \{}
\DoxyCodeLine{01822\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01823\ \ \ \ \ DefaultValueHolderFactory()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{01824\ \ \ \ \ ValueHolder*\ MakeNewHolder()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ ValueHolder();\ \}}
\DoxyCodeLine{01825\ }
\DoxyCodeLine{01826\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01827\ \ \ \ \ DefaultValueHolderFactory(\textcolor{keyword}{const}\ DefaultValueHolderFactory\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01828\ \ \ \ \ DefaultValueHolderFactory\&\ operator=(\textcolor{keyword}{const}\ DefaultValueHolderFactory\&)\ =}
\DoxyCodeLine{01829\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete};}
\DoxyCodeLine{01830\ \ \ \};}
\DoxyCodeLine{01831\ }
\DoxyCodeLine{01832\ \ \ \textcolor{keyword}{class\ }InstanceValueHolderFactory\ :\ \textcolor{keyword}{public}\ ValueHolderFactory\ \{}
\DoxyCodeLine{01833\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01834\ \ \ \ \ \textcolor{keyword}{explicit}\ InstanceValueHolderFactory(\textcolor{keyword}{const}\ T\&\ value)\ :\ value\_(value)\ \{\}}
\DoxyCodeLine{01835\ \ \ \ \ ValueHolder*\ MakeNewHolder()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{01836\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ ValueHolder(value\_);}
\DoxyCodeLine{01837\ \ \ \ \ \}}
\DoxyCodeLine{01838\ }
\DoxyCodeLine{01839\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01840\ \ \ \ \ \textcolor{keyword}{const}\ T\ value\_;\ \ \textcolor{comment}{//\ The\ value\ for\ each\ thread.}}
\DoxyCodeLine{01841\ }
\DoxyCodeLine{01842\ \ \ \ \ InstanceValueHolderFactory(\textcolor{keyword}{const}\ InstanceValueHolderFactory\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01843\ \ \ \ \ InstanceValueHolderFactory\&\ operator=(\textcolor{keyword}{const}\ InstanceValueHolderFactory\&)\ =}
\DoxyCodeLine{01844\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete};}
\DoxyCodeLine{01845\ \ \ \};}
\DoxyCodeLine{01846\ }
\DoxyCodeLine{01847\ \ \ \textcolor{comment}{//\ A\ key\ pthreads\ uses\ for\ looking\ up\ per-\/thread\ values.}}
\DoxyCodeLine{01848\ \ \ \textcolor{keyword}{const}\ pthread\_key\_t\ key\_;}
\DoxyCodeLine{01849\ \ \ std::unique\_ptr<ValueHolderFactory>\ default\_factory\_;}
\DoxyCodeLine{01850\ }
\DoxyCodeLine{01851\ \ \ ThreadLocal(\textcolor{keyword}{const}\ ThreadLocal\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01852\ \ \ ThreadLocal\&\ operator=(\textcolor{keyword}{const}\ ThreadLocal\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{01853\ \};}
\DoxyCodeLine{01854\ }
\DoxyCodeLine{01855\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{01856\ }
\DoxyCodeLine{01857\ \textcolor{preprocessor}{\#else\ \ }\textcolor{comment}{//\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{01858\ }
\DoxyCodeLine{01859\ \textcolor{comment}{//\ A\ dummy\ implementation\ of\ synchronization\ primitives\ (mutex,\ lock,}}
\DoxyCodeLine{01860\ \textcolor{comment}{//\ and\ thread-\/local\ variable).\ \ Necessary\ for\ compiling\ Google\ Test\ where}}
\DoxyCodeLine{01861\ \textcolor{comment}{//\ mutex\ is\ not\ supported\ -\/\ using\ Google\ Test\ in\ multiple\ threads\ is\ not}}
\DoxyCodeLine{01862\ \textcolor{comment}{//\ supported\ on\ such\ platforms.}}
\DoxyCodeLine{01863\ }
\DoxyCodeLine{01864\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtesting_1_1internal_1_1Mutex}{Mutex}}\ \{}
\DoxyCodeLine{01865\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01866\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1Mutex}{Mutex}}()\ \{\}}
\DoxyCodeLine{01867\ \ \ \textcolor{keywordtype}{void}\ lock()\ \{\}}
\DoxyCodeLine{01868\ \ \ \textcolor{keywordtype}{void}\ unlock()\ \{\}}
\DoxyCodeLine{01869\ \ \ \textcolor{keywordtype}{void}\ AssertHeld()\textcolor{keyword}{\ const\ }\{\}}
\DoxyCodeLine{01870\ \};}
\DoxyCodeLine{01871\ }
\DoxyCodeLine{01872\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex)\ \(\backslash\)}}
\DoxyCodeLine{01873\ \textcolor{preprocessor}{\ \ extern\ ::testing::internal::Mutex\ mutex}}
\DoxyCodeLine{01874\ }
\DoxyCodeLine{01875\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex)\ ::testing::internal::Mutex\ mutex}}
\DoxyCodeLine{01876\ }
\DoxyCodeLine{01877\ \textcolor{comment}{//\ We\ cannot\ name\ this\ class\ MutexLock\ because\ the\ ctor\ declaration\ would}}
\DoxyCodeLine{01878\ \textcolor{comment}{//\ conflict\ with\ a\ macro\ named\ MutexLock,\ which\ is\ defined\ on\ some}}
\DoxyCodeLine{01879\ \textcolor{comment}{//\ platforms.\ That\ macro\ is\ used\ as\ a\ defensive\ measure\ to\ prevent\ against}}
\DoxyCodeLine{01880\ \textcolor{comment}{//\ inadvertent\ misuses\ of\ MutexLock\ like\ "{}MutexLock(\&mu)"{}\ rather\ than}}
\DoxyCodeLine{01881\ \textcolor{comment}{//\ "{}MutexLock\ l(\&mu)"{}.\ \ Hence\ the\ typedef\ trick\ below.}}
\DoxyCodeLine{01882\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtesting_1_1internal_1_1GTestMutexLock}{GTestMutexLock}}\ \{}
\DoxyCodeLine{01883\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01884\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classtesting_1_1internal_1_1GTestMutexLock}{GTestMutexLock}}(\mbox{\hyperlink{classtesting_1_1internal_1_1Mutex}{Mutex}}*)\ \{\}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{01885\ \};}
\DoxyCodeLine{01886\ }
\DoxyCodeLine{01887\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classtesting_1_1internal_1_1GTestMutexLock}{GTestMutexLock}}\ \mbox{\hyperlink{classtesting_1_1internal_1_1GTestMutexLock}{MutexLock}};}
\DoxyCodeLine{01888\ }
\DoxyCodeLine{01889\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01890\ \textcolor{keyword}{class\ }GTEST\_API\_\ \mbox{\hyperlink{classtesting_1_1internal_1_1ThreadLocal}{ThreadLocal}}\ \{}
\DoxyCodeLine{01891\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01892\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1ThreadLocal}{ThreadLocal}}()\ :\ value\_()\ \{\}}
\DoxyCodeLine{01893\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classtesting_1_1internal_1_1ThreadLocal}{ThreadLocal}}(\textcolor{keyword}{const}\ T\&\ value)\ :\ value\_(value)\ \{\}}
\DoxyCodeLine{01894\ \ \ T*\ pointer()\ \{\ \textcolor{keywordflow}{return}\ \&value\_;\ \}}
\DoxyCodeLine{01895\ \ \ \textcolor{keyword}{const}\ T*\ pointer()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \&value\_;\ \}}
\DoxyCodeLine{01896\ \ \ \textcolor{keyword}{const}\ T\&\ get()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ value\_;\ \}}
\DoxyCodeLine{01897\ \ \ \textcolor{keywordtype}{void}\ set(\textcolor{keyword}{const}\ T\&\ value)\ \{\ value\_\ =\ value;\ \}}
\DoxyCodeLine{01898\ }
\DoxyCodeLine{01899\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01900\ \ \ T\ value\_;}
\DoxyCodeLine{01901\ \};}
\DoxyCodeLine{01902\ }
\DoxyCodeLine{01903\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{01904\ }
\DoxyCodeLine{01905\ \textcolor{comment}{//\ Returns\ the\ number\ of\ threads\ running\ in\ the\ process,\ or\ 0\ to\ indicate\ that}}
\DoxyCodeLine{01906\ \textcolor{comment}{//\ we\ cannot\ detect\ it.}}
\DoxyCodeLine{01907\ GTEST\_API\_\ \textcolor{keywordtype}{size\_t}\ GetThreadCount();}
\DoxyCodeLine{01908\ }
\DoxyCodeLine{01909\ \textcolor{preprocessor}{\#ifdef\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{01910\ \textcolor{preprocessor}{\#define\ GTEST\_PATH\_SEP\_\ "{}\(\backslash\)\(\backslash\)"{}}}
\DoxyCodeLine{01911\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_ALT\_PATH\_SEP\_\ 1}}
\DoxyCodeLine{01912\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01913\ \textcolor{preprocessor}{\#define\ GTEST\_PATH\_SEP\_\ "{}/"{}}}
\DoxyCodeLine{01914\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_ALT\_PATH\_SEP\_\ 0}}
\DoxyCodeLine{01915\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{01916\ }
\DoxyCodeLine{01917\ \textcolor{comment}{//\ Utilities\ for\ char.}}
\DoxyCodeLine{01918\ }
\DoxyCodeLine{01919\ \textcolor{comment}{//\ isspace(int\ ch)\ and\ friends\ accept\ an\ unsigned\ char\ or\ EOF.\ \ char}}
\DoxyCodeLine{01920\ \textcolor{comment}{//\ may\ be\ signed,\ depending\ on\ the\ compiler\ (or\ compiler\ flags).}}
\DoxyCodeLine{01921\ \textcolor{comment}{//\ Therefore\ we\ need\ to\ cast\ a\ char\ to\ unsigned\ char\ before\ calling}}
\DoxyCodeLine{01922\ \textcolor{comment}{//\ isspace(),\ etc.}}
\DoxyCodeLine{01923\ }
\DoxyCodeLine{01924\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsAlpha(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01925\ \ \ \textcolor{keywordflow}{return}\ isalpha(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01926\ \}}
\DoxyCodeLine{01927\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsAlNum(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01928\ \ \ \textcolor{keywordflow}{return}\ isalnum(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01929\ \}}
\DoxyCodeLine{01930\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsDigit(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01931\ \ \ \textcolor{keywordflow}{return}\ isdigit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01932\ \}}
\DoxyCodeLine{01933\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsLower(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01934\ \ \ \textcolor{keywordflow}{return}\ islower(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01935\ \}}
\DoxyCodeLine{01936\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsSpace(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01937\ \ \ \textcolor{keywordflow}{return}\ isspace(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01938\ \}}
\DoxyCodeLine{01939\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsUpper(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01940\ \ \ \textcolor{keywordflow}{return}\ isupper(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01941\ \}}
\DoxyCodeLine{01942\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsXDigit(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01943\ \ \ \textcolor{keywordflow}{return}\ isxdigit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01944\ \}}
\DoxyCodeLine{01945\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_lib\_char8\_t}}
\DoxyCodeLine{01946\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsXDigit(\textcolor{keywordtype}{char8\_t}\ ch)\ \{}
\DoxyCodeLine{01947\ \ \ \textcolor{keywordflow}{return}\ isxdigit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01948\ \}}
\DoxyCodeLine{01949\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01950\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsXDigit(\textcolor{keywordtype}{char16\_t}\ ch)\ \{}
\DoxyCodeLine{01951\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ low\_byte\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch);}
\DoxyCodeLine{01952\ \ \ \textcolor{keywordflow}{return}\ ch\ ==\ low\_byte\ \&\&\ isxdigit(low\_byte)\ !=\ 0;}
\DoxyCodeLine{01953\ \}}
\DoxyCodeLine{01954\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsXDigit(\textcolor{keywordtype}{char32\_t}\ ch)\ \{}
\DoxyCodeLine{01955\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ low\_byte\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch);}
\DoxyCodeLine{01956\ \ \ \textcolor{keywordflow}{return}\ ch\ ==\ low\_byte\ \&\&\ isxdigit(low\_byte)\ !=\ 0;}
\DoxyCodeLine{01957\ \}}
\DoxyCodeLine{01958\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsXDigit(\textcolor{keywordtype}{wchar\_t}\ ch)\ \{}
\DoxyCodeLine{01959\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ low\_byte\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch);}
\DoxyCodeLine{01960\ \ \ \textcolor{keywordflow}{return}\ ch\ ==\ low\_byte\ \&\&\ isxdigit(low\_byte)\ !=\ 0;}
\DoxyCodeLine{01961\ \}}
\DoxyCodeLine{01962\ }
\DoxyCodeLine{01963\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}\ ToLower(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01964\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(tolower(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)));}
\DoxyCodeLine{01965\ \}}
\DoxyCodeLine{01966\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}\ ToUpper(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01967\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(toupper(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)));}
\DoxyCodeLine{01968\ \}}
\DoxyCodeLine{01969\ }
\DoxyCodeLine{01970\ \textcolor{keyword}{inline}\ std::string\ StripTrailingSpaces(std::string\ str)\ \{}
\DoxyCodeLine{01971\ \ \ std::string::iterator\ it\ =\ str.end();}
\DoxyCodeLine{01972\ \ \ \textcolor{keywordflow}{while}\ (it\ !=\ str.begin()\ \&\&\ IsSpace(*-\/-\/it))\ it\ =\ str.erase(it);}
\DoxyCodeLine{01973\ \ \ \textcolor{keywordflow}{return}\ str;}
\DoxyCodeLine{01974\ \}}
\DoxyCodeLine{01975\ }
\DoxyCodeLine{01976\ \textcolor{comment}{//\ The\ testing::internal::posix\ namespace\ holds\ wrappers\ for\ common}}
\DoxyCodeLine{01977\ \textcolor{comment}{//\ POSIX\ functions.\ \ These\ wrappers\ hide\ the\ differences\ between}}
\DoxyCodeLine{01978\ \textcolor{comment}{//\ Windows/MSVC\ and\ POSIX\ systems.\ \ Since\ some\ compilers\ define\ these}}
\DoxyCodeLine{01979\ \textcolor{comment}{//\ standard\ functions\ as\ macros,\ the\ wrapper\ cannot\ have\ the\ same\ name}}
\DoxyCodeLine{01980\ \textcolor{comment}{//\ as\ the\ wrapped\ function.}}
\DoxyCodeLine{01981\ }
\DoxyCodeLine{01982\ \textcolor{keyword}{namespace\ }posix\ \{}
\DoxyCodeLine{01983\ }
\DoxyCodeLine{01984\ \textcolor{comment}{//\ File\ system\ porting.}}
\DoxyCodeLine{01985\ \textcolor{comment}{//\ Note:\ Not\ every\ I/O-\/related\ function\ is\ related\ to\ file\ systems,\ so\ don't}}
\DoxyCodeLine{01986\ \textcolor{comment}{//\ just\ disable\ all\ of\ them\ here.\ For\ example,\ fileno()\ and\ isatty(),\ etc.\ must}}
\DoxyCodeLine{01987\ \textcolor{comment}{//\ always\ be\ available\ in\ order\ to\ detect\ if\ a\ pipe\ points\ to\ a\ terminal.}}
\DoxyCodeLine{01988\ \textcolor{preprocessor}{\#ifdef\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{01989\ }
\DoxyCodeLine{01990\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\_stat\ StatStruct;}
\DoxyCodeLine{01991\ }
\DoxyCodeLine{01992\ \textcolor{preprocessor}{\#ifdef\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{01993\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ FileNo(FILE*\ file)\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\_fileno(file));\ \}}
\DoxyCodeLine{01994\ \textcolor{comment}{//\ Stat(),\ RmDir(),\ and\ IsDir()\ are\ not\ needed\ on\ Windows\ CE\ at\ this}}
\DoxyCodeLine{01995\ \textcolor{comment}{//\ time\ and\ thus\ not\ defined\ there.}}
\DoxyCodeLine{01996\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01997\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ FileNo(FILE*\ file)\ \{\ \textcolor{keywordflow}{return}\ \_fileno(file);\ \}}
\DoxyCodeLine{01998\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_FILE\_SYSTEM}}
\DoxyCodeLine{01999\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Stat(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ StatStruct*\ buf)\ \{\ \textcolor{keywordflow}{return}\ \_stat(path,\ buf);\ \}}
\DoxyCodeLine{02000\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ RmDir(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ dir)\ \{\ \textcolor{keywordflow}{return}\ \_rmdir(dir);\ \}}
\DoxyCodeLine{02001\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsDir(\textcolor{keyword}{const}\ StatStruct\&\ st)\ \{\ \textcolor{keywordflow}{return}\ (\_S\_IFDIR\ \&\ st.st\_mode)\ !=\ 0;\ \}}
\DoxyCodeLine{02002\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02003\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02004\ }
\DoxyCodeLine{02005\ \textcolor{preprocessor}{\#elif\ defined(GTEST\_OS\_ESP8266)}}
\DoxyCodeLine{02006\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }stat\ StatStruct;}
\DoxyCodeLine{02007\ }
\DoxyCodeLine{02008\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ FileNo(FILE*\ file)\ \{\ \textcolor{keywordflow}{return}\ fileno(file);\ \}}
\DoxyCodeLine{02009\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_FILE\_SYSTEM}}
\DoxyCodeLine{02010\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Stat(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ StatStruct*\ buf)\ \{}
\DoxyCodeLine{02011\ \ \ \textcolor{comment}{//\ stat\ function\ not\ implemented\ on\ ESP8266}}
\DoxyCodeLine{02012\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02013\ \}}
\DoxyCodeLine{02014\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ RmDir(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ dir)\ \{\ \textcolor{keywordflow}{return}\ rmdir(dir);\ \}}
\DoxyCodeLine{02015\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsDir(\textcolor{keyword}{const}\ StatStruct\&\ st)\ \{\ \textcolor{keywordflow}{return}\ S\_ISDIR(st.st\_mode);\ \}}
\DoxyCodeLine{02016\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02017\ }
\DoxyCodeLine{02018\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02019\ }
\DoxyCodeLine{02020\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }stat\ StatStruct;}
\DoxyCodeLine{02021\ }
\DoxyCodeLine{02022\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ FileNo(FILE*\ file)\ \{\ \textcolor{keywordflow}{return}\ fileno(file);\ \}}
\DoxyCodeLine{02023\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_FILE\_SYSTEM}}
\DoxyCodeLine{02024\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Stat(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ StatStruct*\ buf)\ \{\ \textcolor{keywordflow}{return}\ stat(path,\ buf);\ \}}
\DoxyCodeLine{02025\ \textcolor{preprocessor}{\#ifdef\ GTEST\_OS\_QURT}}
\DoxyCodeLine{02026\ \textcolor{comment}{//\ QuRT\ doesn't\ support\ any\ directory\ functions,\ including\ rmdir}}
\DoxyCodeLine{02027\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ RmDir(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*)\ \{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{02028\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02029\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ RmDir(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ dir)\ \{\ \textcolor{keywordflow}{return}\ rmdir(dir);\ \}}
\DoxyCodeLine{02030\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02031\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsDir(\textcolor{keyword}{const}\ StatStruct\&\ st)\ \{\ \textcolor{keywordflow}{return}\ S\_ISDIR(st.st\_mode);\ \}}
\DoxyCodeLine{02032\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02033\ }
\DoxyCodeLine{02034\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{02035\ }
\DoxyCodeLine{02036\ \textcolor{comment}{//\ Other\ functions\ with\ a\ different\ name\ on\ Windows.}}
\DoxyCodeLine{02037\ }
\DoxyCodeLine{02038\ \textcolor{preprocessor}{\#ifdef\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{02039\ }
\DoxyCodeLine{02040\ \textcolor{preprocessor}{\#ifdef\ \_\_BORLANDC\_\_}}
\DoxyCodeLine{02041\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ DoIsATTY(\textcolor{keywordtype}{int}\ fd)\ \{\ \textcolor{keywordflow}{return}\ isatty(fd);\ \}}
\DoxyCodeLine{02042\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ StrCaseCmp(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s2)\ \{}
\DoxyCodeLine{02043\ \ \ \textcolor{keywordflow}{return}\ stricmp(s1,\ s2);}
\DoxyCodeLine{02044\ \}}
\DoxyCodeLine{02045\ \textcolor{preprocessor}{\#else\ \ }\textcolor{comment}{//\ !\_\_BORLANDC\_\_}}
\DoxyCodeLine{02046\ \textcolor{preprocessor}{\#if\ defined(GTEST\_OS\_WINDOWS\_MOBILE)\ ||\ defined(GTEST\_OS\_ZOS)\ ||\ \(\backslash\)}}
\DoxyCodeLine{02047\ \textcolor{preprocessor}{\ \ \ \ defined(GTEST\_OS\_IOS)\ ||\ defined(GTEST\_OS\_WINDOWS\_PHONE)\ ||\ \ \(\backslash\)}}
\DoxyCodeLine{02048\ \textcolor{preprocessor}{\ \ \ \ defined(GTEST\_OS\_WINDOWS\_RT)\ ||\ defined(ESP\_PLATFORM)}}
\DoxyCodeLine{02049\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ DoIsATTY(\textcolor{keywordtype}{int}\ \textcolor{comment}{/*\ fd\ */})\ \{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{02050\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02051\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ DoIsATTY(\textcolor{keywordtype}{int}\ fd)\ \{\ \textcolor{keywordflow}{return}\ \_isatty(fd);\ \}}
\DoxyCodeLine{02052\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02053\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ StrCaseCmp(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s2)\ \{}
\DoxyCodeLine{02054\ \ \ \textcolor{keywordflow}{return}\ \_stricmp(s1,\ s2);}
\DoxyCodeLine{02055\ \}}
\DoxyCodeLine{02056\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_BORLANDC\_\_}}
\DoxyCodeLine{02057\ }
\DoxyCodeLine{02058\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02059\ }
\DoxyCodeLine{02060\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ DoIsATTY(\textcolor{keywordtype}{int}\ fd)\ \{\ \textcolor{keywordflow}{return}\ isatty(fd);\ \}}
\DoxyCodeLine{02061\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ StrCaseCmp(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s2)\ \{}
\DoxyCodeLine{02062\ \ \ \textcolor{keywordflow}{return}\ strcasecmp(s1,\ s2);}
\DoxyCodeLine{02063\ \}}
\DoxyCodeLine{02064\ }
\DoxyCodeLine{02065\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{02066\ }
\DoxyCodeLine{02067\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ IsATTY(\textcolor{keywordtype}{int}\ fd)\ \{}
\DoxyCodeLine{02068\ \ \ \textcolor{comment}{//\ DoIsATTY\ might\ change\ errno\ (for\ example\ ENOTTY\ in\ case\ you\ redirect\ stdout}}
\DoxyCodeLine{02069\ \ \ \textcolor{comment}{//\ to\ a\ file\ on\ Linux),\ which\ is\ unexpected,\ so\ save\ the\ previous\ value,\ and}}
\DoxyCodeLine{02070\ \ \ \textcolor{comment}{//\ restore\ it\ after\ the\ call.}}
\DoxyCodeLine{02071\ \ \ \textcolor{keywordtype}{int}\ savedErrno\ =\ errno;}
\DoxyCodeLine{02072\ \ \ \textcolor{keywordtype}{int}\ isAttyValue\ =\ DoIsATTY(fd);}
\DoxyCodeLine{02073\ \ \ errno\ =\ savedErrno;}
\DoxyCodeLine{02074\ }
\DoxyCodeLine{02075\ \ \ \textcolor{keywordflow}{return}\ isAttyValue;}
\DoxyCodeLine{02076\ \}}
\DoxyCodeLine{02077\ }
\DoxyCodeLine{02078\ \textcolor{comment}{//\ Functions\ deprecated\ by\ MSVC\ 8.0.}}
\DoxyCodeLine{02079\ }
\DoxyCodeLine{02080\ GTEST\_DISABLE\_MSC\_DEPRECATED\_PUSH\_()}
\DoxyCodeLine{02081\ }
\DoxyCodeLine{02082\ \textcolor{comment}{//\ ChDir(),\ FReopen(),\ FDOpen(),\ Read(),\ Write(),\ Close(),\ and}}
\DoxyCodeLine{02083\ \textcolor{comment}{//\ StrError()\ aren't\ needed\ on\ Windows\ CE\ at\ this\ time\ and\ thus\ not}}
\DoxyCodeLine{02084\ \textcolor{comment}{//\ defined\ there.}}
\DoxyCodeLine{02085\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_FILE\_SYSTEM}}
\DoxyCodeLine{02086\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_OS\_WINDOWS\_MOBILE)\ \&\&\ !defined(GTEST\_OS\_WINDOWS\_PHONE)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{02087\ \textcolor{preprocessor}{\ \ \ \ !defined(GTEST\_OS\_WINDOWS\_RT)\ \&\&\ !defined(GTEST\_OS\_WINDOWS\_GAMES)\ \&\&\ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02088\ \textcolor{preprocessor}{\ \ \ \ !defined(GTEST\_OS\_ESP8266)\ \&\&\ !defined(GTEST\_OS\_XTENSA)\ \&\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02089\ \textcolor{preprocessor}{\ \ \ \ !defined(GTEST\_OS\_QURT)}}
\DoxyCodeLine{02090\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ ChDir(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ dir)\ \{\ \textcolor{keywordflow}{return}\ chdir(dir);\ \}}
\DoxyCodeLine{02091\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02092\ \textcolor{keyword}{inline}\ FILE*\ FOpen(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ mode)\ \{}
\DoxyCodeLine{02093\ \textcolor{preprocessor}{\#if\ defined(GTEST\_OS\_WINDOWS)\ \&\&\ !defined(GTEST\_OS\_WINDOWS\_MINGW)}}
\DoxyCodeLine{02094\ \ \ \textcolor{keyword}{struct\ }wchar\_codecvt\ :\ \textcolor{keyword}{public}\ std::codecvt<wchar\_t,\ char,\ std::mbstate\_t>\ \{\};}
\DoxyCodeLine{02095\ \ \ std::wstring\_convert<wchar\_codecvt>\ converter;}
\DoxyCodeLine{02096\ \ \ std::wstring\ wide\_path\ =\ converter.from\_bytes(path);}
\DoxyCodeLine{02097\ \ \ std::wstring\ wide\_mode\ =\ converter.from\_bytes(mode);}
\DoxyCodeLine{02098\ \ \ \textcolor{keywordflow}{return}\ \_wfopen(wide\_path.c\_str(),\ wide\_mode.c\_str());}
\DoxyCodeLine{02099\ \textcolor{preprocessor}{\#else\ \ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS\ \&\&\ !GTEST\_OS\_WINDOWS\_MINGW}}
\DoxyCodeLine{02100\ \ \ \textcolor{keywordflow}{return}\ fopen(path,\ mode);}
\DoxyCodeLine{02101\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS\ \&\&\ !GTEST\_OS\_WINDOWS\_MINGW}}
\DoxyCodeLine{02102\ \}}
\DoxyCodeLine{02103\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_OS\_WINDOWS\_MOBILE)\ \&\&\ !defined(GTEST\_OS\_QURT)}}
\DoxyCodeLine{02104\ \textcolor{keyword}{inline}\ FILE*\ FReopen(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ mode,\ FILE*\ stream)\ \{}
\DoxyCodeLine{02105\ \ \ \textcolor{keywordflow}{return}\ freopen(path,\ mode,\ stream);}
\DoxyCodeLine{02106\ \}}
\DoxyCodeLine{02107\ \textcolor{keyword}{inline}\ FILE*\ FDOpen(\textcolor{keywordtype}{int}\ fd,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ mode)\ \{\ \textcolor{keywordflow}{return}\ fdopen(fd,\ mode);\ \}}
\DoxyCodeLine{02108\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !GTEST\_OS\_WINDOWS\_MOBILE\ \&\&\ !GTEST\_OS\_QURT}}
\DoxyCodeLine{02109\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ FClose(FILE*\ fp)\ \{\ \textcolor{keywordflow}{return}\ fclose(fp);\ \}}
\DoxyCodeLine{02110\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_OS\_WINDOWS\_MOBILE)\ \&\&\ !defined(GTEST\_OS\_QURT)}}
\DoxyCodeLine{02111\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Read(\textcolor{keywordtype}{int}\ fd,\ \textcolor{keywordtype}{void}*\ buf,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ count)\ \{}
\DoxyCodeLine{02112\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(read(fd,\ buf,\ count));}
\DoxyCodeLine{02113\ \}}
\DoxyCodeLine{02114\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Write(\textcolor{keywordtype}{int}\ fd,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ buf,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ count)\ \{}
\DoxyCodeLine{02115\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(write(fd,\ buf,\ count));}
\DoxyCodeLine{02116\ \}}
\DoxyCodeLine{02117\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Close(\textcolor{keywordtype}{int}\ fd)\ \{\ \textcolor{keywordflow}{return}\ close(fd);\ \}}
\DoxyCodeLine{02118\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !GTEST\_OS\_WINDOWS\_MOBILE\ \&\&\ !GTEST\_OS\_QURT}}
\DoxyCodeLine{02119\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_FILE\_SYSTEM}}
\DoxyCodeLine{02120\ }
\DoxyCodeLine{02121\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_OS\_WINDOWS\_MOBILE)\ \&\&\ !defined(GTEST\_OS\_QURT)}}
\DoxyCodeLine{02122\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ StrError(\textcolor{keywordtype}{int}\ errnum)\ \{\ \textcolor{keywordflow}{return}\ strerror(errnum);\ \}}
\DoxyCodeLine{02123\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !GTEST\_OS\_WINDOWS\_MOBILE\ \&\&\ !GTEST\_OS\_QURT}}
\DoxyCodeLine{02124\ }
\DoxyCodeLine{02125\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ GetEnv(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name)\ \{}
\DoxyCodeLine{02126\ \textcolor{preprocessor}{\#if\ defined(GTEST\_OS\_WINDOWS\_MOBILE)\ ||\ defined(GTEST\_OS\_WINDOWS\_PHONE)\ ||\ \(\backslash\)}}
\DoxyCodeLine{02127\ \textcolor{preprocessor}{\ \ \ \ defined(GTEST\_OS\_ESP8266)\ ||\ defined(GTEST\_OS\_XTENSA)\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02128\ \textcolor{preprocessor}{\ \ \ \ defined(GTEST\_OS\_QURT)}}
\DoxyCodeLine{02129\ \ \ \textcolor{comment}{//\ We\ are\ on\ an\ embedded\ platform,\ which\ has\ no\ environment\ variables.}}
\DoxyCodeLine{02130\ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}\textcolor{keyword}{>}(name);\ \ \textcolor{comment}{//\ To\ prevent\ 'unused\ argument'\ warning.}}
\DoxyCodeLine{02131\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{02132\ \textcolor{preprocessor}{\#elif\ defined(\_\_BORLANDC\_\_)\ ||\ defined(\_\_SunOS\_5\_8)\ ||\ defined(\_\_SunOS\_5\_9)}}
\DoxyCodeLine{02133\ \ \ \textcolor{comment}{//\ Environment\ variables\ which\ we\ programmatically\ clear\ will\ be\ set\ to\ the}}
\DoxyCodeLine{02134\ \ \ \textcolor{comment}{//\ empty\ string\ rather\ than\ unset\ (NULL).\ \ Handle\ that\ case.}}
\DoxyCodeLine{02135\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \textcolor{keyword}{const}\ env\ =\ getenv(name);}
\DoxyCodeLine{02136\ \ \ \textcolor{keywordflow}{return}\ (env\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ env[0]\ !=\ \textcolor{charliteral}{'\(\backslash\)0'})\ ?\ env\ :\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{02137\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02138\ \ \ \textcolor{keywordflow}{return}\ getenv(name);}
\DoxyCodeLine{02139\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02140\ \}}
\DoxyCodeLine{02141\ }
\DoxyCodeLine{02142\ GTEST\_DISABLE\_MSC\_DEPRECATED\_POP\_()}
\DoxyCodeLine{02143\ }
\DoxyCodeLine{02144\ \textcolor{preprocessor}{\#ifdef\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02145\ \textcolor{comment}{//\ Windows\ CE\ has\ no\ C\ library.\ The\ abort()\ function\ is\ used\ in}}
\DoxyCodeLine{02146\ \textcolor{comment}{//\ several\ places\ in\ Google\ Test.\ This\ implementation\ provides\ a\ reasonable}}
\DoxyCodeLine{02147\ \textcolor{comment}{//\ imitation\ of\ standard\ behaviour.}}
\DoxyCodeLine{02148\ [[noreturn]]\ \textcolor{keywordtype}{void}\ Abort();}
\DoxyCodeLine{02149\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02150\ [[noreturn]]\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Abort()\ \{\ abort();\ \}}
\DoxyCodeLine{02151\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02152\ }
\DoxyCodeLine{02153\ \}\ \ \textcolor{comment}{//\ namespace\ posix}}
\DoxyCodeLine{02154\ }
\DoxyCodeLine{02155\ \textcolor{comment}{//\ MSVC\ "{}deprecates"{}\ snprintf\ and\ issues\ warnings\ wherever\ it\ is\ used.\ \ In}}
\DoxyCodeLine{02156\ \textcolor{comment}{//\ order\ to\ avoid\ these\ warnings,\ we\ need\ to\ use\ \_snprintf\ or\ \_snprintf\_s\ on}}
\DoxyCodeLine{02157\ \textcolor{comment}{//\ MSVC-\/based\ platforms.\ \ We\ map\ the\ GTEST\_SNPRINTF\_\ macro\ to\ the\ appropriate}}
\DoxyCodeLine{02158\ \textcolor{comment}{//\ function\ in\ order\ to\ achieve\ that.\ \ We\ use\ macro\ definition\ here\ because}}
\DoxyCodeLine{02159\ \textcolor{comment}{//\ snprintf\ is\ a\ variadic\ function.}}
\DoxyCodeLine{02160\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)\ \&\&\ !defined(GTEST\_OS\_WINDOWS\_MOBILE)}}
\DoxyCodeLine{02161\ \textcolor{comment}{//\ MSVC\ 2005\ and\ above\ support\ variadic\ macros.}}
\DoxyCodeLine{02162\ \textcolor{preprocessor}{\#define\ GTEST\_SNPRINTF\_(buffer,\ size,\ format,\ ...)\ \(\backslash\)}}
\DoxyCodeLine{02163\ \textcolor{preprocessor}{\ \ \_snprintf\_s(buffer,\ size,\ size,\ format,\ \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{02164\ \textcolor{preprocessor}{\#elif\ defined(\_MSC\_VER)}}
\DoxyCodeLine{02165\ \textcolor{comment}{//\ Windows\ CE\ does\ not\ define\ \_snprintf\_s}}
\DoxyCodeLine{02166\ \textcolor{preprocessor}{\#define\ GTEST\_SNPRINTF\_\ \_snprintf}}
\DoxyCodeLine{02167\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02168\ \textcolor{preprocessor}{\#define\ GTEST\_SNPRINTF\_\ snprintf}}
\DoxyCodeLine{02169\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02170\ }
\DoxyCodeLine{02171\ \textcolor{comment}{//\ The\ biggest\ signed\ integer\ type\ the\ compiler\ supports.}}
\DoxyCodeLine{02172\ \textcolor{comment}{//}}
\DoxyCodeLine{02173\ \textcolor{comment}{//\ long\ long\ is\ guaranteed\ to\ be\ at\ least\ 64-\/bits\ in\ C++11.}}
\DoxyCodeLine{02174\ \textcolor{keyword}{using\ }BiggestInt\ =\ \textcolor{keywordtype}{long}\ long;\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{02175\ }
\DoxyCodeLine{02176\ \textcolor{comment}{//\ The\ maximum\ number\ a\ BiggestInt\ can\ represent.}}
\DoxyCodeLine{02177\ \textcolor{keyword}{constexpr}\ BiggestInt\ kMaxBiggestInt\ =\ (std::numeric\_limits<BiggestInt>::max)();}
\DoxyCodeLine{02178\ }
\DoxyCodeLine{02179\ \textcolor{comment}{//\ This\ template\ class\ serves\ as\ a\ compile-\/time\ function\ from\ size\ to}}
\DoxyCodeLine{02180\ \textcolor{comment}{//\ type.\ \ It\ maps\ a\ size\ in\ bytes\ to\ a\ primitive\ type\ with\ that}}
\DoxyCodeLine{02181\ \textcolor{comment}{//\ size.\ e.g.}}
\DoxyCodeLine{02182\ \textcolor{comment}{//}}
\DoxyCodeLine{02183\ \textcolor{comment}{//\ \ \ TypeWithSize<4>::UInt}}
\DoxyCodeLine{02184\ \textcolor{comment}{//}}
\DoxyCodeLine{02185\ \textcolor{comment}{//\ is\ typedef-\/ed\ to\ be\ unsigned\ int\ (unsigned\ integer\ made\ up\ of\ 4}}
\DoxyCodeLine{02186\ \textcolor{comment}{//\ bytes).}}
\DoxyCodeLine{02187\ \textcolor{comment}{//}}
\DoxyCodeLine{02188\ \textcolor{comment}{//\ Such\ functionality\ should\ belong\ to\ STL,\ but\ I\ cannot\ find\ it}}
\DoxyCodeLine{02189\ \textcolor{comment}{//\ there.}}
\DoxyCodeLine{02190\ \textcolor{comment}{//}}
\DoxyCodeLine{02191\ \textcolor{comment}{//\ Google\ Test\ uses\ this\ class\ in\ the\ implementation\ of\ floating-\/point}}
\DoxyCodeLine{02192\ \textcolor{comment}{//\ comparison.}}
\DoxyCodeLine{02193\ \textcolor{comment}{//}}
\DoxyCodeLine{02194\ \textcolor{comment}{//\ For\ now\ it\ only\ handles\ UInt\ (unsigned\ int)\ as\ that's\ all\ Google\ Test}}
\DoxyCodeLine{02195\ \textcolor{comment}{//\ needs.\ \ Other\ types\ can\ be\ easily\ added\ in\ the\ future\ if\ need}}
\DoxyCodeLine{02196\ \textcolor{comment}{//\ arises.}}
\DoxyCodeLine{02197\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{size\_t}\ size>}
\DoxyCodeLine{02198\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtesting_1_1internal_1_1TypeWithSize}{TypeWithSize}}\ \{}
\DoxyCodeLine{02199\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02200\ \ \ \textcolor{comment}{//\ This\ prevents\ the\ user\ from\ using\ TypeWithSize<N>\ with\ incorrect}}
\DoxyCodeLine{02201\ \ \ \textcolor{comment}{//\ values\ of\ N.}}
\DoxyCodeLine{02202\ \ \ \textcolor{keyword}{using\ }UInt\ =\ void;}
\DoxyCodeLine{02203\ \};}
\DoxyCodeLine{02204\ }
\DoxyCodeLine{02205\ \textcolor{comment}{//\ The\ specialization\ for\ size\ 4.}}
\DoxyCodeLine{02206\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{02207\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtesting_1_1internal_1_1TypeWithSize}{TypeWithSize}}<4>\ \{}
\DoxyCodeLine{02208\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02209\ \ \ \textcolor{keyword}{using\ }Int\ =\ std::int32\_t;}
\DoxyCodeLine{02210\ \ \ \textcolor{keyword}{using\ }UInt\ =\ std::uint32\_t;}
\DoxyCodeLine{02211\ \};}
\DoxyCodeLine{02212\ }
\DoxyCodeLine{02213\ \textcolor{comment}{//\ The\ specialization\ for\ size\ 8.}}
\DoxyCodeLine{02214\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{02215\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtesting_1_1internal_1_1TypeWithSize}{TypeWithSize}}<8>\ \{}
\DoxyCodeLine{02216\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02217\ \ \ \textcolor{keyword}{using\ }Int\ =\ std::int64\_t;}
\DoxyCodeLine{02218\ \ \ \textcolor{keyword}{using\ }UInt\ =\ std::uint64\_t;}
\DoxyCodeLine{02219\ \};}
\DoxyCodeLine{02220\ }
\DoxyCodeLine{02221\ \textcolor{comment}{//\ Integer\ types\ of\ known\ sizes.}}
\DoxyCodeLine{02222\ \textcolor{keyword}{using\ }TimeInMillis\ =\ int64\_t;\ \ \textcolor{comment}{//\ Represents\ time\ in\ milliseconds.}}
\DoxyCodeLine{02223\ }
\DoxyCodeLine{02224\ \textcolor{comment}{//\ Utilities\ for\ command\ line\ flags\ and\ environment\ variables.}}
\DoxyCodeLine{02225\ }
\DoxyCodeLine{02226\ \textcolor{comment}{//\ Macro\ for\ referencing\ flags.}}
\DoxyCodeLine{02227\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_FLAG)}}
\DoxyCodeLine{02228\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_NAME\_(name)\ gtest\_\#\#name}}
\DoxyCodeLine{02229\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG(name)\ FLAGS\_gtest\_\#\#name}}
\DoxyCodeLine{02230\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_FLAG)}}
\DoxyCodeLine{02231\ }
\DoxyCodeLine{02232\ \textcolor{comment}{//\ Pick\ a\ command\ line\ flags\ implementation.}}
\DoxyCodeLine{02233\ \textcolor{preprocessor}{\#ifdef\ GTEST\_INTERNAL\_HAS\_ABSL\_FLAGS}}
\DoxyCodeLine{02234\ }
\DoxyCodeLine{02235\ \textcolor{comment}{//\ Macros\ for\ defining\ flags.}}
\DoxyCodeLine{02236\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_bool\_(name,\ default\_val,\ doc)\ \(\backslash\)}}
\DoxyCodeLine{02237\ \textcolor{preprocessor}{\ \ ABSL\_FLAG(bool,\ GTEST\_FLAG\_NAME\_(name),\ default\_val,\ doc)}}
\DoxyCodeLine{02238\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_int32\_(name,\ default\_val,\ doc)\ \(\backslash\)}}
\DoxyCodeLine{02239\ \textcolor{preprocessor}{\ \ ABSL\_FLAG(int32\_t,\ GTEST\_FLAG\_NAME\_(name),\ default\_val,\ doc)}}
\DoxyCodeLine{02240\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_string\_(name,\ default\_val,\ doc)\ \(\backslash\)}}
\DoxyCodeLine{02241\ \textcolor{preprocessor}{\ \ ABSL\_FLAG(std::string,\ GTEST\_FLAG\_NAME\_(name),\ default\_val,\ doc)}}
\DoxyCodeLine{02242\ }
\DoxyCodeLine{02243\ \textcolor{comment}{//\ Macros\ for\ declaring\ flags.}}
\DoxyCodeLine{02244\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_bool\_(name)\ \(\backslash\)}}
\DoxyCodeLine{02245\ \textcolor{preprocessor}{\ \ ABSL\_DECLARE\_FLAG(bool,\ GTEST\_FLAG\_NAME\_(name))}}
\DoxyCodeLine{02246\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_int32\_(name)\ \(\backslash\)}}
\DoxyCodeLine{02247\ \textcolor{preprocessor}{\ \ ABSL\_DECLARE\_FLAG(int32\_t,\ GTEST\_FLAG\_NAME\_(name))}}
\DoxyCodeLine{02248\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_string\_(name)\ \(\backslash\)}}
\DoxyCodeLine{02249\ \textcolor{preprocessor}{\ \ ABSL\_DECLARE\_FLAG(std::string,\ GTEST\_FLAG\_NAME\_(name))}}
\DoxyCodeLine{02250\ }
\DoxyCodeLine{02251\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_SAVER\_\ ::absl::FlagSaver}}
\DoxyCodeLine{02252\ }
\DoxyCodeLine{02253\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_GET(name)\ ::absl::GetFlag(GTEST\_FLAG(name))}}
\DoxyCodeLine{02254\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_SET(name,\ value)\ \(\backslash\)}}
\DoxyCodeLine{02255\ \textcolor{preprocessor}{\ \ (void)(::absl::SetFlag(\&GTEST\_FLAG(name),\ value))}}
\DoxyCodeLine{02256\ \textcolor{preprocessor}{\#define\ GTEST\_USE\_OWN\_FLAGFILE\_FLAG\_\ 0}}
\DoxyCodeLine{02257\ }
\DoxyCodeLine{02258\ \textcolor{preprocessor}{\#undef\ GTEST\_INTERNAL\_HAS\_ABSL\_FLAGS}}
\DoxyCodeLine{02259\ \textcolor{preprocessor}{\#else\ \ }\textcolor{comment}{//\ ndef\ GTEST\_INTERNAL\_HAS\_ABSL\_FLAGS}}
\DoxyCodeLine{02260\ }
\DoxyCodeLine{02261\ \textcolor{comment}{//\ Macros\ for\ defining\ flags.}}
\DoxyCodeLine{02262\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_bool\_(name,\ default\_val,\ doc)\ \ \(\backslash\)}}
\DoxyCodeLine{02263\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02264\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ bool\ GTEST\_FLAG(name)\ =\ (default\_val);\ \(\backslash\)}}
\DoxyCodeLine{02265\ \textcolor{preprocessor}{\ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02266\ \textcolor{preprocessor}{\ \ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02267\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_int32\_(name,\ default\_val,\ doc)\ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02268\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02269\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ std::int32\_t\ GTEST\_FLAG(name)\ =\ (default\_val);\ \(\backslash\)}}
\DoxyCodeLine{02270\ \textcolor{preprocessor}{\ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02271\ \textcolor{preprocessor}{\ \ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02272\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_string\_(name,\ default\_val,\ doc)\ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02273\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02274\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ ::std::string\ GTEST\_FLAG(name)\ =\ (default\_val);\ \(\backslash\)}}
\DoxyCodeLine{02275\ \textcolor{preprocessor}{\ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02276\ \textcolor{preprocessor}{\ \ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02277\ }
\DoxyCodeLine{02278\ \textcolor{comment}{//\ Macros\ for\ declaring\ flags.}}
\DoxyCodeLine{02279\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_bool\_(name)\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02280\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02281\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ extern\ bool\ GTEST\_FLAG(name);\ \(\backslash\)}}
\DoxyCodeLine{02282\ \textcolor{preprocessor}{\ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02283\ \textcolor{preprocessor}{\ \ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02284\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_int32\_(name)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02285\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02286\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ extern\ std::int32\_t\ GTEST\_FLAG(name);\ \(\backslash\)}}
\DoxyCodeLine{02287\ \textcolor{preprocessor}{\ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02288\ \textcolor{preprocessor}{\ \ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02289\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_string\_(name)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02290\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02291\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ extern\ ::std::string\ GTEST\_FLAG(name);\ \(\backslash\)}}
\DoxyCodeLine{02292\ \textcolor{preprocessor}{\ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02293\ \textcolor{preprocessor}{\ \ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02294\ }
\DoxyCodeLine{02295\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_SAVER\_\ ::testing::internal::GTestFlagSaver}}
\DoxyCodeLine{02296\ }
\DoxyCodeLine{02297\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_GET(name)\ ::testing::GTEST\_FLAG(name)}}
\DoxyCodeLine{02298\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_SET(name,\ value)\ (void)(::testing::GTEST\_FLAG(name)\ =\ value)}}
\DoxyCodeLine{02299\ \textcolor{preprocessor}{\#define\ GTEST\_USE\_OWN\_FLAGFILE\_FLAG\_\ 1}}
\DoxyCodeLine{02300\ }
\DoxyCodeLine{02301\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_INTERNAL\_HAS\_ABSL\_FLAGS}}
\DoxyCodeLine{02302\ }
\DoxyCodeLine{02303\ \textcolor{comment}{//\ Thread\ annotations}}
\DoxyCodeLine{02304\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_)}}
\DoxyCodeLine{02305\ \textcolor{preprocessor}{\#define\ GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_(locks)}}
\DoxyCodeLine{02306\ \textcolor{preprocessor}{\#define\ GTEST\_LOCK\_EXCLUDED\_(locks)}}
\DoxyCodeLine{02307\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_)}}
\DoxyCodeLine{02308\ }
\DoxyCodeLine{02309\ \textcolor{comment}{//\ Parses\ 'str'\ for\ a\ 32-\/bit\ signed\ integer.\ \ If\ successful,\ writes\ the\ result}}
\DoxyCodeLine{02310\ \textcolor{comment}{//\ to\ *value\ and\ returns\ true;\ otherwise\ leaves\ *value\ unchanged\ and\ returns}}
\DoxyCodeLine{02311\ \textcolor{comment}{//\ false.}}
\DoxyCodeLine{02312\ GTEST\_API\_\ \textcolor{keywordtype}{bool}\ ParseInt32(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtesting_1_1Message}{Message}}\&\ src\_text,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,}
\DoxyCodeLine{02313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ int32\_t*\ value);}
\DoxyCodeLine{02314\ }
\DoxyCodeLine{02315\ \textcolor{comment}{//\ Parses\ a\ bool/int32\_t/string\ from\ the\ environment\ variable}}
\DoxyCodeLine{02316\ \textcolor{comment}{//\ corresponding\ to\ the\ given\ Google\ Test\ flag.}}
\DoxyCodeLine{02317\ \textcolor{keywordtype}{bool}\ BoolFromGTestEnv(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ flag,\ \textcolor{keywordtype}{bool}\ default\_val);}
\DoxyCodeLine{02318\ GTEST\_API\_\ int32\_t\ Int32FromGTestEnv(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ flag,\ int32\_t\ default\_val);}
\DoxyCodeLine{02319\ std::string\ OutputFlagAlsoCheckEnvVar();}
\DoxyCodeLine{02320\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ StringFromGTestEnv(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ flag,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ default\_val);}
\DoxyCodeLine{02321\ }
\DoxyCodeLine{02322\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02323\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02324\ }
\DoxyCodeLine{02325\ \textcolor{preprocessor}{\#if\ defined(\_\_cpp\_lib\_span)\ ||\ (GTEST\_INTERNAL\_HAS\_INCLUDE(<span>)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{02326\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GTEST\_INTERNAL\_CPLUSPLUS\_LANG\ >=\ 202002L)}}
\DoxyCodeLine{02327\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_STD\_SPAN\ 1}}
\DoxyCodeLine{02328\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_cpp\_lib\_span}}
\DoxyCodeLine{02329\ }
\DoxyCodeLine{02330\ \textcolor{preprocessor}{\#ifndef\ GTEST\_INTERNAL\_HAS\_STD\_SPAN}}
\DoxyCodeLine{02331\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_STD\_SPAN\ 0}}
\DoxyCodeLine{02332\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02333\ }
\DoxyCodeLine{02334\ \textcolor{preprocessor}{\#ifdef\ GTEST\_HAS\_ABSL}}
\DoxyCodeLine{02335\ \textcolor{comment}{//\ Always\ use\ absl::string\_view\ for\ Matcher<>\ specializations\ if\ googletest}}
\DoxyCodeLine{02336\ \textcolor{comment}{//\ is\ built\ with\ absl\ support.}}
\DoxyCodeLine{02337\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_STRING\_VIEW\ 1}}
\DoxyCodeLine{02338\ \textcolor{preprocessor}{\#include\ "{}absl/strings/string\_view.h"{}}}
\DoxyCodeLine{02339\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{02340\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{02341\ \textcolor{keyword}{using\ }StringView\ =\ ::absl::string\_view;}
\DoxyCodeLine{02342\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02343\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02344\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02345\ \textcolor{preprocessor}{\#if\ defined(\_\_cpp\_lib\_string\_view)\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02346\ \textcolor{preprocessor}{\ \ \ \ (GTEST\_INTERNAL\_HAS\_INCLUDE(<string\_view>)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{02347\ \textcolor{preprocessor}{\ \ \ \ \ GTEST\_INTERNAL\_CPLUSPLUS\_LANG\ >=\ 201703L)}}
\DoxyCodeLine{02348\ \textcolor{comment}{//\ Otherwise\ for\ C++17\ and\ higher\ use\ std::string\_view\ for\ Matcher<>}}
\DoxyCodeLine{02349\ \textcolor{comment}{//\ specializations.}}
\DoxyCodeLine{02350\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_STRING\_VIEW\ 1}}
\DoxyCodeLine{02351\ \textcolor{preprocessor}{\#include\ <string\_view>}}
\DoxyCodeLine{02352\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{02353\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{02354\ \textcolor{keyword}{using\ }StringView\ =\ ::std::string\_view;}
\DoxyCodeLine{02355\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02356\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02357\ \textcolor{comment}{//\ The\ case\ where\ absl\ is\ configured\ NOT\ to\ alias\ std::string\_view\ is\ not}}
\DoxyCodeLine{02358\ \textcolor{comment}{//\ supported.}}
\DoxyCodeLine{02359\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_cpp\_lib\_string\_view}}
\DoxyCodeLine{02360\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_ABSL}}
\DoxyCodeLine{02361\ }
\DoxyCodeLine{02362\ \textcolor{preprocessor}{\#ifndef\ GTEST\_INTERNAL\_HAS\_STRING\_VIEW}}
\DoxyCodeLine{02363\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_STRING\_VIEW\ 0}}
\DoxyCodeLine{02364\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02365\ }
\DoxyCodeLine{02366\ \textcolor{preprocessor}{\#if\ (defined(\_\_cpp\_lib\_three\_way\_comparison)\ ||\ \(\backslash\)}}
\DoxyCodeLine{02367\ \textcolor{preprocessor}{\ \ \ \ \ (GTEST\_INTERNAL\_HAS\_INCLUDE(<compare>)\ \&\&\ \ \(\backslash\)}}
\DoxyCodeLine{02368\ \textcolor{preprocessor}{\ \ \ \ \ \ GTEST\_INTERNAL\_CPLUSPLUS\_LANG\ >=\ 201907L))}}
\DoxyCodeLine{02369\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_COMPARE\_LIB\ 1}}
\DoxyCodeLine{02370\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02371\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_COMPARE\_LIB\ 0}}
\DoxyCodeLine{02372\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02373\ }
\DoxyCodeLine{02374\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}

\end{DoxyCode}
